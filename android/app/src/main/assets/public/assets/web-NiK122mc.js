var o=Object.defineProperty;var s=(r,t,e)=>t in r?o(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var l=(r,t,e)=>s(r,typeof t!="symbol"?t+"":t,e);import{W as i}from"./index-BegyoPZ3.js";class u extends i{constructor(){super(...arguments);l(this,"PREFIX","cap_sec_");l(this,"addPrefix",e=>this.PREFIX+e);l(this,"removePrefix",e=>e.replace(this.PREFIX,""))}async get(e){const a=localStorage.getItem(this.addPrefix(e.key));return a!==null?{value:atob(a)}:await Promise.reject(new Error("Item with given key does not exist"))}async set(e){return localStorage.setItem(this.addPrefix(e.key),btoa(e.value)),{value:!0}}async remove(e){if(localStorage.getItem(this.addPrefix(e.key))!=null)return localStorage.removeItem(this.addPrefix(e.key)),{value:!0};throw new Error("Item with given key does not exist")}async clear(){for(const e in localStorage)e.indexOf(this.PREFIX)===0&&localStorage.removeItem(e);return{value:!0}}async keys(){return{value:Object.keys(localStorage).filter(a=>a.indexOf(this.PREFIX)===0).map(this.removePrefix)}}async getPlatform(){return{value:"web"}}}export{u as SecureStoragePluginWeb};

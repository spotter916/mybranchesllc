var sx=e=>{throw TypeError(e)};var tf=(e,t,n)=>t.has(e)||sx("Cannot "+n);var C=(e,t,n)=>(tf(e,t,"read from private field"),n?n.call(e):t.get(e)),ue=(e,t,n)=>t.has(e)?sx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,r)=>(tf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),we=(e,t,n)=>(tf(e,t,"access private method"),n);var mc=(e,t,n,r)=>({set _(s){Y(e,t,s,n)},get _(){return C(e,t,r)}});function Mk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Aw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rw={exports:{}},lu={},Ow={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),Dk=Symbol.for("react.portal"),Fk=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),zk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),Bk=Symbol.for("react.forward_ref"),Vk=Symbol.for("react.suspense"),Hk=Symbol.for("react.memo"),Wk=Symbol.for("react.lazy"),ix=Symbol.iterator;function qk(e){return e===null||typeof e!="object"?null:(e=ix&&e[ix]||e["@@iterator"],typeof e=="function"?e:null)}var Mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Fw={};function io(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Mw}io.prototype.isReactComponent={};io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lw(){}Lw.prototype=io.prototype;function Qm(e,t,n){this.props=e,this.context=t,this.refs=Fw,this.updater=n||Mw}var Zm=Qm.prototype=new Lw;Zm.constructor=Qm;Dw(Zm,io.prototype);Zm.isPureReactComponent=!0;var ax=Array.isArray,$w=Object.prototype.hasOwnProperty,Xm={current:null},zw={key:!0,ref:!0,__self:!0,__source:!0};function Uw(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)$w.call(t,r)&&!zw.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Yl,type:e,key:a,ref:o,props:s,_owner:Xm.current}}function Kk(e,t){return{$$typeof:Yl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yl}function Gk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ox=/\/+/g;function nf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gk(""+e.key):t.toString(36)}function Bc(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yl:case Dk:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+nf(o,0):r,ax(s)?(n="",e!=null&&(n=e.replace(ox,"$&/")+"/"),Bc(s,t,n,"",function(d){return d})):s!=null&&(Jm(s)&&(s=Kk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ox,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ax(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+nf(a,l);o+=Bc(a,t,n,c,s)}else if(c=qk(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+nf(a,l++),o+=Bc(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pc(e,t,n){if(e==null)return e;var r=[],s=0;return Bc(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Yk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},Vc={transition:null},Qk={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Vc,ReactCurrentOwner:Xm};function Bw(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:pc,forEach:function(e,t,n){pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pc(e,function(){t++}),t},toArray:function(e){return pc(e,function(t){return t})||[]},only:function(e){if(!Jm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=io;Ce.Fragment=Fk;Ce.Profiler=$k;Ce.PureComponent=Qm;Ce.StrictMode=Lk;Ce.Suspense=Vk;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qk;Ce.act=Bw;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dw({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Xm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$w.call(t,c)&&!zw.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Yl,type:e.type,key:s,ref:a,props:r,_owner:o}};Ce.createContext=function(e){return e={$$typeof:Uk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zk,_context:e},e.Consumer=e};Ce.createElement=Uw;Ce.createFactory=function(e){var t=Uw.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:Bk,render:e}};Ce.isValidElement=Jm;Ce.lazy=function(e){return{$$typeof:Wk,_payload:{_status:-1,_result:e},_init:Yk}};Ce.memo=function(e,t){return{$$typeof:Hk,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Vc.transition;Vc.transition={};try{e()}finally{Vc.transition=t}};Ce.unstable_act=Bw;Ce.useCallback=function(e,t){return ln.current.useCallback(e,t)};Ce.useContext=function(e){return ln.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return ln.current.useEffect(e,t)};Ce.useId=function(){return ln.current.useId()};Ce.useImperativeHandle=function(e,t,n){return ln.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return ln.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return ln.current.useReducer(e,t,n)};Ce.useRef=function(e){return ln.current.useRef(e)};Ce.useState=function(e){return ln.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return ln.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return ln.current.useTransition()};Ce.version="18.3.1";Ow.exports=Ce;var m=Ow.exports;const xe=Aw(m),Vw=Mk({__proto__:null,default:xe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=m,Xk=Symbol.for("react.element"),Jk=Symbol.for("react.fragment"),eE=Object.prototype.hasOwnProperty,tE=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nE={key:!0,ref:!0,__self:!0,__source:!0};function Hw(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)eE.call(t,r)&&!nE.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Xk,type:e,key:a,ref:o,props:s,_owner:tE.current}}lu.Fragment=Jk;lu.jsx=Hw;lu.jsxs=Hw;Rw.exports=lu;var i=Rw.exports,Ww={exports:{}},En={},qw={exports:{}},Kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var X=M.length;M.push(B);e:for(;0<X;){var ae=X-1>>>1,Ee=M[ae];if(0<s(Ee,B))M[ae]=B,M[X]=Ee,X=ae;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],X=M.pop();if(X!==B){M[0]=X;e:for(var ae=0,Ee=M.length,nt=Ee>>>1;ae<nt;){var at=2*(ae+1)-1,Qt=M[at],bt=at+1,ie=M[bt];if(0>s(Qt,X))bt<Ee&&0>s(ie,Qt)?(M[ae]=ie,M[bt]=X,ae=bt):(M[ae]=Qt,M[at]=X,ae=at);else if(bt<Ee&&0>s(ie,X))M[ae]=ie,M[bt]=X,ae=bt;else break e}}return B}function s(M,B){var X=M.sortIndex-B.sortIndex;return X!==0?X:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,u=null,h=3,w=!1,b=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=M)r(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(d)}}function j(M){if(x=!1,y(M),!b)if(n(c)!==null)b=!0,H(N);else{var B=n(d);B!==null&&J(j,B.startTime-M)}}function N(M,B){b=!1,x&&(x=!1,p(_),_=-1),w=!0;var X=h;try{for(y(B),u=n(c);u!==null&&(!(u.expirationTime>B)||M&&!F());){var ae=u.callback;if(typeof ae=="function"){u.callback=null,h=u.priorityLevel;var Ee=ae(u.expirationTime<=B);B=e.unstable_now(),typeof Ee=="function"?u.callback=Ee:u===n(c)&&r(c),y(B)}else r(c);u=n(c)}if(u!==null)var nt=!0;else{var at=n(d);at!==null&&J(j,at.startTime-B),nt=!1}return nt}finally{u=null,h=X,w=!1}}var P=!1,E=null,_=-1,O=5,k=-1;function F(){return!(e.unstable_now()-k<O)}function R(){if(E!==null){var M=e.unstable_now();k=M;var B=!0;try{B=E(!0,M)}finally{B?T():(P=!1,E=null)}}else P=!1}var T;if(typeof g=="function")T=function(){g(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=R,T=function(){z.postMessage(null)}}else T=function(){v(R,0)};function H(M){E=M,P||(P=!0,T())}function J(M,B){_=v(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,H(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return M()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=h;h=M;try{return B()}finally{h=X}},e.unstable_scheduleCallback=function(M,B,X){var ae=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,M){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=X+Ee,M={id:f++,callback:B,priorityLevel:M,startTime:X,expirationTime:Ee,sortIndex:-1},X>ae?(M.sortIndex=X,t(d,M),n(c)===null&&M===n(d)&&(x?(p(_),_=-1):x=!0,J(j,X-ae))):(M.sortIndex=Ee,t(c,M),b||w||(b=!0,H(N))),M},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(M){var B=h;return function(){var X=h;h=B;try{return M.apply(this,arguments)}finally{h=X}}}})(Kw);qw.exports=Kw;var rE=qw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=m,kn=rE;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gw=new Set,il={};function Vi(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(il[e]=t,e=0;e<t.length;e++)Gw.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lh=Object.prototype.hasOwnProperty,iE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lx={},cx={};function aE(e){return lh.call(cx,e)?!0:lh.call(lx,e)?!1:iE.test(e)?cx[e]=!0:(lx[e]=!0,!1)}function oE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lE(e,t,n,r){if(t===null||typeof t>"u"||oE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ep=/[\-:]([a-z])/g;function tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ep,tp);Rt[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ep,tp);Rt[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ep,tp);Rt[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function np(e,t,n,r){var s=Rt.hasOwnProperty(t)?Rt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lE(t,n,s,r)&&(n=null),r||s===null?aE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yr=sE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),ta=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),Yw=Symbol.for("react.provider"),Qw=Symbol.for("react.context"),sp=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),Zw=Symbol.for("react.offscreen"),dx=Symbol.iterator;function yo(e){return e===null||typeof e!="object"?null:(e=dx&&e[dx]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,rf;function Mo(e){if(rf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rf=t&&t[1]||""}return`
`+rf+e}var sf=!1;function af(e,t){if(!e||sf)return"";sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mo(e):""}function cE(e){switch(e.tag){case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return e=af(e.type,!1),e;case 11:return e=af(e.type.render,!1),e;case 1:return e=af(e.type,!0),e;default:return""}}function fh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case na:return"Fragment";case ta:return"Portal";case ch:return"Profiler";case rp:return"StrictMode";case dh:return"Suspense";case uh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qw:return(e.displayName||"Context")+".Consumer";case Yw:return(e._context.displayName||"Context")+".Provider";case sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ip:return t=e.displayName||null,t!==null?t:fh(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return fh(e(t))}catch{}}return null}function dE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fh(t);case 8:return t===rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uE(e){var t=Xw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xc(e){e._valueTracker||(e._valueTracker=uE(e))}function Jw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hh(e,t){var n=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ux(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function e0(e,t){t=t.checked,t!=null&&np(e,"checked",t,!1)}function mh(e,t){e0(e,t);var n=Rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ph(e,t.type,n):t.hasOwnProperty("defaultValue")&&ph(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ph(e,t,n){(t!=="number"||ld(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Do=Array.isArray;function pa(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function gh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Do(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function t0(e,t){var n=Rs(t.value),r=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,r0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fE=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){fE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});function s0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function i0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=s0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hE=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vh(e,t){if(t){if(hE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function yh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bh=null,ga=null,xa=null;function px(e){if(e=Xl(e)){if(typeof bh!="function")throw Error(V(280));var t=e.stateNode;t&&(t=hu(t),bh(e.stateNode,e.type,t))}}function a0(e){ga?xa?xa.push(e):xa=[e]:ga=e}function o0(){if(ga){var e=ga,t=xa;if(xa=ga=null,px(e),t)for(e=0;e<t.length;e++)px(t[e])}}function l0(e,t){return e(t)}function c0(){}var of=!1;function d0(e,t,n){if(of)return e(t,n);of=!0;try{return l0(e,t,n)}finally{of=!1,(ga!==null||xa!==null)&&(c0(),o0())}}function ol(e,t){var n=e.stateNode;if(n===null)return null;var r=hu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var jh=!1;if($r)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){jh=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{jh=!1}function mE(e,t,n,r,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var qo=!1,cd=null,dd=!1,Nh=null,pE={onError:function(e){qo=!0,cd=e}};function gE(e,t,n,r,s,a,o,l,c){qo=!1,cd=null,mE.apply(pE,arguments)}function xE(e,t,n,r,s,a,o,l,c){if(gE.apply(this,arguments),qo){if(qo){var d=cd;qo=!1,cd=null}else throw Error(V(198));dd||(dd=!0,Nh=d)}}function Hi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gx(e){if(Hi(e)!==e)throw Error(V(188))}function vE(e){var t=e.alternate;if(!t){if(t=Hi(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return gx(s),e;if(a===r)return gx(s),t;a=a.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function f0(e){return e=vE(e),e!==null?h0(e):null}function h0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h0(e);if(t!==null)return t;e=e.sibling}return null}var m0=kn.unstable_scheduleCallback,xx=kn.unstable_cancelCallback,yE=kn.unstable_shouldYield,wE=kn.unstable_requestPaint,gt=kn.unstable_now,bE=kn.unstable_getCurrentPriorityLevel,op=kn.unstable_ImmediatePriority,p0=kn.unstable_UserBlockingPriority,ud=kn.unstable_NormalPriority,jE=kn.unstable_LowPriority,g0=kn.unstable_IdlePriority,cu=null,mr=null;function NE(e){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(cu,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:kE,SE=Math.log,CE=Math.LN2;function kE(e){return e>>>=0,e===0?32:31-(SE(e)/CE|0)|0}var yc=64,wc=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Fo(l):(a&=o,a!==0&&(r=Fo(a)))}else o=n&~s,o!==0?r=Fo(o):a!==0&&(r=Fo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qn(t),s=1<<n,r|=e[n],t&=~s;return r}function EE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _E(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Qn(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=EE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Sh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x0(){var e=yc;return yc<<=1,!(yc&4194240)&&(yc=64),e}function lf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ql(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=n}function PE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function lp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ke=0;function v0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y0,cp,w0,b0,j0,Ch=!1,bc=[],bs=null,js=null,Ns=null,ll=new Map,cl=new Map,os=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vx(e,t){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(t.pointerId)}}function bo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Xl(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function IE(e,t,n,r,s){switch(t){case"focusin":return bs=bo(bs,e,t,n,r,s),!0;case"dragenter":return js=bo(js,e,t,n,r,s),!0;case"mouseover":return Ns=bo(Ns,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ll.set(a,bo(ll.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,cl.set(a,bo(cl.get(a)||null,e,t,n,r,s)),!0}return!1}function N0(e){var t=ai(e.target);if(t!==null){var n=Hi(t);if(n!==null){if(t=n.tag,t===13){if(t=u0(n),t!==null){e.blockedOn=t,j0(e.priority,function(){w0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wh=r,n.target.dispatchEvent(r),wh=null}else return t=Xl(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function yx(e,t,n){Hc(e)&&n.delete(t)}function AE(){Ch=!1,bs!==null&&Hc(bs)&&(bs=null),js!==null&&Hc(js)&&(js=null),Ns!==null&&Hc(Ns)&&(Ns=null),ll.forEach(yx),cl.forEach(yx)}function jo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,AE)))}function dl(e){function t(s){return jo(s,e)}if(0<bc.length){jo(bc[0],e);for(var n=1;n<bc.length;n++){var r=bc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bs!==null&&jo(bs,e),js!==null&&jo(js,e),Ns!==null&&jo(Ns,e),ll.forEach(t),cl.forEach(t),n=0;n<os.length;n++)r=os[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)N0(n),n.blockedOn===null&&os.shift()}var va=Yr.ReactCurrentBatchConfig,hd=!0;function RE(e,t,n,r){var s=Ke,a=va.transition;va.transition=null;try{Ke=1,dp(e,t,n,r)}finally{Ke=s,va.transition=a}}function OE(e,t,n,r){var s=Ke,a=va.transition;va.transition=null;try{Ke=4,dp(e,t,n,r)}finally{Ke=s,va.transition=a}}function dp(e,t,n,r){if(hd){var s=kh(e,t,n,r);if(s===null)vf(e,t,r,md,n),vx(e,r);else if(IE(s,e,t,n,r))r.stopPropagation();else if(vx(e,r),t&4&&-1<TE.indexOf(e)){for(;s!==null;){var a=Xl(s);if(a!==null&&y0(a),a=kh(e,t,n,r),a===null&&vf(e,t,r,md,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else vf(e,t,r,null,n)}}var md=null;function kh(e,t,n,r){if(md=null,e=ap(r),e=ai(e),e!==null)if(t=Hi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=u0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return md=e,null}function S0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bE()){case op:return 1;case p0:return 4;case ud:case jE:return 16;case g0:return 536870912;default:return 16}default:return 16}}var ys=null,up=null,Wc=null;function C0(){if(Wc)return Wc;var e,t=up,n=t.length,r,s="value"in ys?ys.value:ys.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return Wc=s.slice(e,1<r?1-r:void 0)}function qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jc(){return!0}function wx(){return!1}function _n(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jc:wx,this.isPropagationStopped=wx,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),t}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=_n(ao),Zl=ut({},ao,{view:0,detail:0}),ME=_n(Zl),cf,df,No,du=ut({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(cf=e.screenX-No.screenX,df=e.screenY-No.screenY):df=cf=0,No=e),cf)},movementY:function(e){return"movementY"in e?e.movementY:df}}),bx=_n(du),DE=ut({},du,{dataTransfer:0}),FE=_n(DE),LE=ut({},Zl,{relatedTarget:0}),uf=_n(LE),$E=ut({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),zE=_n($E),UE=ut({},ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BE=_n(UE),VE=ut({},ao,{data:0}),jx=_n(VE),HE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qE[e])?!!t[e]:!1}function hp(){return KE}var GE=ut({},Zl,{key:function(e){if(e.key){var t=HE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hp,charCode:function(e){return e.type==="keypress"?qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YE=_n(GE),QE=ut({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nx=_n(QE),ZE=ut({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hp}),XE=_n(ZE),JE=ut({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),e2=_n(JE),t2=ut({},du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n2=_n(t2),r2=[9,13,27,32],mp=$r&&"CompositionEvent"in window,Ko=null;$r&&"documentMode"in document&&(Ko=document.documentMode);var s2=$r&&"TextEvent"in window&&!Ko,k0=$r&&(!mp||Ko&&8<Ko&&11>=Ko),Sx=" ",Cx=!1;function E0(e,t){switch(e){case"keyup":return r2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function i2(e,t){switch(e){case"compositionend":return _0(t);case"keypress":return t.which!==32?null:(Cx=!0,Sx);case"textInput":return e=t.data,e===Sx&&Cx?null:e;default:return null}}function a2(e,t){if(ra)return e==="compositionend"||!mp&&E0(e,t)?(e=C0(),Wc=up=ys=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k0&&t.locale!=="ko"?null:t.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o2[e.type]:t==="textarea"}function P0(e,t,n,r){a0(r),t=pd(t,"onChange"),0<t.length&&(n=new fp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Go=null,ul=null;function l2(e){z0(e,0)}function uu(e){var t=aa(e);if(Jw(t))return e}function c2(e,t){if(e==="change")return t}var T0=!1;if($r){var ff;if($r){var hf="oninput"in document;if(!hf){var Ex=document.createElement("div");Ex.setAttribute("oninput","return;"),hf=typeof Ex.oninput=="function"}ff=hf}else ff=!1;T0=ff&&(!document.documentMode||9<document.documentMode)}function _x(){Go&&(Go.detachEvent("onpropertychange",I0),ul=Go=null)}function I0(e){if(e.propertyName==="value"&&uu(ul)){var t=[];P0(t,ul,e,ap(e)),d0(l2,t)}}function d2(e,t,n){e==="focusin"?(_x(),Go=t,ul=n,Go.attachEvent("onpropertychange",I0)):e==="focusout"&&_x()}function u2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(ul)}function f2(e,t){if(e==="click")return uu(t)}function h2(e,t){if(e==="input"||e==="change")return uu(t)}function m2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:m2;function fl(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lh.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function Px(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tx(e,t){var n=Px(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Px(n)}}function A0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R0(){for(var e=window,t=ld();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ld(e.document)}return t}function pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p2(e){var t=R0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&A0(n.ownerDocument.documentElement,n)){if(r!==null&&pp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Tx(n,a);var o=Tx(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g2=$r&&"documentMode"in document&&11>=document.documentMode,sa=null,Eh=null,Yo=null,_h=!1;function Ix(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_h||sa==null||sa!==ld(r)||(r=sa,"selectionStart"in r&&pp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yo&&fl(Yo,r)||(Yo=r,r=pd(Eh,"onSelect"),0<r.length&&(t=new fp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sa)))}function Nc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ia={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},mf={},O0={};$r&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function fu(e){if(mf[e])return mf[e];if(!ia[e])return e;var t=ia[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in O0)return mf[e]=t[n];return e}var M0=fu("animationend"),D0=fu("animationiteration"),F0=fu("animationstart"),L0=fu("transitionend"),$0=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){$0.set(e,t),Vi(t,[e])}for(var pf=0;pf<Ax.length;pf++){var gf=Ax[pf],x2=gf.toLowerCase(),v2=gf[0].toUpperCase()+gf.slice(1);Ks(x2,"on"+v2)}Ks(M0,"onAnimationEnd");Ks(D0,"onAnimationIteration");Ks(F0,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(L0,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Rx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xE(r,t,void 0,e),e.currentTarget=null}function z0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Rx(s,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Rx(s,l,d),a=c}}}if(dd)throw e=Nh,dd=!1,Nh=null,e}function Je(e,t){var n=t[Rh];n===void 0&&(n=t[Rh]=new Set);var r=e+"__bubble";n.has(r)||(U0(t,e,2,!1),n.add(r))}function xf(e,t,n){var r=0;t&&(r|=4),U0(n,e,r,t)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function hl(e){if(!e[Sc]){e[Sc]=!0,Gw.forEach(function(n){n!=="selectionchange"&&(y2.has(n)||xf(n,!1,e),xf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sc]||(t[Sc]=!0,xf("selectionchange",!1,t))}}function U0(e,t,n,r){switch(S0(t)){case 1:var s=RE;break;case 4:s=OE;break;default:s=dp}n=s.bind(null,t,n,e),s=void 0,!jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vf(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ai(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}d0(function(){var d=a,f=ap(n),u=[];e:{var h=$0.get(e);if(h!==void 0){var w=fp,b=e;switch(e){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":w=YE;break;case"focusin":b="focus",w=uf;break;case"focusout":b="blur",w=uf;break;case"beforeblur":case"afterblur":w=uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=FE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=XE;break;case M0:case D0:case F0:w=zE;break;case L0:w=e2;break;case"scroll":w=ME;break;case"wheel":w=n2;break;case"copy":case"cut":case"paste":w=BE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Nx}var x=(t&4)!==0,v=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var g=d,y;g!==null;){y=g;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,p!==null&&(j=ol(g,p),j!=null&&x.push(ml(g,j,y)))),v)break;g=g.return}0<x.length&&(h=new w(h,b,null,n,f),u.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==wh&&(b=n.relatedTarget||n.fromElement)&&(ai(b)||b[zr]))break e;if((w||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,w?(b=n.relatedTarget||n.toElement,w=d,b=b?ai(b):null,b!==null&&(v=Hi(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=d),w!==b)){if(x=bx,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Nx,j="onPointerLeave",p="onPointerEnter",g="pointer"),v=w==null?h:aa(w),y=b==null?h:aa(b),h=new x(j,g+"leave",w,n,f),h.target=v,h.relatedTarget=y,j=null,ai(f)===d&&(x=new x(p,g+"enter",b,n,f),x.target=y,x.relatedTarget=v,j=x),v=j,w&&b)t:{for(x=w,p=b,g=0,y=x;y;y=Gi(y))g++;for(y=0,j=p;j;j=Gi(j))y++;for(;0<g-y;)x=Gi(x),g--;for(;0<y-g;)p=Gi(p),y--;for(;g--;){if(x===p||p!==null&&x===p.alternate)break t;x=Gi(x),p=Gi(p)}x=null}else x=null;w!==null&&Ox(u,h,w,x,!1),b!==null&&v!==null&&Ox(u,v,b,x,!0)}}e:{if(h=d?aa(d):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var N=c2;else if(kx(h))if(T0)N=h2;else{N=u2;var P=d2}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=f2);if(N&&(N=N(e,d))){P0(u,N,n,f);break e}P&&P(e,h,d),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&ph(h,"number",h.value)}switch(P=d?aa(d):window,e){case"focusin":(kx(P)||P.contentEditable==="true")&&(sa=P,Eh=d,Yo=null);break;case"focusout":Yo=Eh=sa=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Ix(u,n,f);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":Ix(u,n,f)}var E;if(mp)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ra?E0(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(k0&&n.locale!=="ko"&&(ra||_!=="onCompositionStart"?_==="onCompositionEnd"&&ra&&(E=C0()):(ys=f,up="value"in ys?ys.value:ys.textContent,ra=!0)),P=pd(d,_),0<P.length&&(_=new jx(_,e,null,n,f),u.push({event:_,listeners:P}),E?_.data=E:(E=_0(n),E!==null&&(_.data=E)))),(E=s2?i2(e,n):a2(e,n))&&(d=pd(d,"onBeforeInput"),0<d.length&&(f=new jx("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:d}),f.data=E))}z0(u,t)})}function ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ol(e,n),a!=null&&r.unshift(ml(e,a,s)),a=ol(e,t),a!=null&&r.push(ml(e,a,s))),e=e.return}return r}function Gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ox(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=ol(n,a),c!=null&&o.unshift(ml(n,c,l))):s||(c=ol(n,a),c!=null&&o.push(ml(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var w2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function Mx(e){return(typeof e=="string"?e:""+e).replace(w2,`
`).replace(b2,"")}function Cc(e,t,n){if(t=Mx(t),Mx(e)!==t&&n)throw Error(V(425))}function gd(){}var Ph=null,Th=null;function Ih(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(e){return Dx.resolve(null).then(e).catch(S2)}:Ah;function S2(e){setTimeout(function(){throw e})}function yf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),dl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dl(t)}function Ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),ur="__reactFiber$"+oo,pl="__reactProps$"+oo,zr="__reactContainer$"+oo,Rh="__reactEvents$"+oo,C2="__reactListeners$"+oo,k2="__reactHandles$"+oo;function ai(e){var t=e[ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zr]||n[ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fx(e);e!==null;){if(n=e[ur])return n;e=Fx(e)}return t}e=n,n=e.parentNode}return null}function Xl(e){return e=e[ur]||e[zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function aa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function hu(e){return e[pl]||null}var Oh=[],oa=-1;function Gs(e){return{current:e}}function tt(e){0>oa||(e.current=Oh[oa],Oh[oa]=null,oa--)}function Qe(e,t){oa++,Oh[oa]=e.current,e.current=t}var Os={},Bt=Gs(Os),mn=Gs(!1),Ni=Os;function Ba(e,t){var n=e.type.contextTypes;if(!n)return Os;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pn(e){return e=e.childContextTypes,e!=null}function xd(){tt(mn),tt(Bt)}function Lx(e,t,n){if(Bt.current!==Os)throw Error(V(168));Qe(Bt,t),Qe(mn,n)}function B0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,dE(e)||"Unknown",s));return ut({},n,r)}function vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,Ni=Bt.current,Qe(Bt,e),Qe(mn,mn.current),!0}function $x(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=B0(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,tt(mn),tt(Bt),Qe(Bt,e)):tt(mn),Qe(mn,n)}var Tr=null,mu=!1,wf=!1;function V0(e){Tr===null?Tr=[e]:Tr.push(e)}function E2(e){mu=!0,V0(e)}function Ys(){if(!wf&&Tr!==null){wf=!0;var e=0,t=Ke;try{var n=Tr;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tr=null,mu=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(e+1)),m0(op,Ys),s}finally{Ke=t,wf=!1}}return null}var la=[],ca=0,yd=null,wd=0,In=[],An=0,Si=null,Or=1,Mr="";function ni(e,t){la[ca++]=wd,la[ca++]=yd,yd=e,wd=t}function H0(e,t,n){In[An++]=Or,In[An++]=Mr,In[An++]=Si,Si=e;var r=Or;e=Mr;var s=32-Qn(r)-1;r&=~(1<<s),n+=1;var a=32-Qn(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Or=1<<32-Qn(t)+s|n<<s|r,Mr=a+e}else Or=1<<a|n<<s|r,Mr=e}function gp(e){e.return!==null&&(ni(e,1),H0(e,1,0))}function xp(e){for(;e===yd;)yd=la[--ca],la[ca]=null,wd=la[--ca],la[ca]=null;for(;e===Si;)Si=In[--An],In[An]=null,Mr=In[--An],In[An]=null,Or=In[--An],In[An]=null}var Nn=null,jn=null,it=!1,Wn=null;function W0(e,t){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nn=e,jn=Ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nn=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Si!==null?{id:Or,overflow:Mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nn=e,jn=null,!0):!1;default:return!1}}function Mh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dh(e){if(it){var t=jn;if(t){var n=t;if(!zx(e,t)){if(Mh(e))throw Error(V(418));t=Ss(n.nextSibling);var r=Nn;t&&zx(e,t)?W0(r,n):(e.flags=e.flags&-4097|2,it=!1,Nn=e)}}else{if(Mh(e))throw Error(V(418));e.flags=e.flags&-4097|2,it=!1,Nn=e}}}function Ux(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nn=e}function kc(e){if(e!==Nn)return!1;if(!it)return Ux(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ih(e.type,e.memoizedProps)),t&&(t=jn)){if(Mh(e))throw q0(),Error(V(418));for(;t;)W0(e,t),t=Ss(t.nextSibling)}if(Ux(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jn=Ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Nn?Ss(e.stateNode.nextSibling):null;return!0}function q0(){for(var e=jn;e;)e=Ss(e.nextSibling)}function Va(){jn=Nn=null,it=!1}function vp(e){Wn===null?Wn=[e]:Wn.push(e)}var _2=Yr.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Ec(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bx(e){var t=e._init;return t(e._payload)}function K0(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=_s(p,g),p.index=0,p.sibling=null,p}function a(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,y,j){return g===null||g.tag!==6?(g=Ef(y,p.mode,j),g.return=p,g):(g=s(g,y),g.return=p,g)}function c(p,g,y,j){var N=y.type;return N===na?f(p,g,y.props.children,j,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===is&&Bx(N)===g.type)?(j=s(g,y.props),j.ref=So(p,g,y),j.return=p,j):(j=Jc(y.type,y.key,y.props,null,p.mode,j),j.ref=So(p,g,y),j.return=p,j)}function d(p,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=_f(y,p.mode,j),g.return=p,g):(g=s(g,y.children||[]),g.return=p,g)}function f(p,g,y,j,N){return g===null||g.tag!==7?(g=wi(y,p.mode,j,N),g.return=p,g):(g=s(g,y),g.return=p,g)}function u(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ef(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gc:return y=Jc(g.type,g.key,g.props,null,p.mode,y),y.ref=So(p,null,g),y.return=p,y;case ta:return g=_f(g,p.mode,y),g.return=p,g;case is:var j=g._init;return u(p,j(g._payload),y)}if(Do(g)||yo(g))return g=wi(g,p.mode,y,null),g.return=p,g;Ec(p,g)}return null}function h(p,g,y,j){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(p,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gc:return y.key===N?c(p,g,y,j):null;case ta:return y.key===N?d(p,g,y,j):null;case is:return N=y._init,h(p,g,N(y._payload),j)}if(Do(y)||yo(y))return N!==null?null:f(p,g,y,j,null);Ec(p,y)}return null}function w(p,g,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(y)||null,l(g,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gc:return p=p.get(j.key===null?y:j.key)||null,c(g,p,j,N);case ta:return p=p.get(j.key===null?y:j.key)||null,d(g,p,j,N);case is:var P=j._init;return w(p,g,y,P(j._payload),N)}if(Do(j)||yo(j))return p=p.get(y)||null,f(g,p,j,N,null);Ec(g,j)}return null}function b(p,g,y,j){for(var N=null,P=null,E=g,_=g=0,O=null;E!==null&&_<y.length;_++){E.index>_?(O=E,E=null):O=E.sibling;var k=h(p,E,y[_],j);if(k===null){E===null&&(E=O);break}e&&E&&k.alternate===null&&t(p,E),g=a(k,g,_),P===null?N=k:P.sibling=k,P=k,E=O}if(_===y.length)return n(p,E),it&&ni(p,_),N;if(E===null){for(;_<y.length;_++)E=u(p,y[_],j),E!==null&&(g=a(E,g,_),P===null?N=E:P.sibling=E,P=E);return it&&ni(p,_),N}for(E=r(p,E);_<y.length;_++)O=w(E,p,_,y[_],j),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?_:O.key),g=a(O,g,_),P===null?N=O:P.sibling=O,P=O);return e&&E.forEach(function(F){return t(p,F)}),it&&ni(p,_),N}function x(p,g,y,j){var N=yo(y);if(typeof N!="function")throw Error(V(150));if(y=N.call(y),y==null)throw Error(V(151));for(var P=N=null,E=g,_=g=0,O=null,k=y.next();E!==null&&!k.done;_++,k=y.next()){E.index>_?(O=E,E=null):O=E.sibling;var F=h(p,E,k.value,j);if(F===null){E===null&&(E=O);break}e&&E&&F.alternate===null&&t(p,E),g=a(F,g,_),P===null?N=F:P.sibling=F,P=F,E=O}if(k.done)return n(p,E),it&&ni(p,_),N;if(E===null){for(;!k.done;_++,k=y.next())k=u(p,k.value,j),k!==null&&(g=a(k,g,_),P===null?N=k:P.sibling=k,P=k);return it&&ni(p,_),N}for(E=r(p,E);!k.done;_++,k=y.next())k=w(E,p,_,k.value,j),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?_:k.key),g=a(k,g,_),P===null?N=k:P.sibling=k,P=k);return e&&E.forEach(function(R){return t(p,R)}),it&&ni(p,_),N}function v(p,g,y,j){if(typeof y=="object"&&y!==null&&y.type===na&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case gc:e:{for(var N=y.key,P=g;P!==null;){if(P.key===N){if(N=y.type,N===na){if(P.tag===7){n(p,P.sibling),g=s(P,y.props.children),g.return=p,p=g;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===is&&Bx(N)===P.type){n(p,P.sibling),g=s(P,y.props),g.ref=So(p,P,y),g.return=p,p=g;break e}n(p,P);break}else t(p,P);P=P.sibling}y.type===na?(g=wi(y.props.children,p.mode,j,y.key),g.return=p,p=g):(j=Jc(y.type,y.key,y.props,null,p.mode,j),j.ref=So(p,g,y),j.return=p,p=j)}return o(p);case ta:e:{for(P=y.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=s(g,y.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=_f(y,p.mode,j),g.return=p,p=g}return o(p);case is:return P=y._init,v(p,g,P(y._payload),j)}if(Do(y))return b(p,g,y,j);if(yo(y))return x(p,g,y,j);Ec(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,y),g.return=p,p=g):(n(p,g),g=Ef(y,p.mode,j),g.return=p,p=g),o(p)):n(p,g)}return v}var Ha=K0(!0),G0=K0(!1),bd=Gs(null),jd=null,da=null,yp=null;function wp(){yp=da=jd=null}function bp(e){var t=bd.current;tt(bd),e._currentValue=t}function Fh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ya(e,t){jd=e,yp=da=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(yp!==e)if(e={context:e,memoizedValue:t,next:null},da===null){if(jd===null)throw Error(V(308));da=e,jd.dependencies={lanes:0,firstContext:e}}else da=da.next=e;return t}var oi=null;function jp(e){oi===null?oi=[e]:oi.push(e)}function Y0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ur(e,r)}function Ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var as=!1;function Np(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ur(e,n)}return s=r.interleaved,s===null?(t.next=t,jp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ur(e,n)}function Kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lp(e,n)}}function Vx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nd(e,t,n,r){var s=e.updateQueue;as=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var u=s.baseState;o=0,f=d=c=null,l=a;do{var h=l.lane,w=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(h=t,w=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){u=b.call(w,u,h);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(w,u,h):b,h==null)break e;u=ut({},u,h);break e;case 2:as=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else w={eventTime:w,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=w,c=u):f=f.next=w,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=u),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ki|=o,e.lanes=o,e.memoizedState=u}}function Hx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var Jl={},pr=Gs(Jl),gl=Gs(Jl),xl=Gs(Jl);function li(e){if(e===Jl)throw Error(V(174));return e}function Sp(e,t){switch(Qe(xl,t),Qe(gl,e),Qe(pr,Jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xh(t,e)}tt(pr),Qe(pr,t)}function Wa(){tt(pr),tt(gl),tt(xl)}function Z0(e){li(xl.current);var t=li(pr.current),n=xh(t,e.type);t!==n&&(Qe(gl,e),Qe(pr,n))}function Cp(e){gl.current===e&&(tt(pr),tt(gl))}var lt=Gs(0);function Sd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bf=[];function kp(){for(var e=0;e<bf.length;e++)bf[e]._workInProgressVersionPrimary=null;bf.length=0}var Gc=Yr.ReactCurrentDispatcher,jf=Yr.ReactCurrentBatchConfig,Ci=0,dt=null,St=null,Et=null,Cd=!1,Qo=!1,vl=0,P2=0;function Dt(){throw Error(V(321))}function Ep(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function _p(e,t,n,r,s,a){if(Ci=a,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gc.current=e===null||e.memoizedState===null?R2:O2,e=n(r,s),Qo){a=0;do{if(Qo=!1,vl=0,25<=a)throw Error(V(301));a+=1,Et=St=null,t.updateQueue=null,Gc.current=M2,e=n(r,s)}while(Qo)}if(Gc.current=kd,t=St!==null&&St.next!==null,Ci=0,Et=St=dt=null,Cd=!1,t)throw Error(V(300));return e}function Pp(){var e=vl!==0;return vl=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?dt.memoizedState=Et=e:Et=Et.next=e,Et}function Dn(){if(St===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Et===null?dt.memoizedState:Et.next;if(t!==null)Et=t,St=e;else{if(e===null)throw Error(V(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Et===null?dt.memoizedState=Et=e:Et=Et.next=e}return Et}function yl(e,t){return typeof t=="function"?t(e):t}function Nf(e){var t=Dn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=St,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((Ci&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=r):c=c.next=u,dt.lanes|=f,ki|=f}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Jn(r,t.memoizedState)||(hn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,dt.lanes|=a,ki|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sf(e){var t=Dn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Jn(a,t.memoizedState)||(hn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function X0(){}function J0(e,t){var n=dt,r=Dn(),s=t(),a=!Jn(r.memoizedState,s);if(a&&(r.memoizedState=s,hn=!0),r=r.queue,Tp(nb.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,wl(9,tb.bind(null,n,r,s,t),void 0,null),_t===null)throw Error(V(349));Ci&30||eb(n,t,s)}return s}function eb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tb(e,t,n,r){t.value=n,t.getSnapshot=r,rb(t)&&sb(e)}function nb(e,t,n){return n(function(){rb(t)&&sb(e)})}function rb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function sb(e){var t=Ur(e,1);t!==null&&Zn(t,e,1,-1)}function Wx(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=A2.bind(null,dt,e),[t.memoizedState,e]}function wl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ib(){return Dn().memoizedState}function Yc(e,t,n,r){var s=ar();dt.flags|=e,s.memoizedState=wl(1|t,n,void 0,r===void 0?null:r)}function pu(e,t,n,r){var s=Dn();r=r===void 0?null:r;var a=void 0;if(St!==null){var o=St.memoizedState;if(a=o.destroy,r!==null&&Ep(r,o.deps)){s.memoizedState=wl(t,n,a,r);return}}dt.flags|=e,s.memoizedState=wl(1|t,n,a,r)}function qx(e,t){return Yc(8390656,8,e,t)}function Tp(e,t){return pu(2048,8,e,t)}function ab(e,t){return pu(4,2,e,t)}function ob(e,t){return pu(4,4,e,t)}function lb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cb(e,t,n){return n=n!=null?n.concat([e]):null,pu(4,4,lb.bind(null,t,e),n)}function Ip(){}function db(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ep(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ub(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ep(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fb(e,t,n){return Ci&21?(Jn(n,t)||(n=x0(),dt.lanes|=n,ki|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=n)}function T2(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=jf.transition;jf.transition={};try{e(!1),t()}finally{Ke=n,jf.transition=r}}function hb(){return Dn().memoizedState}function I2(e,t,n){var r=Es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mb(e))pb(t,n);else if(n=Y0(e,t,n,r),n!==null){var s=rn();Zn(n,e,r,s),gb(n,t,r)}}function A2(e,t,n){var r=Es(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mb(e))pb(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Jn(l,o)){var c=t.interleaved;c===null?(s.next=s,jp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Y0(e,t,s,r),n!==null&&(s=rn(),Zn(n,e,r,s),gb(n,t,r))}}function mb(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function pb(e,t){Qo=Cd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lp(e,n)}}var kd={readContext:Mn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},R2={readContext:Mn,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:qx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yc(4194308,4,lb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yc(4,2,e,t)},useMemo:function(e,t){var n=ar();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ar();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=I2.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:Wx,useDebugValue:Ip,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=Wx(!1),t=e[0];return e=T2.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,s=ar();if(it){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),_t===null)throw Error(V(349));Ci&30||eb(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,qx(nb.bind(null,r,a,e),[e]),r.flags|=2048,wl(9,tb.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ar(),t=_t.identifierPrefix;if(it){var n=Mr,r=Or;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=P2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O2={readContext:Mn,useCallback:db,useContext:Mn,useEffect:Tp,useImperativeHandle:cb,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:ub,useReducer:Nf,useRef:ib,useState:function(){return Nf(yl)},useDebugValue:Ip,useDeferredValue:function(e){var t=Dn();return fb(t,St.memoizedState,e)},useTransition:function(){var e=Nf(yl)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:X0,useSyncExternalStore:J0,useId:hb,unstable_isNewReconciler:!1},M2={readContext:Mn,useCallback:db,useContext:Mn,useEffect:Tp,useImperativeHandle:cb,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:ub,useReducer:Sf,useRef:ib,useState:function(){return Sf(yl)},useDebugValue:Ip,useDeferredValue:function(e){var t=Dn();return St===null?t.memoizedState=e:fb(t,St.memoizedState,e)},useTransition:function(){var e=Sf(yl)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:X0,useSyncExternalStore:J0,useId:hb,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gu={isMounted:function(e){return(e=e._reactInternals)?Hi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rn(),s=Es(e),a=Dr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Cs(e,a,s),t!==null&&(Zn(t,e,s,r),Kc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rn(),s=Es(e),a=Dr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Cs(e,a,s),t!==null&&(Zn(t,e,s,r),Kc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),r=Es(e),s=Dr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Cs(e,s,r),t!==null&&(Zn(t,e,r,n),Kc(t,e,r))}};function Kx(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!fl(n,r)||!fl(s,a):!0}function xb(e,t,n){var r=!1,s=Os,a=t.contextType;return typeof a=="object"&&a!==null?a=Mn(a):(s=pn(t)?Ni:Bt.current,r=t.contextTypes,a=(r=r!=null)?Ba(e,s):Os),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Gx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gu.enqueueReplaceState(t,t.state,null)}function $h(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Np(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Mn(a):(a=pn(t)?Ni:Bt.current,s.context=Ba(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lh(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gu.enqueueReplaceState(s,s.state,null),Nd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qa(e,t){try{var n="",r=t;do n+=cE(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Cf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var D2=typeof WeakMap=="function"?WeakMap:Map;function vb(e,t,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_d||(_d=!0,Qh=r),zh(e,t)},n}function yb(e,t,n){n=Dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zh(e,t),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new D2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Q2.bind(null,e,t,n),t.then(e,e))}function Qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dr(-1,1),t.tag=2,Cs(n,t,1))),n.lanes|=1),e)}var F2=Yr.ReactCurrentOwner,hn=!1;function en(e,t,n,r){t.child=e===null?G0(t,null,n,r):Ha(t,e.child,n,r)}function Xx(e,t,n,r,s){n=n.render;var a=t.ref;return ya(t,s),r=_p(e,t,n,r,a,s),n=Pp(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Br(e,t,s)):(it&&n&&gp(t),t.flags|=1,en(e,t,r,s),t.child)}function Jx(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!$p(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wb(e,t,a,r,s)):(e=Jc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(o,r)&&e.ref===t.ref)return Br(e,t,s)}return t.flags|=1,e=_s(a,r),e.ref=t.ref,e.return=t,t.child=e}function wb(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(fl(a,r)&&e.ref===t.ref)if(hn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,Br(e,t,s)}return Uh(e,t,n,r,s)}function bb(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(fa,yn),yn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(fa,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Qe(fa,yn),yn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Qe(fa,yn),yn|=r;return en(e,t,s,n),t.child}function jb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uh(e,t,n,r,s){var a=pn(n)?Ni:Bt.current;return a=Ba(t,a),ya(t,s),n=_p(e,t,n,r,a,s),r=Pp(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Br(e,t,s)):(it&&r&&gp(t),t.flags|=1,en(e,t,n,s),t.child)}function ev(e,t,n,r,s){if(pn(n)){var a=!0;vd(t)}else a=!1;if(ya(t,s),t.stateNode===null)Qc(e,t),xb(t,n,r),$h(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mn(d):(d=pn(n)?Ni:Bt.current,d=Ba(t,d));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Gx(t,o,r,d),as=!1;var h=t.memoizedState;o.state=h,Nd(t,r,o,s),c=t.memoizedState,l!==r||h!==c||mn.current||as?(typeof f=="function"&&(Lh(t,n,f,r),c=t.memoizedState),(l=as||Kx(t,n,l,r,h,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Q0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Bn(t.type,l),o.props=d,u=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=pn(n)?Ni:Bt.current,c=Ba(t,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||h!==c)&&Gx(t,o,r,c),as=!1,h=t.memoizedState,o.state=h,Nd(t,r,o,s);var b=t.memoizedState;l!==u||h!==b||mn.current||as?(typeof w=="function"&&(Lh(t,n,w,r),b=t.memoizedState),(d=as||Kx(t,n,d,r,h,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Bh(e,t,n,r,a,s)}function Bh(e,t,n,r,s,a){jb(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&$x(t,n,!1),Br(e,t,a);r=t.stateNode,F2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,l,a)):en(e,t,l,a),t.memoizedState=r.state,s&&$x(t,n,!0),t.child}function Nb(e){var t=e.stateNode;t.pendingContext?Lx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lx(e,t.context,!1),Sp(e,t.containerInfo)}function tv(e,t,n,r,s){return Va(),vp(s),t.flags|=256,en(e,t,n,r),t.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Hh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sb(e,t,n){var r=t.pendingProps,s=lt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qe(lt,s&1),e===null)return Dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=yu(o,r,0,null),e=wi(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hh(n),t.memoizedState=Vh,e):Ap(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return L2(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=_s(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=_s(l,a):(a=wi(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Hh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Vh,r}return a=e.child,e=a.sibling,r=_s(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ap(e,t){return t=yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _c(e,t,n,r){return r!==null&&vp(r),Ha(t,e.child,null,n),e=Ap(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L2(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Cf(Error(V(422))),_c(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=yu({mode:"visible",children:r.children},s,0,null),a=wi(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ha(t,e.child,null,o),t.child.memoizedState=Hh(o),t.memoizedState=Vh,a);if(!(t.mode&1))return _c(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(V(419)),r=Cf(a,r,void 0),_c(e,t,o,r)}if(l=(o&e.childLanes)!==0,hn||l){if(r=_t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ur(e,s),Zn(r,e,s,-1))}return Lp(),r=Cf(Error(V(421))),_c(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Z2.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,jn=Ss(s.nextSibling),Nn=t,it=!0,Wn=null,e!==null&&(In[An++]=Or,In[An++]=Mr,In[An++]=Si,Or=e.id,Mr=e.overflow,Si=t),t=Ap(t,r.children),t.flags|=4096,t)}function nv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fh(e.return,t,n)}function kf(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Cb(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(en(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nv(e,n,t);else if(e.tag===19)nv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qe(lt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Sd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kf(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kf(t,!0,n,null,a);break;case"together":kf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=_s(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_s(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $2(e,t,n){switch(t.tag){case 3:Nb(t),Va();break;case 5:Z0(t);break;case 1:pn(t.type)&&vd(t);break;case 4:Sp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Qe(bd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qe(lt,lt.current&1),t.flags|=128,null):n&t.child.childLanes?Sb(e,t,n):(Qe(lt,lt.current&1),e=Br(e,t,n),e!==null?e.sibling:null);Qe(lt,lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cb(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,bb(e,t,n)}return Br(e,t,n)}var kb,Wh,Eb,_b;kb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wh=function(){};Eb=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,li(pr.current);var a=null;switch(n){case"input":s=hh(e,s),r=hh(e,r),a=[];break;case"select":s=ut({},s,{value:void 0}),r=ut({},r,{value:void 0}),a=[];break;case"textarea":s=gh(e,s),r=gh(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gd)}vh(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(il.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(il.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Je("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};_b=function(e,t,n,r){n!==r&&(t.flags|=4)};function Co(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function z2(e,t,n){var r=t.pendingProps;switch(xp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return pn(t.type)&&xd(),Ft(t),null;case 3:return r=t.stateNode,Wa(),tt(mn),tt(Bt),kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(Jh(Wn),Wn=null))),Wh(e,t),Ft(t),null;case 5:Cp(t);var s=li(xl.current);if(n=t.type,e!==null&&t.stateNode!=null)Eb(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Ft(t),null}if(e=li(pr.current),kc(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ur]=t,r[pl]=a,e=(t.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<Lo.length;s++)Je(Lo[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":ux(r,a),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Je("invalid",r);break;case"textarea":hx(r,a),Je("invalid",r)}vh(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Cc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Cc(r.textContent,l,e),s=["children",""+l]):il.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":xc(r),fx(r,a,!0);break;case"textarea":xc(r),mx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=gd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ur]=t,e[pl]=r,kb(e,t,!1,!1),t.stateNode=e;e:{switch(o=yh(n,r),n){case"dialog":Je("cancel",e),Je("close",e),s=r;break;case"iframe":case"object":case"embed":Je("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lo.length;s++)Je(Lo[s],e);s=r;break;case"source":Je("error",e),s=r;break;case"img":case"image":case"link":Je("error",e),Je("load",e),s=r;break;case"details":Je("toggle",e),s=r;break;case"input":ux(e,r),s=hh(e,r),Je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ut({},r,{value:void 0}),Je("invalid",e);break;case"textarea":hx(e,r),s=gh(e,r),Je("invalid",e);break;default:s=r}vh(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?i0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r0(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&al(e,c):typeof c=="number"&&al(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(il.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Je("scroll",e):c!=null&&np(e,a,c,o))}switch(n){case"input":xc(e),fx(e,r,!1);break;case"textarea":xc(e),mx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?pa(e,!!r.multiple,a,!1):r.defaultValue!=null&&pa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)_b(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=li(xl.current),li(pr.current),kc(t)){if(r=t.stateNode,n=t.memoizedProps,r[ur]=t,(a=r.nodeValue!==n)&&(e=Nn,e!==null))switch(e.tag){case 3:Cc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=t,t.stateNode=r}return Ft(t),null;case 13:if(tt(lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&jn!==null&&t.mode&1&&!(t.flags&128))q0(),Va(),t.flags|=98560,a=!1;else if(a=kc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[ur]=t}else Va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),a=!1}else Wn!==null&&(Jh(Wn),Wn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?kt===0&&(kt=3):Lp())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return Wa(),Wh(e,t),e===null&&hl(t.stateNode.containerInfo),Ft(t),null;case 10:return bp(t.type._context),Ft(t),null;case 17:return pn(t.type)&&xd(),Ft(t),null;case 19:if(tt(lt),a=t.memoizedState,a===null)return Ft(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Co(a,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sd(e),o!==null){for(t.flags|=128,Co(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qe(lt,lt.current&1|2),t.child}e=e.sibling}a.tail!==null&&gt()>Ka&&(t.flags|=128,r=!0,Co(a,!1),t.lanes=4194304)}else{if(!r)if(e=Sd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!it)return Ft(t),null}else 2*gt()-a.renderingStartTime>Ka&&n!==1073741824&&(t.flags|=128,r=!0,Co(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=gt(),t.sibling=null,n=lt.current,Qe(lt,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return Fp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function U2(e,t){switch(xp(t),t.tag){case 1:return pn(t.type)&&xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wa(),tt(mn),tt(Bt),kp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cp(t),null;case 13:if(tt(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(lt),null;case 4:return Wa(),null;case 10:return bp(t.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var Pc=!1,$t=!1,B2=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ua(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(e,t,r)}else n.current=null}function qh(e,t,n){try{n()}catch(r){mt(e,t,r)}}var rv=!1;function V2(e,t){if(Ph=hd,e=R0(),pp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,u=e,h=null;t:for(;;){for(var w;u!==n||s!==0&&u.nodeType!==3||(l=o+s),u!==a||r!==0&&u.nodeType!==3||(c=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(w=u.firstChild)!==null;)h=u,u=w;for(;;){if(u===e)break t;if(h===n&&++d===s&&(l=o),h===a&&++f===r&&(c=o),(w=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Th={focusedElem:e,selectionRange:n},hd=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,v=b.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Bn(t.type,x),v);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){mt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return b=rv,rv=!1,b}function Zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&qh(t,n,a)}s=s.next}while(s!==r)}}function xu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pb(e){var t=e.alternate;t!==null&&(e.alternate=null,Pb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[pl],delete t[Rh],delete t[C2],delete t[k2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tb(e){return e.tag===5||e.tag===3||e.tag===4}function sv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gd));else if(r!==4&&(e=e.child,e!==null))for(Gh(e,t,n),e=e.sibling;e!==null;)Gh(e,t,n),e=e.sibling}function Yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yh(e,t,n),e=e.sibling;e!==null;)Yh(e,t,n),e=e.sibling}var Tt=null,Hn=!1;function Zr(e,t,n){for(n=n.child;n!==null;)Ib(e,t,n),n=n.sibling}function Ib(e,t,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(cu,n)}catch{}switch(n.tag){case 5:$t||ua(n,t);case 6:var r=Tt,s=Hn;Tt=null,Zr(e,t,n),Tt=r,Hn=s,Tt!==null&&(Hn?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Hn?(e=Tt,n=n.stateNode,e.nodeType===8?yf(e.parentNode,n):e.nodeType===1&&yf(e,n),dl(e)):yf(Tt,n.stateNode));break;case 4:r=Tt,s=Hn,Tt=n.stateNode.containerInfo,Hn=!0,Zr(e,t,n),Tt=r,Hn=s;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&qh(n,t,o),s=s.next}while(s!==r)}Zr(e,t,n);break;case 1:if(!$t&&(ua(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mt(n,t,l)}Zr(e,t,n);break;case 21:Zr(e,t,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Zr(e,t,n),$t=r):Zr(e,t,n);break;default:Zr(e,t,n)}}function iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new B2),t.forEach(function(r){var s=X2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Hn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Hn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Hn=!0;break e}l=l.return}if(Tt===null)throw Error(V(160));Ib(a,o,s),Tt=null,Hn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){mt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ab(t,e),t=t.sibling}function Ab(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),sr(e),r&4){try{Zo(3,e,e.return),xu(3,e)}catch(x){mt(e,e.return,x)}try{Zo(5,e,e.return)}catch(x){mt(e,e.return,x)}}break;case 1:Ln(t,e),sr(e),r&512&&n!==null&&ua(n,n.return);break;case 5:if(Ln(t,e),sr(e),r&512&&n!==null&&ua(n,n.return),e.flags&32){var s=e.stateNode;try{al(s,"")}catch(x){mt(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&e0(s,a),yh(l,o);var d=yh(l,a);for(o=0;o<c.length;o+=2){var f=c[o],u=c[o+1];f==="style"?i0(s,u):f==="dangerouslySetInnerHTML"?r0(s,u):f==="children"?al(s,u):np(s,f,u,d)}switch(l){case"input":mh(s,a);break;case"textarea":t0(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?pa(s,!!a.multiple,w,!1):h!==!!a.multiple&&(a.defaultValue!=null?pa(s,!!a.multiple,a.defaultValue,!0):pa(s,!!a.multiple,a.multiple?[]:"",!1))}s[pl]=a}catch(x){mt(e,e.return,x)}}break;case 6:if(Ln(t,e),sr(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){mt(e,e.return,x)}}break;case 3:if(Ln(t,e),sr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(t.containerInfo)}catch(x){mt(e,e.return,x)}break;case 4:Ln(t,e),sr(e);break;case 13:Ln(t,e),sr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Mp=gt())),r&4&&iv(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?($t=(d=$t)||f,Ln(t,e),$t=d):Ln(t,e),sr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(ee=e,f=e.child;f!==null;){for(u=ee=f;ee!==null;){switch(h=ee,w=h.child,h.tag){case 0:case 11:case 14:case 15:Zo(4,h,h.return);break;case 1:ua(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){mt(r,n,x)}}break;case 5:ua(h,h.return);break;case 22:if(h.memoizedState!==null){ov(u);continue}}w!==null?(w.return=h,ee=w):ov(u)}f=f.sibling}e:for(f=null,u=e;;){if(u.tag===5){if(f===null){f=u;try{s=u.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s0("display",o))}catch(x){mt(e,e.return,x)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){mt(e,e.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ln(t,e),sr(e),r&4&&iv(e);break;case 21:break;default:Ln(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tb(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(al(s,""),r.flags&=-33);var a=sv(e);Yh(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sv(e);Gh(e,l,o);break;default:throw Error(V(161))}}catch(c){mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function H2(e,t,n){ee=e,Rb(e)}function Rb(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var s=ee,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$t;l=Pc;var d=$t;if(Pc=o,($t=c)&&!d)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?lv(s):c!==null?(c.return=o,ee=c):lv(s);for(;a!==null;)ee=a,Rb(a),a=a.sibling;ee=s,Pc=l,$t=d}av(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ee=a):av(e)}}function av(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||xu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Bn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Hx(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hx(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&dl(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}$t||t.flags&512&&Kh(t)}catch(h){mt(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function ov(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function lv(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xu(4,t)}catch(c){mt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){mt(t,s,c)}}var a=t.return;try{Kh(t)}catch(c){mt(t,a,c)}break;case 5:var o=t.return;try{Kh(t)}catch(c){mt(t,o,c)}}}catch(c){mt(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var W2=Math.ceil,Ed=Yr.ReactCurrentDispatcher,Rp=Yr.ReactCurrentOwner,On=Yr.ReactCurrentBatchConfig,Re=0,_t=null,yt=null,At=0,yn=0,fa=Gs(0),kt=0,bl=null,ki=0,vu=0,Op=0,Xo=null,fn=null,Mp=0,Ka=1/0,_r=null,_d=!1,Qh=null,ks=null,Tc=!1,ws=null,Pd=0,Jo=0,Zh=null,Zc=-1,Xc=0;function rn(){return Re&6?gt():Zc!==-1?Zc:Zc=gt()}function Es(e){return e.mode&1?Re&2&&At!==0?At&-At:_2.transition!==null?(Xc===0&&(Xc=x0()),Xc):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:S0(e.type)),e):1}function Zn(e,t,n,r){if(50<Jo)throw Jo=0,Zh=null,Error(V(185));Ql(e,n,r),(!(Re&2)||e!==_t)&&(e===_t&&(!(Re&2)&&(vu|=n),kt===4&&ls(e,At)),gn(e,r),n===1&&Re===0&&!(t.mode&1)&&(Ka=gt()+500,mu&&Ys()))}function gn(e,t){var n=e.callbackNode;_E(e,t);var r=fd(e,e===_t?At:0);if(r===0)n!==null&&xx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xx(n),t===1)e.tag===0?E2(cv.bind(null,e)):V0(cv.bind(null,e)),N2(function(){!(Re&6)&&Ys()}),n=null;else{switch(v0(r)){case 1:n=op;break;case 4:n=p0;break;case 16:n=ud;break;case 536870912:n=g0;break;default:n=ud}n=Ub(n,Ob.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ob(e,t){if(Zc=-1,Xc=0,Re&6)throw Error(V(327));var n=e.callbackNode;if(wa()&&e.callbackNode!==n)return null;var r=fd(e,e===_t?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Td(e,r);else{t=r;var s=Re;Re|=2;var a=Db();(_t!==e||At!==t)&&(_r=null,Ka=gt()+500,yi(e,t));do try{G2();break}catch(l){Mb(e,l)}while(!0);wp(),Ed.current=a,Re=s,yt!==null?t=0:(_t=null,At=0,t=kt)}if(t!==0){if(t===2&&(s=Sh(e),s!==0&&(r=s,t=Xh(e,s))),t===1)throw n=bl,yi(e,0),ls(e,r),gn(e,gt()),n;if(t===6)ls(e,r);else{if(s=e.current.alternate,!(r&30)&&!q2(s)&&(t=Td(e,r),t===2&&(a=Sh(e),a!==0&&(r=a,t=Xh(e,a))),t===1))throw n=bl,yi(e,0),ls(e,r),gn(e,gt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:ri(e,fn,_r);break;case 3:if(ls(e,r),(r&130023424)===r&&(t=Mp+500-gt(),10<t)){if(fd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){rn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ah(ri.bind(null,e,fn,_r),t);break}ri(e,fn,_r);break;case 4:if(ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Qn(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W2(r/1960))-r,10<r){e.timeoutHandle=Ah(ri.bind(null,e,fn,_r),r);break}ri(e,fn,_r);break;case 5:ri(e,fn,_r);break;default:throw Error(V(329))}}}return gn(e,gt()),e.callbackNode===n?Ob.bind(null,e):null}function Xh(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(yi(e,t).flags|=256),e=Td(e,t),e!==2&&(t=fn,fn=n,t!==null&&Jh(t)),e}function Jh(e){fn===null?fn=e:fn.push.apply(fn,e)}function q2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Jn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ls(e,t){for(t&=~Op,t&=~vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qn(t),r=1<<n;e[n]=-1,t&=~r}}function cv(e){if(Re&6)throw Error(V(327));wa();var t=fd(e,0);if(!(t&1))return gn(e,gt()),null;var n=Td(e,t);if(e.tag!==0&&n===2){var r=Sh(e);r!==0&&(t=r,n=Xh(e,r))}if(n===1)throw n=bl,yi(e,0),ls(e,t),gn(e,gt()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ri(e,fn,_r),gn(e,gt()),null}function Dp(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(Ka=gt()+500,mu&&Ys())}}function Ei(e){ws!==null&&ws.tag===0&&!(Re&6)&&wa();var t=Re;Re|=1;var n=On.transition,r=Ke;try{if(On.transition=null,Ke=1,e)return e()}finally{Ke=r,On.transition=n,Re=t,!(Re&6)&&Ys()}}function Fp(){yn=fa.current,tt(fa)}function yi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,j2(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Wa(),tt(mn),tt(Bt),kp();break;case 5:Cp(r);break;case 4:Wa();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:bp(r.type._context);break;case 22:case 23:Fp()}n=n.return}if(_t=e,yt=e=_s(e.current,null),At=yn=t,kt=0,bl=null,Op=vu=ki=0,fn=Xo=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}oi=null}return e}function Mb(e,t){do{var n=yt;try{if(wp(),Gc.current=kd,Cd){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cd=!1}if(Ci=0,Et=St=dt=null,Qo=!1,vl=0,Rp.current=null,n===null||n.return===null){kt=1,bl=t,yt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Qx(o);if(w!==null){w.flags&=-257,Zx(w,o,l,a,t),w.mode&1&&Yx(a,d,t),t=w,c=d;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){Yx(a,d,t),Lp();break e}c=Error(V(426))}}else if(it&&l.mode&1){var v=Qx(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Zx(v,o,l,a,t),vp(qa(c,l));break e}}a=c=qa(c,l),kt!==4&&(kt=2),Xo===null?Xo=[a]:Xo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=vb(a,c,t);Vx(a,p);break e;case 1:l=c;var g=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ks===null||!ks.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=yb(a,l,t);Vx(a,j);break e}}a=a.return}while(a!==null)}Lb(n)}catch(N){t=N,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function Db(){var e=Ed.current;return Ed.current=kd,e===null?kd:e}function Lp(){(kt===0||kt===3||kt===2)&&(kt=4),_t===null||!(ki&268435455)&&!(vu&268435455)||ls(_t,At)}function Td(e,t){var n=Re;Re|=2;var r=Db();(_t!==e||At!==t)&&(_r=null,yi(e,t));do try{K2();break}catch(s){Mb(e,s)}while(!0);if(wp(),Re=n,Ed.current=r,yt!==null)throw Error(V(261));return _t=null,At=0,kt}function K2(){for(;yt!==null;)Fb(yt)}function G2(){for(;yt!==null&&!yE();)Fb(yt)}function Fb(e){var t=zb(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?Lb(e):yt=t,Rp.current=null}function Lb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=U2(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,yt=null;return}}else if(n=z2(n,t,yn),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);kt===0&&(kt=5)}function ri(e,t,n){var r=Ke,s=On.transition;try{On.transition=null,Ke=1,Y2(e,t,n,r)}finally{On.transition=s,Ke=r}return null}function Y2(e,t,n,r){do wa();while(ws!==null);if(Re&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(PE(e,a),e===_t&&(yt=_t=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,Ub(ud,function(){return wa(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=On.transition,On.transition=null;var o=Ke;Ke=1;var l=Re;Re|=4,Rp.current=null,V2(e,n),Ab(n,e),p2(Th),hd=!!Ph,Th=Ph=null,e.current=n,H2(n),wE(),Re=l,Ke=o,On.transition=a}else e.current=n;if(Tc&&(Tc=!1,ws=e,Pd=s),a=e.pendingLanes,a===0&&(ks=null),NE(n.stateNode),gn(e,gt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_d)throw _d=!1,e=Qh,Qh=null,e;return Pd&1&&e.tag!==0&&wa(),a=e.pendingLanes,a&1?e===Zh?Jo++:(Jo=0,Zh=e):Jo=0,Ys(),null}function wa(){if(ws!==null){var e=v0(Pd),t=On.transition,n=Ke;try{if(On.transition=null,Ke=16>e?16:e,ws===null)var r=!1;else{if(e=ws,ws=null,Pd=0,Re&6)throw Error(V(331));var s=Re;for(Re|=4,ee=e.current;ee!==null;){var a=ee,o=a.child;if(ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ee=d;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:Zo(8,f,a)}var u=f.child;if(u!==null)u.return=f,ee=u;else for(;ee!==null;){f=ee;var h=f.sibling,w=f.return;if(Pb(f),f===d){ee=null;break}if(h!==null){h.return=w,ee=h;break}ee=w}}}var b=a.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ee=o;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zo(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,ee=p;break e}ee=a.return}}var g=e.current;for(ee=g;ee!==null;){o=ee;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ee=y;else e:for(o=g;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xu(9,l)}}catch(N){mt(l,l.return,N)}if(l===o){ee=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ee=j;break e}ee=l.return}}if(Re=s,Ys(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(cu,e)}catch{}r=!0}return r}finally{Ke=n,On.transition=t}}return!1}function dv(e,t,n){t=qa(n,t),t=vb(e,t,1),e=Cs(e,t,1),t=rn(),e!==null&&(Ql(e,1,t),gn(e,t))}function mt(e,t,n){if(e.tag===3)dv(e,e,n);else for(;t!==null;){if(t.tag===3){dv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){e=qa(n,e),e=yb(t,e,1),t=Cs(t,e,1),e=rn(),t!==null&&(Ql(t,1,e),gn(t,e));break}}t=t.return}}function Q2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(At&n)===n&&(kt===4||kt===3&&(At&130023424)===At&&500>gt()-Mp?yi(e,0):Op|=n),gn(e,t)}function $b(e,t){t===0&&(e.mode&1?(t=wc,wc<<=1,!(wc&130023424)&&(wc=4194304)):t=1);var n=rn();e=Ur(e,t),e!==null&&(Ql(e,t,n),gn(e,n))}function Z2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$b(e,n)}function X2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),$b(e,n)}var zb;zb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hn=!1,$2(e,t,n);hn=!!(e.flags&131072)}else hn=!1,it&&t.flags&1048576&&H0(t,wd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qc(e,t),e=t.pendingProps;var s=Ba(t,Bt.current);ya(t,n),s=_p(null,t,r,e,s,n);var a=Pp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pn(r)?(a=!0,vd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Np(t),s.updater=gu,t.stateNode=s,s._reactInternals=t,$h(t,r,e,n),t=Bh(null,t,r,!0,a,n)):(t.tag=0,it&&a&&gp(t),en(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=e_(r),e=Bn(r,e),s){case 0:t=Uh(null,t,r,e,n);break e;case 1:t=ev(null,t,r,e,n);break e;case 11:t=Xx(null,t,r,e,n);break e;case 14:t=Jx(null,t,r,Bn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),Uh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),ev(e,t,r,s,n);case 3:e:{if(Nb(t),e===null)throw Error(V(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Q0(e,t),Nd(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=qa(Error(V(423)),t),t=tv(e,t,r,n,s);break e}else if(r!==s){s=qa(Error(V(424)),t),t=tv(e,t,r,n,s);break e}else for(jn=Ss(t.stateNode.containerInfo.firstChild),Nn=t,it=!0,Wn=null,n=G0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===s){t=Br(e,t,n);break e}en(e,t,r,n)}t=t.child}return t;case 5:return Z0(t),e===null&&Dh(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Ih(r,s)?o=null:a!==null&&Ih(r,a)&&(t.flags|=32),jb(e,t),en(e,t,o,n),t.child;case 6:return e===null&&Dh(t),null;case 13:return Sb(e,t,n);case 4:return Sp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ha(t,null,r,n):en(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),Xx(e,t,r,s,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Qe(bd,r._currentValue),r._currentValue=o,a!==null)if(Jn(a.value,o)){if(a.children===s.children&&!mn.current){t=Br(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Dr(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Fh(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(V(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Fh(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}en(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ya(t,n),s=Mn(s),r=r(s),t.flags|=1,en(e,t,r,n),t.child;case 14:return r=t.type,s=Bn(r,t.pendingProps),s=Bn(r.type,s),Jx(e,t,r,s,n);case 15:return wb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),Qc(e,t),t.tag=1,pn(r)?(e=!0,vd(t)):e=!1,ya(t,n),xb(t,r,s),$h(t,r,s,n),Bh(null,t,r,!0,e,n);case 19:return Cb(e,t,n);case 22:return bb(e,t,n)}throw Error(V(156,t.tag))};function Ub(e,t){return m0(e,t)}function J2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,n,r){return new J2(e,t,n,r)}function $p(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e_(e){if(typeof e=="function")return $p(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sp)return 11;if(e===ip)return 14}return 2}function _s(e,t){var n=e.alternate;return n===null?(n=Rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jc(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")$p(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case na:return wi(n.children,s,a,t);case rp:o=8,s|=8;break;case ch:return e=Rn(12,n,t,s|2),e.elementType=ch,e.lanes=a,e;case dh:return e=Rn(13,n,t,s),e.elementType=dh,e.lanes=a,e;case uh:return e=Rn(19,n,t,s),e.elementType=uh,e.lanes=a,e;case Zw:return yu(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yw:o=10;break e;case Qw:o=9;break e;case sp:o=11;break e;case ip:o=14;break e;case is:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Rn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function wi(e,t,n,r){return e=Rn(7,e,r,t),e.lanes=n,e}function yu(e,t,n,r){return e=Rn(22,e,r,t),e.elementType=Zw,e.lanes=n,e.stateNode={isHidden:!1},e}function Ef(e,t,n){return e=Rn(6,e,null,t),e.lanes=n,e}function _f(e,t,n){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zp(e,t,n,r,s,a,o,l,c){return e=new t_(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(a),e}function n_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bb(e){if(!e)return Os;e=e._reactInternals;e:{if(Hi(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(pn(n))return B0(e,n,t)}return t}function Vb(e,t,n,r,s,a,o,l,c){return e=zp(n,r,!0,e,s,a,o,l,c),e.context=Bb(null),n=e.current,r=rn(),s=Es(n),a=Dr(r,s),a.callback=t??null,Cs(n,a,s),e.current.lanes=s,Ql(e,s,r),gn(e,r),e}function wu(e,t,n,r){var s=t.current,a=rn(),o=Es(s);return n=Bb(n),t.context===null?t.context=n:t.pendingContext=n,t=Dr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cs(s,t,o),e!==null&&(Zn(e,s,o,a),Kc(e,s,o)),o}function Id(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Up(e,t){uv(e,t),(e=e.alternate)&&uv(e,t)}function r_(){return null}var Hb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bp(e){this._internalRoot=e}bu.prototype.render=Bp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));wu(e,t,null,null)};bu.prototype.unmount=Bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){wu(null,e,null,null)}),t[zr]=null}};function bu(e){this._internalRoot=e}bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=b0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<os.length&&t!==0&&t<os[n].priority;n++);os.splice(n,0,e),n===0&&N0(e)}};function Vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fv(){}function s_(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=Id(o);a.call(d)}}var o=Vb(t,r,e,0,null,!1,!1,"",fv);return e._reactRootContainer=o,e[zr]=o.current,hl(e.nodeType===8?e.parentNode:e),Ei(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Id(c);l.call(d)}}var c=zp(e,0,!1,null,null,!1,!1,"",fv);return e._reactRootContainer=c,e[zr]=c.current,hl(e.nodeType===8?e.parentNode:e),Ei(function(){wu(t,c,n,r)}),c}function Nu(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Id(o);l.call(c)}}wu(t,o,e,s)}else o=s_(n,t,e,s,r);return Id(o)}y0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fo(t.pendingLanes);n!==0&&(lp(t,n|1),gn(t,gt()),!(Re&6)&&(Ka=gt()+500,Ys()))}break;case 13:Ei(function(){var r=Ur(e,1);if(r!==null){var s=rn();Zn(r,e,1,s)}}),Up(e,1)}};cp=function(e){if(e.tag===13){var t=Ur(e,134217728);if(t!==null){var n=rn();Zn(t,e,134217728,n)}Up(e,134217728)}};w0=function(e){if(e.tag===13){var t=Es(e),n=Ur(e,t);if(n!==null){var r=rn();Zn(n,e,t,r)}Up(e,t)}};b0=function(){return Ke};j0=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};bh=function(e,t,n){switch(t){case"input":if(mh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hu(r);if(!s)throw Error(V(90));Jw(r),mh(r,s)}}}break;case"textarea":t0(e,n);break;case"select":t=n.value,t!=null&&pa(e,!!n.multiple,t,!1)}};l0=Dp;c0=Ei;var i_={usingClientEntryPoint:!1,Events:[Xl,aa,hu,a0,o0,Dp]},ko={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a_={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=f0(e),e===null?null:e.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||r_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{cu=Ic.inject(a_),mr=Ic}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i_;En.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(t))throw Error(V(200));return n_(e,t,null,n)};En.createRoot=function(e,t){if(!Vp(e))throw Error(V(299));var n=!1,r="",s=Hb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zp(e,1,!1,null,null,n,!1,r,s),e[zr]=t.current,hl(e.nodeType===8?e.parentNode:e),new Bp(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=f0(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return Ei(e)};En.hydrate=function(e,t,n){if(!ju(t))throw Error(V(200));return Nu(null,e,t,!0,n)};En.hydrateRoot=function(e,t,n){if(!Vp(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Hb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Vb(t,null,e,1,n??null,s,!1,a,o),e[zr]=t.current,hl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new bu(t)};En.render=function(e,t,n){if(!ju(t))throw Error(V(200));return Nu(null,e,t,!1,n)};En.unmountComponentAtNode=function(e){if(!ju(e))throw Error(V(40));return e._reactRootContainer?(Ei(function(){Nu(null,null,e,!1,function(){e._reactRootContainer=null,e[zr]=null})}),!0):!1};En.unstable_batchedUpdates=Dp;En.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ju(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Nu(e,t,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function Wb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wb)}catch(e){console.error(e)}}Wb(),Ww.exports=En;var Wi=Ww.exports;const o_=Aw(Wi);var qb,hv=Wi;qb=hv.createRoot,hv.hydrateRoot;function l_(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~r?r:~a?a:s.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Kb={exports:{}},Gb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=m;function c_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d_=typeof Object.is=="function"?Object.is:c_,u_=Ga.useState,f_=Ga.useEffect,h_=Ga.useLayoutEffect,m_=Ga.useDebugValue;function p_(e,t){var n=t(),r=u_({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return h_(function(){s.value=n,s.getSnapshot=t,Pf(s)&&a({inst:s})},[e,n,t]),f_(function(){return Pf(s)&&a({inst:s}),e(function(){Pf(s)&&a({inst:s})})},[e]),m_(n),n}function Pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!d_(e,n)}catch{return!0}}function g_(e,t){return t()}var x_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g_:p_;Gb.useSyncExternalStore=Ga.useSyncExternalStore!==void 0?Ga.useSyncExternalStore:x_;Kb.exports=Gb;var v_=Kb.exports;const y_=Vw.useInsertionEffect,w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b_=w_?m.useLayoutEffect:m.useEffect,j_=y_||b_,Yb=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return j_(()=>{t[0]=e}),t[1]},N_="popstate",Hp="pushState",Wp="replaceState",S_="hashchange",mv=[N_,Hp,Wp,S_],C_=e=>{for(const t of mv)addEventListener(t,e);return()=>{for(const t of mv)removeEventListener(t,e)}},Qb=(e,t)=>v_.useSyncExternalStore(C_,e,t),k_=()=>location.search,E_=({ssrSearch:e=""}={})=>Qb(k_,()=>e),pv=()=>location.pathname,__=({ssrPath:e}={})=>Qb(pv,e?()=>e:pv),P_=(e,{replace:t=!1,state:n=null}={})=>history[t?Wp:Hp](n,"",e),T_=(e={})=>[__(e),P_],gv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[gv]>"u"){for(const e of[Hp,Wp]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,gv,{value:!0})}const I_=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Zb=(e="")=>e==="/"?"":e,A_=(e,t)=>e[0]==="~"?e.slice(1):Zb(t)+e,R_=(e="",t)=>I_(xv(Zb(e)),xv(t)),xv=e=>{try{return decodeURI(e)}catch{return e}},Xb={hook:T_,searchHook:E_,parser:l_,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Jb=m.createContext(Xb),ec=()=>m.useContext(Jb),ej={},tj=m.createContext(ej),lo=()=>m.useContext(tj),Su=e=>{const[t,n]=e.hook(e);return[R_(e.base,t),Yb((r,s)=>n(A_(r,e.base),s))]},Cu=()=>Su(ec()),nj=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((u,h)=>[u,c[h]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...r?[l]:[]]:[!1,null]},O_=({children:e,...t})=>{var f,u;const n=ec(),r=t.hook?Xb:n;let s=r;const[a,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=m.useRef({}),c=l.current,d=c;for(let h in r){const w=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===d&&w!==d[h]&&(l.current=d={...d}),d[h]=w,w!==r[h]&&(s=d)}return m.createElement(Jb.Provider,{value:s,children:e})},vv=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,M_=e=>{let t=m.useRef(ej),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},jt=({path:e,nest:t,match:n,...r})=>{const s=ec(),[a]=Su(s),[o,l,c]=n??nj(s.parser,e,a,t),d=M_({...lo(),...l});if(!o)return null;const f=c?m.createElement(O_,{base:c},vv(r,d)):vv(r,d);return m.createElement(tj.Provider,{value:d,children:f})},ct=m.forwardRef((e,t)=>{const n=ec(),[r,s]=Su(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:f,replace:u,state:h,...w}=e,b=Yb(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),s(o,e)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&m.isValidElement(d)?m.cloneElement(d,{onClick:b,href:x}):m.createElement("a",{...w,onClick:b,href:x,className:f!=null&&f.call?f(r===o):f,children:d,ref:t})}),rj=e=>Array.isArray(e)?e.flatMap(t=>rj(t&&t.type===m.Fragment?t.props.children:t)):[e],D_=({children:e,location:t})=>{const n=ec(),[r]=Su(n);for(const s of rj(e)){let a=0;if(m.isValidElement(s)&&(a=nj(n.parser,s.props.path,t||r,s.props.nest))[0])return m.cloneElement(s,{match:a})}return null};var co=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_i=typeof window>"u"||"Deno"in globalThis;function Tn(){}function F_(e,t){return typeof e=="function"?e(t):e}function em(e){return typeof e=="number"&&e>=0&&e!==1/0}function sj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ba(e,t){return typeof e=="function"?e(t):e}function qn(e,t){return typeof e=="function"?e(t):e}function yv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==qp(o,t.options))return!1}else if(!jl(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function wv(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Pi(t.options.mutationKey)!==Pi(a))return!1}else if(!jl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function qp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pi)(e)}function Pi(e){return JSON.stringify(e,(t,n)=>tm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function jl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!jl(e[n],t[n])):!1}function ij(e,t){if(e===t)return e;const n=bv(e)&&bv(t);if(n||tm(e)&&tm(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=ij(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Ad(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function bv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tm(e){if(!jv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!jv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jv(e){return Object.prototype.toString.call(e)==="[object Object]"}function L_(e){return new Promise(t=>{setTimeout(t,e)})}function nm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ij(e,t):t}function $_(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function z_(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Kp=Symbol();function aj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fi,ds,_a,jw,U_=(jw=class extends co{constructor(){super();ue(this,fi);ue(this,ds);ue(this,_a);Y(this,_a,t=>{if(!_i&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){C(this,ds)||this.setEventListener(C(this,_a))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ds))==null||t.call(this),Y(this,ds,void 0))}setEventListener(t){var n;Y(this,_a,t),(n=C(this,ds))==null||n.call(this),Y(this,ds,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){C(this,fi)!==t&&(Y(this,fi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof C(this,fi)=="boolean"?C(this,fi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fi=new WeakMap,ds=new WeakMap,_a=new WeakMap,jw),Gp=new U_,Pa,us,Ta,Nw,B_=(Nw=class extends co{constructor(){super();ue(this,Pa,!0);ue(this,us);ue(this,Ta);Y(this,Ta,t=>{if(!_i&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,us)||this.setEventListener(C(this,Ta))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,us))==null||t.call(this),Y(this,us,void 0))}setEventListener(t){var n;Y(this,Ta,t),(n=C(this,us))==null||n.call(this),Y(this,us,t(this.setOnline.bind(this)))}setOnline(t){C(this,Pa)!==t&&(Y(this,Pa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return C(this,Pa)}},Pa=new WeakMap,us=new WeakMap,Ta=new WeakMap,Nw),Rd=new B_;function rm(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function V_(e){return Math.min(1e3*2**e,3e4)}function oj(e){return(e??"online")==="online"?Rd.isOnline():!0}var lj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tf(e){return e instanceof lj}function cj(e){let t=!1,n=0,r=!1,s;const a=rm(),o=x=>{var v;r||(h(new lj(x)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Gp.isFocused()&&(e.networkMode==="always"||Rd.isOnline())&&e.canRun(),f=()=>oj(e.networkMode)&&e.canRun(),u=x=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,x),s==null||s(),a.resolve(x))},h=x=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,x),s==null||s(),a.reject(x))},w=()=>new Promise(x=>{var v;s=p=>{(r||d())&&x(p)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;s=void 0,r||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(r)return;let x;const v=n===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(u).catch(p=>{var P;if(r)return;const g=e.retry??(_i?0:3),y=e.retryDelay??V_,j=typeof y=="function"?y(n,p):y,N=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,p);if(t||!N){h(p);return}n++,(P=e.onFail)==null||P.call(e,n,p),L_(j).then(()=>d()?void 0:w()).then(()=>{t?h(p):b()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?b():w().then(b),a)}}function H_(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ct=H_(),hi,Sw,dj=(Sw=class{constructor(){ue(this,hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),em(this.gcTime)&&Y(this,hi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){C(this,hi)&&(clearTimeout(C(this,hi)),Y(this,hi,void 0))}},hi=new WeakMap,Sw),Ia,Aa,Pn,Lt,Wl,mi,Vn,kr,Cw,W_=(Cw=class extends dj{constructor(t){super();ue(this,Vn);ue(this,Ia);ue(this,Aa);ue(this,Pn);ue(this,Lt);ue(this,Wl);ue(this,mi);Y(this,mi,!1),Y(this,Wl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,Pn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,Ia,q_(this.options)),this.state=t.state??C(this,Ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Wl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Pn).remove(this)}setData(t,n){const r=nm(this.state.data,t,this.options);return we(this,Vn,kr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){we(this,Vn,kr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=C(this,Lt))==null?void 0:r.promise;return(s=C(this,Lt))==null||s.cancel(t),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Ia))}isActive(){return this.observers.some(t=>qn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!sj(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,Lt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,Lt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Pn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(C(this,Lt)&&(C(this,mi)?C(this,Lt).cancel({revert:!0}):C(this,Lt).cancelRetry()),this.scheduleGc()),C(this,Pn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,Vn,kr).call(this,{type:"invalidate"})}fetch(t,n){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(C(this,Lt))return C(this,Lt).continueRetry(),C(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Y(this,mi,!0),r.signal)})},a=()=>{const u=aj(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),Y(this,mi,!1),this.options.persister?this.options.persister(u,h,this):u(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Y(this,Aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&we(this,Vn,kr).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=u=>{var h,w,b,x;Tf(u)&&u.silent||we(this,Vn,kr).call(this,{type:"error",error:u}),Tf(u)||((w=(h=C(this,Pn).config).onError)==null||w.call(h,u,this),(x=(b=C(this,Pn).config).onSettled)==null||x.call(b,this.state.data,u,this)),this.scheduleGc()};return Y(this,Lt,cj({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,w,b,x;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(v){l(v);return}(w=(h=C(this,Pn).config).onSuccess)==null||w.call(h,u,this),(x=(b=C(this,Pn).config).onSettled)==null||x.call(b,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,h)=>{we(this,Vn,kr).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{we(this,Vn,kr).call(this,{type:"pause"})},onContinue:()=>{we(this,Vn,kr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),C(this,Lt).start()}},Ia=new WeakMap,Aa=new WeakMap,Pn=new WeakMap,Lt=new WeakMap,Wl=new WeakMap,mi=new WeakMap,Vn=new WeakSet,kr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uj(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Tf(s)&&s.revert&&C(this,Aa)?{...C(this,Aa),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,Pn).notify({query:this,type:"updated",action:t})})},Cw);function uj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,kw,K_=(kw=class extends co{constructor(t={}){super();ue(this,or);this.config=t,Y(this,or,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??qp(s,n);let o=this.get(a);return o||(o=new W_({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){C(this,or).has(t.queryHash)||(C(this,or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=C(this,or).get(t.queryHash);n&&(t.destroy(),n===t&&C(this,or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,or).get(t)}getAll(){return[...C(this,or).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>yv(t,r)):n}notify(t){Ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},or=new WeakMap,kw),lr,Zt,pi,cr,rs,Ew,G_=(Ew=class extends dj{constructor(t){super();ue(this,cr);ue(this,lr);ue(this,Zt);ue(this,pi);this.mutationId=t.mutationId,Y(this,Zt,t.mutationCache),Y(this,lr,[]),this.state=t.state||fj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,lr).includes(t)||(C(this,lr).push(t),this.clearGcTimeout(),C(this,Zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,lr,C(this,lr).filter(n=>n!==t)),this.scheduleGc(),C(this,Zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,lr).length||(this.state.status==="pending"?this.scheduleGc():C(this,Zt).remove(this))}continue(){var t;return((t=C(this,pi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,d,f,u,h,w,b,x,v,p,g,y,j,N,P,E;Y(this,pi,cj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,O)=>{we(this,cr,rs).call(this,{type:"failed",failureCount:_,error:O})},onPause:()=>{we(this,cr,rs).call(this,{type:"pause"})},onContinue:()=>{we(this,cr,rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Zt).canRun(this)}));const n=this.state.status==="pending",r=!C(this,pi).canStart();try{if(!n){we(this,cr,rs).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=C(this,Zt).config).onMutate)==null?void 0:a.call(s,t,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));O!==this.state.context&&we(this,cr,rs).call(this,{type:"pending",context:O,variables:t,isPaused:r})}const _=await C(this,pi).start();return await((d=(c=C(this,Zt).config).onSuccess)==null?void 0:d.call(c,_,t,this.state.context,this)),await((u=(f=this.options).onSuccess)==null?void 0:u.call(f,_,t,this.state.context)),await((w=(h=C(this,Zt).config).onSettled)==null?void 0:w.call(h,_,null,this.state.variables,this.state.context,this)),await((x=(b=this.options).onSettled)==null?void 0:x.call(b,_,null,t,this.state.context)),we(this,cr,rs).call(this,{type:"success",data:_}),_}catch(_){try{throw await((p=(v=C(this,Zt).config).onError)==null?void 0:p.call(v,_,t,this.state.context,this)),await((y=(g=this.options).onError)==null?void 0:y.call(g,_,t,this.state.context)),await((N=(j=C(this,Zt).config).onSettled)==null?void 0:N.call(j,void 0,_,this.state.variables,this.state.context,this)),await((E=(P=this.options).onSettled)==null?void 0:E.call(P,void 0,_,t,this.state.context)),_}finally{we(this,cr,rs).call(this,{type:"error",error:_})}}finally{C(this,Zt).runNext(this)}}},lr=new WeakMap,Zt=new WeakMap,pi=new WeakMap,cr=new WeakSet,rs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ct.batch(()=>{C(this,lr).forEach(r=>{r.onMutationUpdate(t)}),C(this,Zt).notify({mutation:this,type:"updated",action:t})})},Ew);function fj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vn,ql,_w,Y_=(_w=class extends co{constructor(t={}){super();ue(this,vn);ue(this,ql);this.config=t,Y(this,vn,new Map),Y(this,ql,Date.now())}build(t,n,r){const s=new G_({mutationCache:this,mutationId:++mc(this,ql)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Ac(t),r=C(this,vn).get(n)??[];r.push(t),C(this,vn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Ac(t);if(C(this,vn).has(n)){const s=(r=C(this,vn).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?C(this,vn).delete(n):C(this,vn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=C(this,vn).get(Ac(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=C(this,vn).get(Ac(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...C(this,vn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wv(n,r))}findAll(t={}){return this.getAll().filter(n=>wv(t,n))}notify(t){Ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ct.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tn))))}},vn=new WeakMap,ql=new WeakMap,_w);function Ac(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Nv(e){return{onFetch:(t,n)=>{var f,u,h,w,b;const r=t.options,s=(h=(u=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,a=((w=t.state.data)==null?void 0:w.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=aj(t.options,t.fetchOptions),g=async(y,j,N)=>{if(x)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const P={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};v(P);const E=await p(P),{maxPages:_}=t.options,O=N?z_:$_;return{pages:O(y.pages,E,_),pageParams:O(y.pageParams,j,_)}};if(s&&a.length){const y=s==="backward",j=y?Q_:Sv,N={pages:a,pageParams:o},P=j(r,N);l=await g(N,P,y)}else{const y=e??a.length;do{const j=c===0?o[0]??r.initialPageParam:Sv(r,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Sv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Q_(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ht,fs,hs,Ra,Oa,ms,Ma,Da,Pw,Z_=(Pw=class{constructor(e={}){ue(this,ht);ue(this,fs);ue(this,hs);ue(this,Ra);ue(this,Oa);ue(this,ms);ue(this,Ma);ue(this,Da);Y(this,ht,e.queryCache||new K_),Y(this,fs,e.mutationCache||new Y_),Y(this,hs,e.defaultOptions||{}),Y(this,Ra,new Map),Y(this,Oa,new Map),Y(this,ms,0)}mount(){mc(this,ms)._++,C(this,ms)===1&&(Y(this,Ma,Gp.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,ht).onFocus())})),Y(this,Da,Rd.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,ht).onOnline())})))}unmount(){var e,t;mc(this,ms)._--,C(this,ms)===0&&((e=C(this,Ma))==null||e.call(this),Y(this,Ma,void 0),(t=C(this,Da))==null||t.call(this),Y(this,Da,void 0))}isFetching(e){return C(this,ht).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,fs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,ht).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=C(this,ht).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(ba(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return C(this,ht).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=C(this,ht).get(r.queryHash),a=s==null?void 0:s.state.data,o=F_(t,a);if(o!==void 0)return C(this,ht).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ct.batch(()=>C(this,ht).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,ht).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=C(this,ht);Ct.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=C(this,ht),r={type:"active",...e};return Ct.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ct.batch(()=>C(this,ht).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(e={},t={}){return Ct.batch(()=>{if(C(this,ht).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ct.batch(()=>C(this,ht).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=C(this,ht).build(this,t);return n.isStaleByTime(ba(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=Nv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=Nv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rd.isOnline()?C(this,fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,ht)}getMutationCache(){return C(this,fs)}getDefaultOptions(){return C(this,hs)}setDefaultOptions(e){Y(this,hs,e)}setQueryDefaults(e,t){C(this,Ra).set(Pi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Ra).values()];let n={};return t.forEach(r=>{jl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){C(this,Oa).set(Pi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Oa).values()];let n={};return t.forEach(r=>{jl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,hs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Kp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,hs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,ht).clear(),C(this,fs).clear()}},ht=new WeakMap,fs=new WeakMap,hs=new WeakMap,Ra=new WeakMap,Oa=new WeakMap,ms=new WeakMap,Ma=new WeakMap,Da=new WeakMap,Pw),dn,Pe,Kl,Xt,gi,Fa,ps,dr,Gl,La,$a,xi,vi,gs,za,Be,$o,sm,im,am,om,lm,cm,dm,hj,Tw,X_=(Tw=class extends co{constructor(t,n){super();ue(this,Be);ue(this,dn);ue(this,Pe);ue(this,Kl);ue(this,Xt);ue(this,gi);ue(this,Fa);ue(this,ps);ue(this,dr);ue(this,Gl);ue(this,La);ue(this,$a);ue(this,xi);ue(this,vi);ue(this,gs);ue(this,za,new Set);this.options=n,Y(this,dn,t),Y(this,dr,null),Y(this,ps,rm()),this.options.experimental_prefetchInRender||C(this,ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Pe).addObserver(this),Cv(C(this,Pe),this.options)?we(this,Be,$o).call(this):this.updateResult(),we(this,Be,om).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return um(C(this,Pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return um(C(this,Pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Be,lm).call(this),we(this,Be,cm).call(this),C(this,Pe).removeObserver(this)}setOptions(t,n){const r=this.options,s=C(this,Pe);if(this.options=C(this,dn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qn(this.options.enabled,C(this,Pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Be,dm).call(this),C(this,Pe).setOptions(this.options),r._defaulted&&!Ad(this.options,r)&&C(this,dn).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Pe),observer:this});const a=this.hasListeners();a&&kv(C(this,Pe),s,this.options,r)&&we(this,Be,$o).call(this),this.updateResult(n),a&&(C(this,Pe)!==s||qn(this.options.enabled,C(this,Pe))!==qn(r.enabled,C(this,Pe))||ba(this.options.staleTime,C(this,Pe))!==ba(r.staleTime,C(this,Pe)))&&we(this,Be,sm).call(this);const o=we(this,Be,im).call(this);a&&(C(this,Pe)!==s||qn(this.options.enabled,C(this,Pe))!==qn(r.enabled,C(this,Pe))||o!==C(this,gs))&&we(this,Be,am).call(this,o)}getOptimisticResult(t){const n=C(this,dn).getQueryCache().build(C(this,dn),t),r=this.createResult(n,t);return eP(this,r)&&(Y(this,Xt,r),Y(this,Fa,this.options),Y(this,gi,C(this,Pe).state)),r}getCurrentResult(){return C(this,Xt)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){C(this,za).add(t)}getCurrentQuery(){return C(this,Pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=C(this,dn).defaultQueryOptions(t),r=C(this,dn).getQueryCache().build(C(this,dn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return we(this,Be,$o).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Xt)))}createResult(t,n){var _;const r=C(this,Pe),s=this.options,a=C(this,Xt),o=C(this,gi),l=C(this,Fa),d=t!==r?t.state:C(this,Kl),{state:f}=t;let u={...f},h=!1,w;if(n._optimisticResults){const O=this.hasListeners(),k=!O&&Cv(t,n),F=O&&kv(t,r,n,s);(k||F)&&(u={...u,...uj(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:v}=u;if(n.select&&u.data!==void 0)if(a&&u.data===(o==null?void 0:o.data)&&n.select===C(this,Gl))w=C(this,La);else try{Y(this,Gl,n.select),w=n.select(u.data),w=nm(a==null?void 0:a.data,w,n),Y(this,La,w),Y(this,dr,null)}catch(O){Y(this,dr,O)}else w=u.data;if(n.placeholderData!==void 0&&w===void 0&&v==="pending"){let O;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))O=a.data;else if(O=typeof n.placeholderData=="function"?n.placeholderData((_=C(this,$a))==null?void 0:_.state.data,C(this,$a)):n.placeholderData,n.select&&O!==void 0)try{O=n.select(O),Y(this,dr,null)}catch(k){Y(this,dr,k)}O!==void 0&&(v="success",w=nm(a==null?void 0:a.data,O,n),h=!0)}C(this,dr)&&(b=C(this,dr),w=C(this,La),x=Date.now(),v="error");const p=u.fetchStatus==="fetching",g=v==="pending",y=v==="error",j=g&&p,N=w!==void 0,E={status:v,fetchStatus:u.fetchStatus,isPending:g,isSuccess:v==="success",isError:y,isInitialLoading:j,isLoading:j,data:w,dataUpdatedAt:u.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!g,isLoadingError:y&&!N,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&N,isStale:Yp(t,n),refetch:this.refetch,promise:C(this,ps)};if(this.options.experimental_prefetchInRender){const O=R=>{E.status==="error"?R.reject(E.error):E.data!==void 0&&R.resolve(E.data)},k=()=>{const R=Y(this,ps,E.promise=rm());O(R)},F=C(this,ps);switch(F.status){case"pending":t.queryHash===r.queryHash&&O(F);break;case"fulfilled":(E.status==="error"||E.data!==F.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==F.reason)&&k();break}}return E}updateResult(t){const n=C(this,Xt),r=this.createResult(C(this,Pe),this.options);if(Y(this,gi,C(this,Pe).state),Y(this,Fa,this.options),C(this,gi).data!==void 0&&Y(this,$a,C(this,Pe)),Ad(r,n))return;Y(this,Xt,r);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!C(this,za).size)return!0;const c=new Set(l??C(this,za));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,Xt)).some(d=>{const f=d;return C(this,Xt)[f]!==n[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),we(this,Be,hj).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Be,om).call(this)}},dn=new WeakMap,Pe=new WeakMap,Kl=new WeakMap,Xt=new WeakMap,gi=new WeakMap,Fa=new WeakMap,ps=new WeakMap,dr=new WeakMap,Gl=new WeakMap,La=new WeakMap,$a=new WeakMap,xi=new WeakMap,vi=new WeakMap,gs=new WeakMap,za=new WeakMap,Be=new WeakSet,$o=function(t){we(this,Be,dm).call(this);let n=C(this,Pe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Tn)),n},sm=function(){we(this,Be,lm).call(this);const t=ba(this.options.staleTime,C(this,Pe));if(_i||C(this,Xt).isStale||!em(t))return;const r=sj(C(this,Xt).dataUpdatedAt,t)+1;Y(this,xi,setTimeout(()=>{C(this,Xt).isStale||this.updateResult()},r))},im=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Pe)):this.options.refetchInterval)??!1},am=function(t){we(this,Be,cm).call(this),Y(this,gs,t),!(_i||qn(this.options.enabled,C(this,Pe))===!1||!em(C(this,gs))||C(this,gs)===0)&&Y(this,vi,setInterval(()=>{(this.options.refetchIntervalInBackground||Gp.isFocused())&&we(this,Be,$o).call(this)},C(this,gs)))},om=function(){we(this,Be,sm).call(this),we(this,Be,am).call(this,we(this,Be,im).call(this))},lm=function(){C(this,xi)&&(clearTimeout(C(this,xi)),Y(this,xi,void 0))},cm=function(){C(this,vi)&&(clearInterval(C(this,vi)),Y(this,vi,void 0))},dm=function(){const t=C(this,dn).getQueryCache().build(C(this,dn),this.options);if(t===C(this,Pe))return;const n=C(this,Pe);Y(this,Pe,t),Y(this,Kl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},hj=function(t){Ct.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(C(this,Xt))}),C(this,dn).getQueryCache().notify({query:C(this,Pe),type:"observerResultsUpdated"})})},Tw);function J_(e,t){return qn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Cv(e,t){return J_(e,t)||e.state.data!==void 0&&um(e,t,t.refetchOnMount)}function um(e,t,n){if(qn(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Yp(e,t)}return!1}function kv(e,t,n,r){return(e!==t||qn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Yp(e,n)}function Yp(e,t){return qn(t.enabled,e)!==!1&&e.isStaleByTime(ba(t.staleTime,e))}function eP(e,t){return!Ad(e.getCurrentResult(),t)}var xs,vs,un,Ar,Lr,ed,fm,Iw,tP=(Iw=class extends co{constructor(n,r){super();ue(this,Lr);ue(this,xs);ue(this,vs);ue(this,un);ue(this,Ar);Y(this,xs,n),this.setOptions(r),this.bindMethods(),we(this,Lr,ed).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=C(this,xs).defaultMutationOptions(n),Ad(this.options,r)||C(this,xs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,un),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Pi(r.mutationKey)!==Pi(this.options.mutationKey)?this.reset():((s=C(this,un))==null?void 0:s.state.status)==="pending"&&C(this,un).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=C(this,un))==null||n.removeObserver(this)}onMutationUpdate(n){we(this,Lr,ed).call(this),we(this,Lr,fm).call(this,n)}getCurrentResult(){return C(this,vs)}reset(){var n;(n=C(this,un))==null||n.removeObserver(this),Y(this,un,void 0),we(this,Lr,ed).call(this),we(this,Lr,fm).call(this)}mutate(n,r){var s;return Y(this,Ar,r),(s=C(this,un))==null||s.removeObserver(this),Y(this,un,C(this,xs).getMutationCache().build(C(this,xs),this.options)),C(this,un).addObserver(this),C(this,un).execute(n)}},xs=new WeakMap,vs=new WeakMap,un=new WeakMap,Ar=new WeakMap,Lr=new WeakSet,ed=function(){var r;const n=((r=C(this,un))==null?void 0:r.state)??fj();Y(this,vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fm=function(n){Ct.batch(()=>{var r,s,a,o,l,c,d,f;if(C(this,Ar)&&this.hasListeners()){const u=C(this,vs).variables,h=C(this,vs).context;(n==null?void 0:n.type)==="success"?((s=(r=C(this,Ar)).onSuccess)==null||s.call(r,n.data,u,h),(o=(a=C(this,Ar)).onSettled)==null||o.call(a,n.data,null,u,h)):(n==null?void 0:n.type)==="error"&&((c=(l=C(this,Ar)).onError)==null||c.call(l,n.error,u,h),(f=(d=C(this,Ar)).onSettled)==null||f.call(d,void 0,n.error,u,h))}this.listeners.forEach(u=>{u(C(this,vs))})})},Iw),mj=m.createContext(void 0),Gt=e=>{const t=m.useContext(mj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nP=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(mj.Provider,{value:e,children:t})),pj=m.createContext(!1),rP=()=>m.useContext(pj);pj.Provider;function sP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iP=m.createContext(sP()),aP=()=>m.useContext(iP);function gj(e,t){return typeof e=="function"?e(...t):!!e}function hm(){}var oP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},lP=e=>{m.useEffect(()=>{e.clearReset()},[e])},cP=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&gj(n,[e.error,r]),dP=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},uP=(e,t)=>e.isLoading&&e.isFetching&&!t,fP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ev=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hP(e,t,n){var f,u,h,w,b;const r=Gt(),s=rP(),a=aP(),o=r.defaultQueryOptions(e);(u=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||u.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",dP(o),oP(o,a),lP(a);const l=!r.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(x=>{const v=s?hm:c.subscribe(Ct.batchCalls(x));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),fP(o,d))throw Ev(o,c,a);if(cP({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((w=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||w.call(h,o,d),o.experimental_prefetchInRender&&!_i&&uP(d,s)){const x=l?Ev(o,c,a):(b=r.getQueryCache().get(o.queryHash))==null?void 0:b.promise;x==null||x.catch(hm).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Le(e,t){return hP(e,X_)}function Ie(e,t){const n=Gt(),[r]=m.useState(()=>new tP(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(Ct.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((o,l)=>{r.mutate(o,l).catch(hm)},[r]);if(s.error&&gj(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function xj(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function me(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await xj(r),r}const mP=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await xj(n),await n.json())},ja=new Z_({defaultOptions:{queries:{queryFn:mP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),pP=1,gP=1e6;let If=0;function xP(){return If=(If+1)%Number.MAX_SAFE_INTEGER,If.toString()}const Af=new Map,_v=e=>{if(Af.has(e))return;const t=setTimeout(()=>{Af.delete(e),el({type:"REMOVE_TOAST",toastId:e})},gP);Af.set(e,t)},vP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?_v(n):e.toasts.forEach(r=>{_v(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},td=[];let nd={toasts:[]};function el(e){nd=vP(nd,e),td.forEach(t=>{t(nd)})}function yP({...e}){const t=xP(),n=s=>el({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>el({type:"DISMISS_TOAST",toastId:t});return el({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function wt(){const[e,t]=m.useState(nd);return m.useEffect(()=>(td.push(t),()=>{const n=td.indexOf(t);n>-1&&td.splice(n,1)}),[e]),{...e,toast:yP,dismiss:n=>el({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Pv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vj(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Pv(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Pv(e[s],null)}}}}function Ve(...e){return m.useCallback(vj(...e),e)}function wP(e,t){const n=m.createContext(t),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Fn(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=u=>{var p;const{scope:h,children:w,...b}=u,x=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useMemo(()=>b,Object.values(b));return i.jsx(x.Provider,{value:v,children:w})};d.displayName=a+"Provider";function f(u,h){var x;const w=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useContext(w);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,bP(s,...t)]}function bP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const u=c(a)[`__scope${d}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ya(e){const t=jP(e),n=m.forwardRef((r,s)=>{const{children:a,...o}=r,l=m.Children.toArray(a),c=l.find(NP);if(c){const d=c.props.children,f=l.map(u=>u===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:u);return i.jsx(t,{...o,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var yj=Ya("Slot");function jP(e){const t=m.forwardRef((n,r)=>{const{children:s,...a}=n;if(m.isValidElement(s)){const o=CP(s),l=SP(a,s.props);return s.type!==m.Fragment&&(l.ref=r?vj(r,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wj=Symbol("radix.slottable");function bj(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=wj,t}function NP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wj}function SP(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function CP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qp(e){const t=e+"CollectionProvider",[n,r]=Fn(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:v,children:p}=x,g=xe.useRef(null),y=xe.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:y,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=Ya(l),d=xe.forwardRef((x,v)=>{const{scope:p,children:g}=x,y=a(l,p),j=Ve(v,y.collectionRef);return i.jsx(c,{ref:j,children:g})});d.displayName=l;const f=e+"CollectionItemSlot",u="data-radix-collection-item",h=Ya(f),w=xe.forwardRef((x,v)=>{const{scope:p,children:g,...y}=x,j=xe.useRef(null),N=Ve(v,j),P=a(f,p);return xe.useEffect(()=>(P.itemMap.set(j,{ref:j,...y}),()=>void P.itemMap.delete(j))),i.jsx(h,{[u]:"",ref:N,children:g})});w.displayName=f;function b(x){const v=a(e+"CollectionConsumer",x);return xe.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((P,E)=>y.indexOf(P.ref.current)-y.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},b,r]}var kP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=kP.reduce((e,t)=>{const n=Ya(`Primitive.${t}`),r=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jj(e,t){e&&Wi.flushSync(()=>e.dispatchEvent(t))}function xn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function EP(e,t=globalThis==null?void 0:globalThis.document){const n=xn(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _P="DismissableLayer",mm="dismissableLayer.update",PP="dismissableLayer.pointerDownOutside",TP="dismissableLayer.focusOutside",Tv,Nj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(Nj),[f,u]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=m.useState({}),b=Ve(t,E=>u(E)),x=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(v),g=f?x.indexOf(f):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=g>=p,N=AP(E=>{const _=E.target,O=[...d.branches].some(k=>k.contains(_));!j||O||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},h),P=RP(E=>{const _=E.target;[...d.branches].some(k=>k.contains(_))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},h);return EP(E=>{g===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Tv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Iv(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Tv)}},[f,h,n,d]),m.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Iv())},[f,d]),m.useEffect(()=>{const E=()=>w({});return document.addEventListener(mm,E),()=>document.removeEventListener(mm,E)},[]),i.jsx(pe.div,{...c,ref:b,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,N.onPointerDownCapture)})});tc.displayName=_P;var IP="DismissableLayerBranch",Sj=m.forwardRef((e,t)=>{const n=m.useContext(Nj),r=m.useRef(null),s=Ve(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(pe.div,{...e,ref:s})});Sj.displayName=IP;function AP(e,t=globalThis==null?void 0:globalThis.document){const n=xn(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Cj(PP,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function RP(e,t=globalThis==null?void 0:globalThis.document){const n=xn(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&Cj(TP,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Iv(){const e=new CustomEvent(mm);document.dispatchEvent(e)}function Cj(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?jj(s,a):s.dispatchEvent(a)}var OP=tc,MP=Sj,Vt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},DP="Portal",ku=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);Vt(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?o_.createPortal(i.jsx(pe.div,{...r,ref:t}),o):null});ku.displayName=DP;function FP(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Qs=e=>{const{present:t,children:n}=e,r=LP(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=Ve(r.ref,$P(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};Qs.displayName="Presence";function LP(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=FP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Rc(r.current);a.current=l==="mounted"?d:"none"},[l]),Vt(()=>{const d=r.current,f=s.current;if(f!==e){const h=a.current,w=Rc(d);e?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&h!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Vt(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,u=w=>{const x=Rc(r.current).includes(w.animationName);if(w.target===t&&x&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=w=>{w.target===t&&(a.current=Rc(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Rc(e){return(e==null?void 0:e.animationName)||"none"}function $P(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ms({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=zP({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=xn(n),c=m.useCallback(d=>{if(a){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else s(d)},[a,e,s,l]);return[o,c]}function zP({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=xn(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var UP="VisuallyHidden",nc=m.forwardRef((e,t)=>i.jsx(pe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));nc.displayName=UP;var BP=nc,Zp="ToastProvider",[Xp,VP,HP]=Qp("Toast"),[kj,w5]=Fn("Toast",[HP]),[WP,Eu]=kj(Zp),Ej=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[d,f]=m.useState(0),u=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zp}\`. Expected non-empty \`string\`.`),i.jsx(Xp.Provider,{scope:t,children:i.jsx(WP,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(w=>w+1),[]),onToastRemove:m.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:o})})};Ej.displayName=Zp;var _j="ToastViewport",qP=["F8"],pm="toast.viewportPause",gm="toast.viewportResume",Pj=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=qP,label:s="Notifications ({hotkey})",...a}=e,o=Eu(_j,n),l=VP(n),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),u=m.useRef(null),h=Ve(t,u,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const v=p=>{var y;r.length!==0&&r.every(j=>p[j]||p.code===j)&&((y=u.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),m.useEffect(()=>{const v=c.current,p=u.current;if(b&&v&&p){const g=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(pm);p.dispatchEvent(P),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(gm);p.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!v.contains(P.relatedTarget)&&y()},N=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",g),v.addEventListener("focusout",j),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",y)}}},[b,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:v})=>{const g=l().map(y=>{const j=y.ref.current,N=[j,...iT(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const v=u.current;if(v){const p=g=>{var N,P,E;const y=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!y){const _=document.activeElement,O=g.shiftKey;if(g.target===v&&O){(N=d.current)==null||N.focus();return}const R=x({tabbingDirection:O?"backwards":"forwards"}),T=R.findIndex(L=>L===_);Rf(R.slice(T+1))?g.preventDefault():O?(P=d.current)==null||P.focus():(E=f.current)==null||E.focus()}};return v.addEventListener("keydown",p),()=>v.removeEventListener("keydown",p)}},[l,x]),i.jsxs(MP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&i.jsx(xm,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});Rf(v)}}),i.jsx(Xp.Slot,{scope:n,children:i.jsx(pe.ol,{tabIndex:-1,...a,ref:h})}),b&&i.jsx(xm,{ref:f,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});Rf(v)}})]})});Pj.displayName=_j;var Tj="ToastFocusProxy",xm=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Eu(Tj,n);return i.jsx(nc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});xm.displayName=Tj;var _u="Toast",KP="toast.swipeStart",GP="toast.swipeMove",YP="toast.swipeCancel",QP="toast.swipeEnd",Ij=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Ms({prop:r,defaultProp:s,onChange:a});return i.jsx(Qs,{present:n||l,children:i.jsx(JP,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xn(e.onPause),onResume:xn(e.onResume),onSwipeStart:oe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,d=>{const{x:f,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:oe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,d=>{const{x:f,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});Ij.displayName=_u;var[ZP,XP]=kj(_u,{onClose(){}}),JP=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:w,...b}=e,x=Eu(_u,n),[v,p]=m.useState(null),g=Ve(t,L=>p(L)),y=m.useRef(null),j=m.useRef(null),N=s||x.duration,P=m.useRef(0),E=m.useRef(N),_=m.useRef(0),{onToastAdd:O,onToastRemove:k}=x,F=xn(()=>{var z;(v==null?void 0:v.contains(document.activeElement))&&((z=x.viewport)==null||z.focus()),o()}),R=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(_.current),P.current=new Date().getTime(),_.current=window.setTimeout(F,L))},[F]);m.useEffect(()=>{const L=x.viewport;if(L){const z=()=>{R(E.current),d==null||d()},H=()=>{const J=new Date().getTime()-P.current;E.current=E.current-J,window.clearTimeout(_.current),c==null||c()};return L.addEventListener(pm,H),L.addEventListener(gm,z),()=>{L.removeEventListener(pm,H),L.removeEventListener(gm,z)}}},[x.viewport,N,c,d,R]),m.useEffect(()=>{a&&!x.isClosePausedRef.current&&R(N)},[a,N,x.isClosePausedRef,R]),m.useEffect(()=>(O(),()=>k()),[O,k]);const T=m.useMemo(()=>v?Lj(v):null,[v]);return x.viewport?i.jsxs(i.Fragment,{children:[T&&i.jsx(eT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),i.jsx(ZP,{scope:n,onClose:F,children:Wi.createPortal(i.jsx(Xp.ItemSlot,{scope:n,children:i.jsx(OP,{asChild:!0,onEscapeKeyDown:oe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||F(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:oe(e.onPointerDown,L=>{L.button===0&&(y.current={x:L.clientX,y:L.clientY})}),onPointerMove:oe(e.onPointerMove,L=>{if(!y.current)return;const z=L.clientX-y.current.x,H=L.clientY-y.current.y,J=!!j.current,M=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,X=M?B(0,z):0,ae=M?0:B(0,H),Ee=L.pointerType==="touch"?10:2,nt={x:X,y:ae},at={originalEvent:L,delta:nt};J?(j.current=nt,Oc(GP,u,at,{discrete:!1})):Av(nt,x.swipeDirection,Ee)?(j.current=nt,Oc(KP,f,at,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(z)>Ee||Math.abs(H)>Ee)&&(y.current=null)}),onPointerUp:oe(e.onPointerUp,L=>{const z=j.current,H=L.target;if(H.hasPointerCapture(L.pointerId)&&H.releasePointerCapture(L.pointerId),j.current=null,y.current=null,z){const J=L.currentTarget,M={originalEvent:L,delta:z};Av(z,x.swipeDirection,x.swipeThreshold)?Oc(QP,w,M,{discrete:!0}):Oc(YP,h,M,{discrete:!0}),J.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),eT=e=>{const{__scopeToast:t,children:n,...r}=e,s=Eu(_u,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return rT(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(ku,{asChild:!0,children:i.jsx(nc,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},tT="ToastTitle",Aj=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(pe.div,{...r,ref:t})});Aj.displayName=tT;var nT="ToastDescription",Rj=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(pe.div,{...r,ref:t})});Rj.displayName=nT;var Oj="ToastAction",Mj=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(Fj,{altText:n,asChild:!0,children:i.jsx(Jp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Oj}\`. Expected non-empty \`string\`.`),null)});Mj.displayName=Oj;var Dj="ToastClose",Jp=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=XP(Dj,n);return i.jsx(Fj,{asChild:!0,children:i.jsx(pe.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});Jp.displayName=Dj;var Fj=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Lj(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),sT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Lj(r))}}),t}function Oc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?jj(s,a):s.dispatchEvent(a)}var Av=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function rT(e=()=>{}){const t=xn(e);Vt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function sT(e){return e.nodeType===e.ELEMENT_NODE}function iT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Rf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var aT=Ej,$j=Pj,zj=Ij,Uj=Aj,Bj=Rj,Vj=Mj,Hj=Jp;function Wj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Wj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Wj(e))&&(r&&(r+=" "),r+=t);return r}const Rv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ov=qj,uo=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ov(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],u=a==null?void 0:a[d];if(f===null)return null;const h=Rv(f)||Rv(u);return s[d][h]}),l=n&&Object.entries(n).reduce((d,f)=>{let[u,h]=f;return h===void 0||(d[u]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:u,className:h,...w}=f;return Object.entries(w).every(b=>{let[x,v]=b;return Array.isArray(v)?v.includes({...a,...l}[x]):{...a,...l}[x]===v})?[...d,u,h]:d},[]);return Ov(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kj=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...lT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kj("lucide",s),...l},[...o.map(([d,f])=>m.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const n=m.forwardRef(({className:r,...s},a)=>m.createElement(cT,{ref:a,iconNode:t,className:Kj(`lucide-${oT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=se("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=se("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=se("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=se("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=se("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=se("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ag="-",ET=e=>{const t=PT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(ag);return l[0]===""&&l.length!==1&&l.shift(),Jj(l,t)||_T(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Jj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Jj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(ag);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Uv=/^\[(.+)\]$/,_T=e=>{if(Uv.test(e)){const t=Uv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},PT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return IT(Object.entries(e.classGroups),n).forEach(([a,o])=>{jm(o,r,a,t)}),r},jm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Bv(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(TT(s)){jm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{jm(o,Bv(t,a),n,r)})})},Bv=(e,t)=>{let n=e;return t.split(ag).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TT=e=>e.isThemeGetter,IT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,AT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},eN="!",RT=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,f=0,u;for(let v=0;v<l.length;v++){let p=l[v];if(d===0){if(p===s&&(r||l.slice(v,v+a)===t)){c.push(l.slice(f,v)),f=v+a;continue}if(p==="/"){u=v;continue}}p==="["?d++:p==="]"&&d--}const h=c.length===0?l:l.substring(f),w=h.startsWith(eN),b=w?h.substring(1):h,x=u&&u>f?u-f:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},OT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},MT=e=>({cache:AT(e.cacheSize),parseClassName:RT(e),...ET(e)}),DT=/\s+/,FT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(DT);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:w}=n(d);let b=!!w,x=r(b?h.substring(0,w):h);if(!x){if(!b){l=d+(l.length>0?" "+l:l);continue}if(x=r(h),!x){l=d+(l.length>0?" "+l:l);continue}b=!1}const v=OT(f).join(":"),p=u?v+eN:v,g=p+x;if(a.includes(g))continue;a.push(g);const y=s(x,b);for(let j=0;j<y.length;++j){const N=y[j];a.push(p+N)}l=d+(l.length>0?" "+l:l)}return l};function LT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tN(t))&&(r&&(r+=" "),r+=n);return r}const tN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tN(e[r]))&&(n&&(n+=" "),n+=t);return n};function $T(e,...t){let n,r,s,a=o;function o(c){const d=t.reduce((f,u)=>u(f),e());return n=MT(d),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=FT(c,n);return s(c,f),f}return function(){return a(LT.apply(null,arguments))}}const Xe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nN=/^\[(?:([a-z-]+):)?(.+)\]$/i,zT=/^\d+\/\d+$/,UT=new Set(["px","full","screen"]),BT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=e=>Na(e)||UT.has(e)||zT.test(e),Xr=e=>ho(e,"length",eI),Na=e=>!!e&&!Number.isNaN(Number(e)),Mf=e=>ho(e,"number",Na),Eo=e=>!!e&&Number.isInteger(Number(e)),KT=e=>e.endsWith("%")&&Na(e.slice(0,-1)),ye=e=>nN.test(e),Jr=e=>BT.test(e),GT=new Set(["length","size","percentage"]),YT=e=>ho(e,GT,rN),QT=e=>ho(e,"position",rN),ZT=new Set(["image","url"]),XT=e=>ho(e,ZT,nI),JT=e=>ho(e,"",tI),_o=()=>!0,ho=(e,t,n)=>{const r=nN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},eI=e=>VT.test(e)&&!HT.test(e),rN=()=>!1,tI=e=>WT.test(e),nI=e=>qT.test(e),rI=()=>{const e=Xe("colors"),t=Xe("spacing"),n=Xe("blur"),r=Xe("brightness"),s=Xe("borderColor"),a=Xe("borderRadius"),o=Xe("borderSpacing"),l=Xe("borderWidth"),c=Xe("contrast"),d=Xe("grayscale"),f=Xe("hueRotate"),u=Xe("invert"),h=Xe("gap"),w=Xe("gradientColorStops"),b=Xe("gradientColorStopPositions"),x=Xe("inset"),v=Xe("margin"),p=Xe("opacity"),g=Xe("padding"),y=Xe("saturate"),j=Xe("scale"),N=Xe("sepia"),P=Xe("skew"),E=Xe("space"),_=Xe("translate"),O=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",ye,t],R=()=>[ye,t],T=()=>["",Sr,Xr],L=()=>["auto",Na,ye],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ye],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Na,ye];return{cacheSize:500,separator:":",theme:{colors:[_o],spacing:[Sr,Xr],blur:["none","",Jr,ye],brightness:ae(),borderColor:[e],borderRadius:["none","","full",Jr,ye],borderSpacing:R(),borderWidth:T(),contrast:ae(),grayscale:B(),hueRotate:ae(),invert:B(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[KT,Xr],inset:F(),margin:F(),opacity:ae(),padding:R(),saturate:ae(),scale:ae(),sepia:B(),skew:ae(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Jr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),ye]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eo,ye]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Eo,ye]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",Eo,ye]},ye]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[Eo,ye]},ye]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[Jr]},Jr]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jr,Xr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mf]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Na,Mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,Xr]}],"underline-offset":[{"underline-offset":["auto",Sr,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),QT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Sr,ye]}],"outline-w":[{outline:[Sr,Xr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Sr,Xr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jr,JT]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Jr,ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Eo,ye]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sr,Xr,Mf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sI=$T(rI);function ne(...e){return sI(qj(e))}const iI=aT,sN=m.forwardRef(({className:e,...t},n)=>i.jsx($j,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sN.displayName=$j.displayName;const aI=uo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iN=m.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(zj,{ref:r,className:ne(aI({variant:t}),e),...n}));iN.displayName=zj.displayName;const oI=m.forwardRef(({className:e,...t},n)=>i.jsx(Vj,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));oI.displayName=Vj.displayName;const aN=m.forwardRef(({className:e,...t},n)=>i.jsx(Hj,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(qi,{className:"h-4 w-4"})}));aN.displayName=Hj.displayName;const oN=m.forwardRef(({className:e,...t},n)=>i.jsx(Uj,{ref:n,className:ne("text-sm font-semibold",e),...t}));oN.displayName=Uj.displayName;const lN=m.forwardRef(({className:e,...t},n)=>i.jsx(Bj,{ref:n,className:ne("text-sm opacity-90",e),...t}));lN.displayName=Bj.displayName;function lI(){const{toasts:e}=wt();return i.jsxs(iI,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(iN,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(oN,{children:n}),r&&i.jsx(lN,{children:r})]}),s,i.jsx(aN,{})]},t)}),i.jsx(sN,{})]})}var cI=Vw[" useId ".trim().toString()]||(()=>{}),dI=0;function Ps(e){const[t,n]=m.useState(cI());return Vt(()=>{n(r=>r??String(dI++))},[e]),t?`radix-${t}`:""}const uI=["top","right","bottom","left"],Ds=Math.min,bn=Math.max,Fd=Math.round,Dc=Math.floor,xr=e=>({x:e,y:e}),fI={left:"right",right:"left",bottom:"top",top:"bottom"},hI={start:"end",end:"start"};function Nm(e,t,n){return bn(e,Ds(t,n))}function Hr(e,t){return typeof e=="function"?e(t):e}function Wr(e){return e.split("-")[0]}function mo(e){return e.split("-")[1]}function og(e){return e==="x"?"y":"x"}function lg(e){return e==="y"?"height":"width"}function Fs(e){return["top","bottom"].includes(Wr(e))?"y":"x"}function cg(e){return og(Fs(e))}function mI(e,t,n){n===void 0&&(n=!1);const r=mo(e),s=cg(e),a=lg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ld(o)),[o,Ld(o)]}function pI(e){const t=Ld(e);return[Sm(e),t,Sm(t)]}function Sm(e){return e.replace(/start|end/g,t=>hI[t])}function gI(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function xI(e,t,n,r){const s=mo(e);let a=gI(Wr(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Sm)))),a}function Ld(e){return e.replace(/left|right|bottom|top/g,t=>fI[t])}function vI(e){return{top:0,right:0,bottom:0,left:0,...e}}function cN(e){return typeof e!="number"?vI(e):{top:e,right:e,bottom:e,left:e}}function $d(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Vv(e,t,n){let{reference:r,floating:s}=e;const a=Fs(t),o=cg(t),l=lg(o),c=Wr(t),d=a==="y",f=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let w;switch(c){case"top":w={x:f,y:r.y-s.height};break;case"bottom":w={x:f,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:u};break;case"left":w={x:r.x-s.width,y:u};break;default:w={x:r.x,y:r.y}}switch(mo(t)){case"start":w[o]-=h*(n&&d?-1:1);break;case"end":w[o]+=h*(n&&d?-1:1);break}return w}const yI=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:u}=Vv(d,r,c),h=r,w={},b=0;for(let x=0;x<l.length;x++){const{name:v,fn:p}=l[x],{x:g,y,data:j,reset:N}=await p({x:f,y:u,initialPlacement:r,placement:h,strategy:s,middlewareData:w,rects:d,platform:o,elements:{reference:e,floating:t}});f=g??f,u=y??u,w={...w,[v]:{...w[v],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:f,y:u}=Vv(d,h,c)),x=-1)}return{x:f,y:u,placement:h,strategy:s,middlewareData:w}};async function Cl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:h=!1,padding:w=0}=Hr(t,e),b=cN(w),v=l[h?u==="floating"?"reference":"floating":u],p=$d(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),g=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},N=$d(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:y,strategy:c}):g);return{top:(p.top-N.top+b.top)/j.y,bottom:(N.bottom-p.bottom+b.bottom)/j.y,left:(p.left-N.left+b.left)/j.x,right:(N.right-p.right+b.right)/j.x}}const wI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=Hr(e,t)||{};if(d==null)return{};const u=cN(f),h={x:n,y:r},w=cg(s),b=lg(w),x=await o.getDimensions(d),v=w==="y",p=v?"top":"left",g=v?"bottom":"right",y=v?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[w]-h[w]-a.floating[b],N=h[w]-a.reference[w],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=P?P[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(P)))&&(E=l.floating[y]||a.floating[b]);const _=j/2-N/2,O=E/2-x[b]/2-1,k=Ds(u[p],O),F=Ds(u[g],O),R=k,T=E-x[b]-F,L=E/2-x[b]/2+_,z=Nm(R,L,T),H=!c.arrow&&mo(s)!=null&&L!==z&&a.reference[b]/2-(L<R?k:F)-x[b]/2<0,J=H?L<R?L-R:L-T:0;return{[w]:h[w]+J,data:{[w]:z,centerOffset:L-z-J,...H&&{alignmentOffset:J}},reset:H}}}),bI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...v}=Hr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=Wr(s),g=Fs(l),y=Wr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(y||!x?[Ld(l)]:pI(l)),P=b!=="none";!h&&P&&N.push(...xI(l,x,b,j));const E=[l,...N],_=await Cl(t,v),O=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&O.push(_[p]),u){const L=mI(s,o,j);O.push(_[L[0]],_[L[1]])}if(k=[...k,{placement:s,overflows:O}],!O.every(L=>L<=0)){var F,R;const L=(((F=a.flip)==null?void 0:F.index)||0)+1,z=E[L];if(z)return{data:{index:L,overflows:k},reset:{placement:z}};let H=(R=k.filter(J=>J.overflows[0]<=0).sort((J,M)=>J.overflows[1]-M.overflows[1])[0])==null?void 0:R.placement;if(!H)switch(w){case"bestFit":{var T;const J=(T=k.filter(M=>{if(P){const B=Fs(M.placement);return B===g||B==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,X)=>B+X,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:T[0];J&&(H=J);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Hv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wv(e){return uI.some(t=>e[t]>=0)}const jI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Hr(e,t);switch(r){case"referenceHidden":{const a=await Cl(t,{...s,elementContext:"reference"}),o=Hv(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Wv(o)}}}case"escaped":{const a=await Cl(t,{...s,altBoundary:!0}),o=Hv(a,n.floating);return{data:{escapedOffsets:o,escaped:Wv(o)}}}default:return{}}}}};async function NI(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wr(n),l=mo(n),c=Fs(n)==="y",d=["left","top"].includes(o)?-1:1,f=a&&c?-1:1,u=Hr(t,e);let{mainAxis:h,crossAxis:w,alignmentAxis:b}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof b=="number"&&(w=l==="end"?b*-1:b),c?{x:w*f,y:h*d}:{x:h*d,y:w*f}}const SI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await NI(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},CI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:p,y:g}=v;return{x:p,y:g}}},...c}=Hr(e,t),d={x:n,y:r},f=await Cl(t,c),u=Fs(Wr(s)),h=og(u);let w=d[h],b=d[u];if(a){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",g=w+f[v],y=w-f[p];w=Nm(g,w,y)}if(o){const v=u==="y"?"top":"left",p=u==="y"?"bottom":"right",g=b+f[v],y=b-f[p];b=Nm(g,b,y)}const x=l.fn({...t,[h]:w,[u]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:a,[u]:o}}}}}},kI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Hr(e,t),f={x:n,y:r},u=Fs(s),h=og(u);let w=f[h],b=f[u];const x=Hr(l,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=h==="y"?"height":"width",j=a.reference[h]-a.floating[y]+v.mainAxis,N=a.reference[h]+a.reference[y]-v.mainAxis;w<j?w=j:w>N&&(w=N)}if(d){var p,g;const y=h==="y"?"width":"height",j=["top","left"].includes(Wr(s)),N=a.reference[u]-a.floating[y]+(j&&((p=o.offset)==null?void 0:p[u])||0)+(j?0:v.crossAxis),P=a.reference[u]+a.reference[y]+(j?0:((g=o.offset)==null?void 0:g[u])||0)-(j?v.crossAxis:0);b<N?b=N:b>P&&(b=P)}return{[h]:w,[u]:b}}}},EI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Hr(e,t),f=await Cl(t,d),u=Wr(s),h=mo(s),w=Fs(s)==="y",{width:b,height:x}=a.floating;let v,p;u==="top"||u==="bottom"?(v=u,p=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=u,v=h==="end"?"top":"bottom");const g=x-f.top-f.bottom,y=b-f.left-f.right,j=Ds(x-f[v],g),N=Ds(b-f[p],y),P=!t.middlewareData.shift;let E=j,_=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=g),P&&!h){const k=bn(f.left,0),F=bn(f.right,0),R=bn(f.top,0),T=bn(f.bottom,0);w?_=b-2*(k!==0||F!==0?k+F:bn(f.left,f.right)):E=x-2*(R!==0||T!==0?R+T:bn(f.top,f.bottom))}await c({...t,availableWidth:_,availableHeight:E});const O=await o.getDimensions(l.floating);return b!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function Pu(){return typeof window<"u"}function po(e){return dN(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nr(e){var t;return(t=(dN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dN(e){return Pu()?e instanceof Node||e instanceof Sn(e).Node:!1}function er(e){return Pu()?e instanceof Element||e instanceof Sn(e).Element:!1}function wr(e){return Pu()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function qv(e){return!Pu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}function sc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function _I(e){return["table","td","th"].includes(po(e))}function Tu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function dg(e){const t=ug(),n=er(e)?tr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function PI(e){let t=Ls(e);for(;wr(t)&&!Qa(t);){if(dg(t))return t;if(Tu(t))return null;t=Ls(t)}return null}function ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qa(e){return["html","body","#document"].includes(po(e))}function tr(e){return Sn(e).getComputedStyle(e)}function Iu(e){return er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ls(e){if(po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qv(e)&&e.host||Nr(e);return qv(t)?t.host:t}function uN(e){const t=Ls(e);return Qa(t)?e.ownerDocument?e.ownerDocument.body:e.body:wr(t)&&sc(t)?t:uN(t)}function kl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=uN(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Sn(s);if(a){const l=Cm(o);return t.concat(o,o.visualViewport||[],sc(s)?s:[],l&&n?kl(l):[])}return t.concat(s,kl(s,[],n))}function Cm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fN(e){const t=tr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=wr(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Fd(n)!==a||Fd(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function fg(e){return er(e)?e:e.contextElement}function Sa(e){const t=fg(e);if(!wr(t))return xr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=fN(t);let o=(a?Fd(n.width):n.width)/r,l=(a?Fd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TI=xr(0);function hN(e){const t=Sn(e);return!ug()||!t.visualViewport?TI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function II(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sn(e)?!1:t}function Ai(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=fg(e);let o=xr(1);t&&(r?er(r)&&(o=Sa(r)):o=Sa(e));const l=II(a,n,r)?hN(a):xr(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,u=s.height/o.y;if(a){const h=Sn(a),w=r&&er(r)?Sn(r):r;let b=h,x=Cm(b);for(;x&&r&&w!==b;){const v=Sa(x),p=x.getBoundingClientRect(),g=tr(x),y=p.left+(x.clientLeft+parseFloat(g.paddingLeft))*v.x,j=p.top+(x.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,d*=v.y,f*=v.x,u*=v.y,c+=y,d+=j,b=Sn(x),x=Cm(b)}}return $d({width:f,height:u,x:c,y:d})}function hg(e,t){const n=Iu(e).scrollLeft;return t?t.left+n:Ai(Nr(e)).left+n}function mN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:hg(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function AI(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=Nr(r),l=t?Tu(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=xr(1);const f=xr(0),u=wr(r);if((u||!u&&!a)&&((po(r)!=="body"||sc(o))&&(c=Iu(r)),wr(r))){const w=Ai(r);d=Sa(r),f.x=w.x+r.clientLeft,f.y=w.y+r.clientTop}const h=o&&!u&&!a?mN(o,c,!0):xr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+h.x,y:n.y*d.y-c.scrollTop*d.y+f.y+h.y}}function RI(e){return Array.from(e.getClientRects())}function OI(e){const t=Nr(e),n=Iu(e),r=e.ownerDocument.body,s=bn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=bn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hg(e);const l=-n.scrollTop;return tr(r).direction==="rtl"&&(o+=bn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function MI(e,t){const n=Sn(e),r=Nr(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=ug();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function DI(e,t){const n=Ai(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=wr(e)?Sa(e):xr(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function Kv(e,t,n){let r;if(t==="viewport")r=MI(e,n);else if(t==="document")r=OI(Nr(e));else if(er(t))r=DI(t,n);else{const s=hN(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return $d(r)}function pN(e,t){const n=Ls(e);return n===t||!er(n)||Qa(n)?!1:tr(n).position==="fixed"||pN(n,t)}function FI(e,t){const n=t.get(e);if(n)return n;let r=kl(e,[],!1).filter(l=>er(l)&&po(l)!=="body"),s=null;const a=tr(e).position==="fixed";let o=a?Ls(e):e;for(;er(o)&&!Qa(o);){const l=tr(o),c=dg(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||sc(o)&&!c&&pN(e,o))?r=r.filter(f=>f!==o):s=l,o=Ls(o)}return t.set(e,r),r}function LI(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Tu(t)?[]:FI(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const u=Kv(t,f,s);return d.top=bn(u.top,d.top),d.right=Ds(u.right,d.right),d.bottom=Ds(u.bottom,d.bottom),d.left=bn(u.left,d.left),d},Kv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $I(e){const{width:t,height:n}=fN(e);return{width:t,height:n}}function zI(e,t,n){const r=wr(t),s=Nr(t),a=n==="fixed",o=Ai(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=xr(0);if(r||!r&&!a)if((po(t)!=="body"||sc(s))&&(l=Iu(t)),r){const h=Ai(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=hg(s));const d=s&&!r&&!a?mN(s,l):xr(0),f=o.left+l.scrollLeft-c.x-d.x,u=o.top+l.scrollTop-c.y-d.y;return{x:f,y:u,width:o.width,height:o.height}}function Df(e){return tr(e).position==="static"}function Gv(e,t){if(!wr(e)||tr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Nr(e)===n&&(n=n.ownerDocument.body),n}function gN(e,t){const n=Sn(e);if(Tu(e))return n;if(!wr(e)){let s=Ls(e);for(;s&&!Qa(s);){if(er(s)&&!Df(s))return s;s=Ls(s)}return n}let r=Gv(e,t);for(;r&&_I(r)&&Df(r);)r=Gv(r,t);return r&&Qa(r)&&Df(r)&&!dg(r)?n:r||PI(e)||n}const UI=async function(e){const t=this.getOffsetParent||gN,n=this.getDimensions,r=await n(e.floating);return{reference:zI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BI(e){return tr(e).direction==="rtl"}const VI={convertOffsetParentRelativeRectToViewportRelativeRect:AI,getDocumentElement:Nr,getClippingRect:LI,getOffsetParent:gN,getElementRects:UI,getClientRects:RI,getDimensions:$I,getScale:Sa,isElement:er,isRTL:BI};function xN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HI(e,t){let n=null,r;const s=Nr(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:f,top:u,width:h,height:w}=d;if(l||t(),!h||!w)return;const b=Dc(u),x=Dc(s.clientWidth-(f+h)),v=Dc(s.clientHeight-(u+w)),p=Dc(f),y={rootMargin:-b+"px "+-x+"px "+-v+"px "+-p+"px",threshold:bn(0,Ds(1,c))||1};let j=!0;function N(P){const E=P[0].intersectionRatio;if(E!==c){if(!j)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!xN(d,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,y)}n.observe(e)}return o(!0),a}function WI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=fg(e),f=s||a?[...d?kl(d):[],...kl(t)]:[];f.forEach(p=>{s&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const u=d&&l?HI(d,n):null;let h=-1,w=null;o&&(w=new ResizeObserver(p=>{let[g]=p;g&&g.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=w)==null||y.observe(t)})),n()}),d&&!c&&w.observe(d),w.observe(t));let b,x=c?Ai(e):null;c&&v();function v(){const p=Ai(e);x&&!xN(x,p)&&n(),x=p,b=requestAnimationFrame(v)}return n(),()=>{var p;f.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),u==null||u(),(p=w)==null||p.disconnect(),w=null,c&&cancelAnimationFrame(b)}}const qI=SI,KI=CI,GI=bI,YI=EI,QI=jI,Yv=wI,ZI=kI,XI=(e,t,n)=>{const r=new Map,s={platform:VI,...n},a={...s.platform,_c:r};return yI(e,t,{...s,platform:a})};var rd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function zd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!zd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function vN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qv(e,t){const n=vN(e);return Math.round(t*n)/n}function Ff(e){const t=m.useRef(e);return rd(()=>{t.current=e}),t}function JI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,u]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,w]=m.useState(r);zd(h,r)||w(r);const[b,x]=m.useState(null),[v,p]=m.useState(null),g=m.useCallback(M=>{M!==P.current&&(P.current=M,x(M))},[]),y=m.useCallback(M=>{M!==E.current&&(E.current=M,p(M))},[]),j=a||b,N=o||v,P=m.useRef(null),E=m.useRef(null),_=m.useRef(f),O=c!=null,k=Ff(c),F=Ff(s),R=Ff(d),T=m.useCallback(()=>{if(!P.current||!E.current)return;const M={placement:t,strategy:n,middleware:h};F.current&&(M.platform=F.current),XI(P.current,E.current,M).then(B=>{const X={...B,isPositioned:R.current!==!1};L.current&&!zd(_.current,X)&&(_.current=X,Wi.flushSync(()=>{u(X)}))})},[h,t,n,F,R]);rd(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,u(M=>({...M,isPositioned:!1})))},[d]);const L=m.useRef(!1);rd(()=>(L.current=!0,()=>{L.current=!1}),[]),rd(()=>{if(j&&(P.current=j),N&&(E.current=N),j&&N){if(k.current)return k.current(j,N,T);T()}},[j,N,T,k,O]);const z=m.useMemo(()=>({reference:P,floating:E,setReference:g,setFloating:y}),[g,y]),H=m.useMemo(()=>({reference:j,floating:N}),[j,N]),J=m.useMemo(()=>{const M={position:n,left:0,top:0};if(!H.floating)return M;const B=Qv(H.floating,f.x),X=Qv(H.floating,f.y);return l?{...M,transform:"translate("+B+"px, "+X+"px)",...vN(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:X}},[n,l,H.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:T,refs:z,elements:H,floatingStyles:J}),[f,T,z,H,J])}const eA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Yv({element:r.current,padding:s}).fn(n):{}:r?Yv({element:r,padding:s}).fn(n):{}}}},tA=(e,t)=>({...qI(e),options:[e,t]}),nA=(e,t)=>({...KI(e),options:[e,t]}),rA=(e,t)=>({...ZI(e),options:[e,t]}),sA=(e,t)=>({...GI(e),options:[e,t]}),iA=(e,t)=>({...YI(e),options:[e,t]}),aA=(e,t)=>({...QI(e),options:[e,t]}),oA=(e,t)=>({...eA(e),options:[e,t]});var lA="Arrow",yN=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(pe.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});yN.displayName=lA;var cA=yN;function mg(e){const[t,n]=m.useState(void 0);return Vt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var pg="Popper",[wN,Au]=Fn(pg),[dA,bN]=wN(pg),jN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return i.jsx(dA,{scope:t,anchor:r,onAnchorChange:s,children:n})};jN.displayName=pg;var NN="PopperAnchor",SN=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=bN(NN,n),o=m.useRef(null),l=Ve(t,o);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(pe.div,{...s,ref:l})});SN.displayName=NN;var gg="PopperContent",[uA,fA]=wN(gg),CN=m.forwardRef((e,t)=>{var ie,He,ft,_e,Te,I;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:w="optimized",onPlaced:b,...x}=e,v=bN(gg,n),[p,g]=m.useState(null),y=Ve(t,ce=>g(ce)),[j,N]=m.useState(null),P=mg(j),E=(P==null?void 0:P.width)??0,_=(P==null?void 0:P.height)??0,O=r+(a!=="center"?"-"+a:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(d)?d:[d],R=F.length>0,T={padding:k,boundary:F.filter(mA),altBoundary:R},{refs:L,floatingStyles:z,placement:H,isPositioned:J,middlewareData:M}=JI({strategy:"fixed",placement:O,whileElementsMounted:(...ce)=>WI(...ce,{animationFrame:w==="always"}),elements:{reference:v.anchor},middleware:[tA({mainAxis:s+_,alignmentAxis:o}),c&&nA({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?rA():void 0,...T}),c&&sA({...T}),iA({...T,apply:({elements:ce,rects:$e,availableWidth:ge,availableHeight:Ot})=>{const{width:rt,height:vo}=$e.reference,Js=ce.floating.style;Js.setProperty("--radix-popper-available-width",`${ge}px`),Js.setProperty("--radix-popper-available-height",`${Ot}px`),Js.setProperty("--radix-popper-anchor-width",`${rt}px`),Js.setProperty("--radix-popper-anchor-height",`${vo}px`)}}),j&&oA({element:j,padding:l}),pA({arrowWidth:E,arrowHeight:_}),h&&aA({strategy:"referenceHidden",...T})]}),[B,X]=_N(H),ae=xn(b);Vt(()=>{J&&(ae==null||ae())},[J,ae]);const Ee=(ie=M.arrow)==null?void 0:ie.x,nt=(He=M.arrow)==null?void 0:He.y,at=((ft=M.arrow)==null?void 0:ft.centerOffset)!==0,[Qt,bt]=m.useState();return Vt(()=>{p&&bt(window.getComputedStyle(p).zIndex)},[p]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:J?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qt,"--radix-popper-transform-origin":[(_e=M.transformOrigin)==null?void 0:_e.x,(Te=M.transformOrigin)==null?void 0:Te.y].join(" "),...((I=M.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(uA,{scope:n,placedSide:B,onArrowChange:N,arrowX:Ee,arrowY:nt,shouldHideArrow:at,children:i.jsx(pe.div,{"data-side":B,"data-align":X,...x,ref:y,style:{...x.style,animation:J?void 0:"none"}})})})});CN.displayName=gg;var kN="PopperArrow",hA={top:"bottom",right:"left",bottom:"top",left:"right"},EN=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=fA(kN,r),o=hA[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(cA,{...s,ref:n,style:{...s.style,display:"block"}})})});EN.displayName=kN;function mA(e){return e!==null}var pA=e=>({name:"transformOrigin",options:e,fn(t){var v,p,g;const{placement:n,rects:r,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=_N(n),u={start:"0%",center:"50%",end:"100%"}[f],h=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,w=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=o?u:`${h}px`,x=`${-c}px`):d==="top"?(b=o?u:`${h}px`,x=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=o?u:`${w}px`):d==="left"&&(b=`${r.floating.width+c}px`,x=o?u:`${w}px`),{data:{x:b,y:x}}}});function _N(e){const[t,n="center"]=e.split("-");return[t,n]}var gA=jN,PN=SN,TN=CN,IN=EN,[Ru,b5]=Fn("Tooltip",[Au]),xg=Au(),AN="TooltipProvider",xA=700,Zv="tooltip.open",[vA,RN]=Ru(AN),ON=e=>{const{__scopeTooltip:t,delayDuration:n=xA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(vA,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};ON.displayName=AN;var MN="Tooltip",[j5,Ou]=Ru(MN),km="TooltipTrigger",yA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ou(km,n),a=RN(km,n),o=xg(n),l=m.useRef(null),c=Ve(t,l,s.onTriggerChange),d=m.useRef(!1),f=m.useRef(!1),u=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),i.jsx(PN,{asChild:!0,...o,children:i.jsx(pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:oe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:oe(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});yA.displayName=km;var wA="TooltipPortal",[N5,bA]=Ru(wA,{forceMount:void 0}),Za="TooltipContent",DN=m.forwardRef((e,t)=>{const n=bA(Za,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=Ou(Za,e.__scopeTooltip);return i.jsx(Qs,{present:r||o.open,children:o.disableHoverableContent?i.jsx(FN,{side:s,...a,ref:t}):i.jsx(jA,{side:s,...a,ref:t})})}),jA=m.forwardRef((e,t)=>{const n=Ou(Za,e.__scopeTooltip),r=RN(Za,e.__scopeTooltip),s=m.useRef(null),a=Ve(t,s),[o,l]=m.useState(null),{trigger:c,onClose:d}=n,f=s.current,{onPointerInTransitChange:u}=r,h=m.useCallback(()=>{l(null),u(!1)},[u]),w=m.useCallback((b,x)=>{const v=b.currentTarget,p={x:b.clientX,y:b.clientY},g=EA(p,v.getBoundingClientRect()),y=_A(p,g),j=PA(x.getBoundingClientRect()),N=IA([...y,...j]);l(N),u(!0)},[u]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const b=v=>w(v,f),x=v=>w(v,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",x)}}},[c,f,w,h]),m.useEffect(()=>{if(o){const b=x=>{const v=x.target,p={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(v))||(f==null?void 0:f.contains(v)),y=!TA(p,o);g?h():y&&(h(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,d,h]),i.jsx(FN,{...e,ref:a})}),[NA,SA]=Ru(MN,{isInside:!1}),CA=bj("TooltipContent"),FN=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Ou(Za,n),d=xg(n),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(Zv,f),()=>document.removeEventListener(Zv,f)),[f]),m.useEffect(()=>{if(c.trigger){const u=h=>{const w=h.target;w!=null&&w.contains(c.trigger)&&f()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,f]),i.jsx(tc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:f,children:i.jsxs(TN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(CA,{children:r}),i.jsx(NA,{scope:n,isInside:!0,children:i.jsx(BP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});DN.displayName=Za;var LN="TooltipArrow",kA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=xg(n);return SA(LN,n).isInside?null:i.jsx(IN,{...s,...r,ref:t})});kA.displayName=LN;function EA(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _A(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function PA(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function TA(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,f=t[o].y;c>r!=f>r&&n<(d-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function IA(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),AA(t)}function AA(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var RA=ON,$N=DN;const OA=RA,MA=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx($N,{ref:r,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));MA.displayName=$N.displayName;/*! Capacitor: https://capacitorjs.com/ - MIT License */var Xa;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Xa||(Xa={}));class Lf extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const DA=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},FA=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:DA(e),a=()=>s()!=="web",o=u=>{const h=d.get(u);return!!(h!=null&&h.platforms.has(s())||l(u))},l=u=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(w=>w.name===u)},c=u=>e.console.error(u),d=new Map,f=(u,h={})=>{const w=d.get(u);if(w)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),w.proxy;const b=s(),x=l(u);let v;const p=async()=>(!v&&b in h?v=typeof h[b]=="function"?v=await h[b]():v=h[b]:t!==null&&!v&&"web"in h&&(v=typeof h.web=="function"?v=await h.web():v=h.web),v),g=(_,O)=>{var k,F;if(x){const R=x==null?void 0:x.methods.find(T=>O===T.name);if(R)return R.rtype==="promise"?T=>n.nativePromise(u,O.toString(),T):(T,L)=>n.nativeCallback(u,O.toString(),T,L);if(_)return(k=_[O])===null||k===void 0?void 0:k.bind(_)}else{if(_)return(F=_[O])===null||F===void 0?void 0:F.bind(_);throw new Lf(`"${u}" plugin is not implemented on ${b}`,Xa.Unimplemented)}},y=_=>{let O;const k=(...F)=>{const R=p().then(T=>{const L=g(T,_);if(L){const z=L(...F);return O=z==null?void 0:z.remove,z}else throw new Lf(`"${u}.${_}()" is not implemented on ${b}`,Xa.Unimplemented)});return _==="addListener"&&(R.remove=async()=>O()),R};return k.toString=()=>`${_.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:_,writable:!1,configurable:!1}),k},j=y("addListener"),N=y("removeListener"),P=(_,O)=>{const k=j({eventName:_},O),F=async()=>{const T=await k;N({eventName:_,callbackId:T},O)},R=new Promise(T=>k.then(()=>T({remove:F})));return R.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},R},E=new Proxy({},{get(_,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?P:j;case"removeListener":return N;default:return y(O)}}});return r[u]=E,d.set(u,{name:u,proxy:E,platforms:new Set([...Object.keys(h),...x?[b]:[]])}),E};return n.convertFileSrc||(n.convertFileSrc=u=>u),n.getPlatform=s,n.handleError=c,n.isNativePlatform=a,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=Lf,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},LA=e=>e.Capacitor=FA(e),qe=LA(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ki=qe.registerPlugin;class zN{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let a=this.retainedEventArguments[t];a||(a=[]),a.push(n),this.retainedEventArguments[t]=a}return}s.forEach(a=>a(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new qe.Exception(t,Xa.Unimplemented)}unavailable(t="not available"){return new qe.Exception(t,Xa.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const Xv=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Jv=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $A extends zN{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Jv(s).trim(),a=Jv(a).trim(),n[s]=a}),n}async setCookie(t){try{const n=Xv(t.key),r=Xv(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${a}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Ki("CapacitorCookies",{web:()=>new $A});const zA=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),UA=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,a,o)=>(s[a]=e[t[o]],s),{})},BA=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[a,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${a}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${a}=${l}`),`${r}&${c}`},"").substr(1):null,VA=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=UA(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))a.set(o,l);n.body=a.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{a.append(c,l)});else for(const l of Object.keys(e.data))a.append(l,e.data[l]);n.body=a;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class HA extends zN{async request(t){const n=VA(t,t.webFetchExtra),r=BA(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,a=await fetch(s,n),o=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?t:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await a.blob(),c=await zA(d);break;case"json":c=await a.json();break;case"document":case"text":default:c=await a.text()}const f={};return a.headers.forEach((u,h)=>{f[h]=u}),{data:c,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Ki("CapacitorHttp",{web:()=>new HA});const WA="modulepreload",qA=function(e){return"/"+e},ey={},Mu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=qA(c),c in ey)return;ey[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":WA,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((h,w)=>{u.addEventListener("load",h),u.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},KA=Ki("App",{web:()=>Mu(()=>import("./web-TXnTUlwH.js"),[]).then(e=>new e.AppWeb)}),Po=Ki("Browser",{web:()=>Mu(()=>import("./web-C-e2ft-3.js"),[]).then(e=>new e.BrowserWeb)}),ei=Ki("SecureStoragePlugin",{web:async()=>await Mu(()=>import("./web-NiK122mc.js"),[]).then(e=>new e.SecureStoragePluginWeb)}),Un=class Un{constructor(){this.issuerUrl="https://replit.com/oidc",this.clientId=void 0,this.redirectUri="mybranches://auth/callback",this.scope="openid email profile offline_access",this.expectedAudience=void 0,this.expectedIssuer="https://replit.com/oidc"}isMobile(){return qe.isNativePlatform()}async generatePKCE(){const t=this.base64URLEncode(crypto.getRandomValues(new Uint8Array(32))),r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),a=this.base64URLEncode(new Uint8Array(s)),o=this.base64URLEncode(crypto.getRandomValues(new Uint8Array(16))),l=this.base64URLEncode(crypto.getRandomValues(new Uint8Array(16)));return{codeVerifier:t,codeChallenge:a,state:o,nonce:l}}base64URLEncode(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async storePKCECodes(t){try{await ei.set({key:Un.PKCE_KEY,value:JSON.stringify(t)})}catch(n){throw console.error("Failed to store PKCE codes securely:",n),new Error("Failed to store authentication codes securely")}}async getPKCECodes(){try{const{value:t}=await ei.get({key:Un.PKCE_KEY});return t?(await ei.remove({key:Un.PKCE_KEY}),JSON.parse(t)):null}catch(t){return console.error("Failed to retrieve PKCE codes:",t),null}}async discoverEndpoints(){try{return await(await fetch(`${this.issuerUrl}/.well-known/openid_configuration`)).json()}catch(t){throw console.error("Failed to discover OIDC endpoints:",t),new Error("Failed to discover OIDC configuration")}}async login(){if(!this.isMobile())throw new Error("Mobile auth service called on non-mobile platform");if(!this.clientId)throw new Error("VITE_REPL_ID environment variable not configured");try{const t=await this.generatePKCE();await this.storePKCECodes(t);const n=await this.discoverEndpoints(),r=new URL(n.authorization_endpoint);r.searchParams.set("client_id",this.clientId),r.searchParams.set("response_type","code"),r.searchParams.set("scope",this.scope),r.searchParams.set("redirect_uri",this.redirectUri),r.searchParams.set("code_challenge",t.codeChallenge),r.searchParams.set("code_challenge_method","S256"),r.searchParams.set("state",t.state),r.searchParams.set("nonce",t.nonce),r.searchParams.set("prompt","login consent"),await Po.open({url:r.toString(),windowName:"_self",presentationStyle:"popover",toolbarColor:"#7c3aed"})}catch(t){throw console.error("Failed to initiate mobile authentication:",t),t}}async handleAuthCallback(t){try{const n=new URL(t),r=n.searchParams.get("code"),s=n.searchParams.get("state"),a=n.searchParams.get("error");if(a)throw new Error(`Authentication error: ${a}`);if(!r||!s)throw new Error("Missing authorization code or state parameter");const o=await this.getPKCECodes();if(!o||o.state!==s)throw new Error("Invalid or missing PKCE codes");const l=await this.exchangeCodeForTokens(r,o.codeVerifier,o.nonce);return await this.validateTokens(l),await this.storeTokens(l),await Po.close(),l}catch(n){throw console.error("Failed to handle auth callback:",n),await Po.close(),await this.clearPKCECodes(),n}}async exchangeCodeForTokens(t,n,r){const s=await this.discoverEndpoints(),a={grant_type:"authorization_code",client_id:this.clientId,code:t,redirect_uri:this.redirectUri,code_verifier:n},o=await fetch(s.token_endpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams(a).toString()});if(!o.ok){const f=await o.text();throw new Error(`Token exchange failed: ${o.status} ${f}`)}const l=await o.json(),c=Date.now()+l.expires_in*1e3;let d=null;if(l.access_token)try{d=await this.getUserInfo(l.access_token,s.userinfo_endpoint)}catch(f){console.warn("Failed to fetch user info:",f)}return{accessToken:l.access_token,refreshToken:l.refresh_token,idToken:l.id_token,expiresAt:c,userInfo:d,nonce:r,audience:this.expectedAudience,issuer:this.expectedIssuer}}async getUserInfo(t,n){const r=await fetch(n,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(!r.ok)throw new Error(`Failed to fetch user info: ${r.status}`);return await r.json()}async storeTokens(t){try{await ei.set({key:Un.STORAGE_KEY,value:JSON.stringify(t)})}catch(n){throw console.error("Failed to store tokens securely:",n),new Error("Failed to store authentication tokens securely")}}async getStoredTokens(){try{const{value:t}=await ei.get({key:Un.STORAGE_KEY});if(!t)return null;const n=JSON.parse(t);try{await this.validateTokens(n)}catch(r){return console.error("Stored tokens failed validation:",r),await this.clearTokens(),null}return n.expiresAt<=Date.now()?n.refreshToken?await this.refreshTokens(n.refreshToken):(await this.clearTokens(),null):n}catch(t){return console.error("Failed to retrieve tokens from secure storage:",t),null}}async refreshTokens(t){try{const n=await this.discoverEndpoints(),r={grant_type:"refresh_token",client_id:this.clientId,refresh_token:t},s=await fetch(n.token_endpoint,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams(r).toString()});if(!s.ok)return await this.clearTokens(),null;const a=await s.json(),o=Date.now()+a.expires_in*1e3;let l=null;if(a.access_token)try{l=await this.getUserInfo(a.access_token,n.userinfo_endpoint)}catch(d){console.warn("Failed to fetch user info during refresh:",d)}const c={accessToken:a.access_token,refreshToken:a.refresh_token||t,idToken:a.id_token,expiresAt:o,userInfo:l,audience:this.expectedAudience,issuer:this.expectedIssuer};return await this.validateTokens(c),await this.storeTokens(c),c}catch(n){return console.error("Failed to refresh tokens:",n),await this.clearTokens(),null}}async isAuthenticated(){return await this.getStoredTokens()!==null}async getCurrentUser(){const t=await this.getStoredTokens();return(t==null?void 0:t.userInfo)||null}async logout(){try{const t=await this.getStoredTokens();if(await this.clearTokens(),await this.clearPKCECodes(),t!=null&&t.idToken){const n=await this.discoverEndpoints();if(n.end_session_endpoint){const r=new URL(n.end_session_endpoint);r.searchParams.set("client_id",this.clientId),r.searchParams.set("id_token_hint",t.idToken),r.searchParams.set("post_logout_redirect_uri",this.redirectUri),await Po.open({url:r.toString(),windowName:"_self"}),setTimeout(()=>{Po.close()},1e3)}}}catch(t){console.error("Error during logout:",t),await this.clearTokens(),await this.clearPKCECodes()}}async validateTokens(t){if(!t.accessToken)throw new Error("Missing access token");if(t.audience&&t.audience!==this.expectedAudience)throw new Error("Token audience validation failed");if(t.issuer&&t.issuer!==this.expectedIssuer)throw new Error("Token issuer validation failed");if(t.expiresAt<=Date.now())throw new Error("Token has expired");if(t.idToken)try{const n=this.parseJWTPayload(t.idToken);if(n.aud&&n.aud!==this.expectedAudience)throw new Error("ID token audience validation failed");if(n.iss&&n.iss!==this.expectedIssuer)throw new Error("ID token issuer validation failed");if(t.nonce&&n.nonce&&n.nonce!==t.nonce)throw new Error("ID token nonce validation failed");if(n.exp&&n.exp*1e3<=Date.now())throw new Error("ID token has expired")}catch(n){throw console.error("ID token validation failed:",n),new Error("ID token validation failed")}}parseJWTPayload(t){try{const n=t.split(".");if(n.length!==3)throw new Error("Invalid JWT format");const r=n[1],s=atob(r.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(s)}catch{throw new Error("Failed to parse JWT payload")}}async clearTokens(){try{await ei.remove({key:Un.STORAGE_KEY})}catch(t){console.error("Failed to clear tokens from secure storage:",t)}}async clearPKCECodes(){try{await ei.remove({key:Un.PKCE_KEY})}catch(t){console.error("Failed to clear PKCE codes from secure storage:",t)}}async getAccessToken(){const t=await this.getStoredTokens();return(t==null?void 0:t.accessToken)||null}};Un.STORAGE_KEY="auth_tokens",Un.PKCE_KEY="pkce_codes";let Em=Un;const To=new Em;function Yt(){const[e,t]=m.useState(!qe.isNativePlatform()),n=qe.isNativePlatform(),r=Le({queryKey:["/api/mobile/user"],enabled:n&&e,retry:!1,refetchOnWindowFocus:!1,staleTime:0,queryFn:async()=>{const b=await To.getAccessToken();if(!b)throw new Error("No access token available");const x=await fetch("/api/mobile/user",{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!x.ok)throw new Error("Failed to fetch user");return x.json()}}),s=Le({queryKey:["/api/auth/user"],enabled:!n,retry:!1,refetchOnWindowFocus:!1,staleTime:0}),a=Ie({mutationFn:async()=>{if(!n)throw new Error("Mobile login called on non-mobile platform");await To.login()},onError:b=>{console.error("Mobile login failed:",b)}}),o=Ie({mutationFn:async()=>{if(!n)throw new Error("Mobile logout called on non-mobile platform");await To.logout(),await ja.clear()}}),l=m.useCallback(async b=>{const x=b.url;if(console.log("Deep link received:",x),x.includes("mybranches://auth/callback")||x.includes("/auth/callback"))try{console.log("Handling auth callback..."),await To.handleAuthCallback(x)&&(console.log("Authentication successful"),await ja.invalidateQueries({queryKey:["/api/mobile/user"]}))}catch(v){console.error("Failed to handle auth callback:",v)}},[]);m.useEffect(()=>{if(!n)return;(async()=>{try{const x=await To.isAuthenticated();console.log("Mobile auth check - authenticated:",x);const v=await KA.addListener("appUrlOpen",l);return t(!0),()=>{v.remove()}}catch(x){console.error("Failed to initialize mobile auth:",x),t(!0)}})()},[n,l]);const c=m.useCallback(()=>{window.location.href="/api/login"},[]),d=m.useCallback(()=>{window.location.href="/api/logout"},[]),f=m.useCallback(async()=>{n?await a.mutateAsync():c()},[n,a,c]),u=m.useCallback(async()=>{n?await o.mutateAsync():d()},[n,o,d]),h=n?r:s,w=m.useCallback(async()=>{await h.refetch()},[h]);return{user:h.data,isLoading:h.isLoading||n&&!e,isAuthenticated:!!h.data,refreshUser:w,login:f,logout:u,isMobile:n,isLoginPending:a.isPending,isLogoutPending:o.isPending}}const ir=Ki("PushNotifications",{}),GA=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},YA=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return t.join("")},BN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const a=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,d=c?e[s+2]:0,f=a>>2,u=(a&3)<<4|l>>4;let h=(l&15)<<2|d>>6,w=d&63;c||(w=64,o||(h=64)),r.push(n[f],n[u],n[h],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const u=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||l==null||d==null||u==null)throw new QA;const h=a<<2|l>>4;if(r.push(h),d!==64){const w=l<<4&240|d>>2;if(r.push(w),u!==64){const b=d<<6&192|u;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(e){const t=UN(e);return BN.encodeByteArray(t,!0)},VN=function(e){return ZA(e).replace(/\./g,"")},XA=function(e){try{return BN.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>JA().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof ty>"u")return;const e=ty.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},nR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&XA(e[1]);return t&&JSON.parse(t)},rR=()=>{try{return GA()||eR()||tR()||nR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},HN=()=>{var e;return(e=rR())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function WN(){try{return typeof indexedDB=="object"}catch{return!1}}function qN(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}function iR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class go extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=aR,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],o=a?oR(a,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new go(s,l,r)}}function oR(e,t){return e.replace(lR,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const lR=/\{\$([^}]+)}/g;function _m(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const a=e[s],o=t[s];if(ny(a)&&ny(o)){if(!_m(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ny(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(e){return e&&e._delegate?e._delegate:e}class $s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new sR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uR(t))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(t=si){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=si){return this.instances.has(t)}getOptions(t=si){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=si){return this.component?this.component.multipleInstances?t:si:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(e){return e===si?void 0:e}function uR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(et||(et={}));const hR={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},mR=et.INFO,pR={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},gR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=pR[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xR{constructor(t){this.name=t,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...t),this._logHandler(this,et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...t),this._logHandler(this,et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,et.INFO,...t),this._logHandler(this,et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,et.WARN,...t),this._logHandler(this,et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...t),this._logHandler(this,et.ERROR,...t)}}const vR=(e,t)=>t.some(n=>e instanceof n);let ry,sy;function yR(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wR(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KN=new WeakMap,Pm=new WeakMap,GN=new WeakMap,$f=new WeakMap,yg=new WeakMap;function bR(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Fr(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&KN.set(n,e)}).catch(()=>{}),yg.set(t,e),t}function jR(e){if(Pm.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Pm.set(e,t)}let Tm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||GN.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NR(e){Tm=e(Tm)}function SR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(zf(this),t,...n);return GN.set(r,t.sort?t.sort():[t]),Fr(r)}:wR().includes(e)?function(...t){return e.apply(zf(this),t),Fr(KN.get(this))}:function(...t){return Fr(e.apply(zf(this),t))}}function CR(e){return typeof e=="function"?SR(e):(e instanceof IDBTransaction&&jR(e),vR(e,yR())?new Proxy(e,Tm):e)}function Fr(e){if(e instanceof IDBRequest)return bR(e);if($f.has(e))return $f.get(e);const t=CR(e);return t!==e&&($f.set(e,t),yg.set(t,e)),t}const zf=e=>yg.get(e);function Fu(e,t,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(e,t),l=Fr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fr(o.result),c.oldVersion,c.newVersion,Fr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}function Uf(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Fr(n).then(()=>{})}const kR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Bf=new Map;function iy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bf.get(t))return Bf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=ER.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kR.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Bf.set(t,a),a}NR(e=>({...e,get:(t,n,r)=>iy(t,n)||e.get(t,n,r),has:(t,n)=>!!iy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Im="@firebase/app",ay="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new xR("@firebase/app"),TR="@firebase/app-compat",IR="@firebase/analytics-compat",AR="@firebase/analytics",RR="@firebase/app-check-compat",OR="@firebase/app-check",MR="@firebase/auth",DR="@firebase/auth-compat",FR="@firebase/database",LR="@firebase/data-connect",$R="@firebase/database-compat",zR="@firebase/functions",UR="@firebase/functions-compat",BR="@firebase/installations",VR="@firebase/installations-compat",HR="@firebase/messaging",WR="@firebase/messaging-compat",qR="@firebase/performance",KR="@firebase/performance-compat",GR="@firebase/remote-config",YR="@firebase/remote-config-compat",QR="@firebase/storage",ZR="@firebase/storage-compat",XR="@firebase/firestore",JR="@firebase/ai",eO="@firebase/firestore-compat",tO="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",nO={[Im]:"fire-core",[TR]:"fire-core-compat",[AR]:"fire-analytics",[IR]:"fire-analytics-compat",[OR]:"fire-app-check",[RR]:"fire-app-check-compat",[MR]:"fire-auth",[DR]:"fire-auth-compat",[FR]:"fire-rtdb",[LR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[zR]:"fire-fn",[UR]:"fire-fn-compat",[BR]:"fire-iid",[VR]:"fire-iid-compat",[HR]:"fire-fcm",[WR]:"fire-fcm-compat",[qR]:"fire-perf",[KR]:"fire-perf-compat",[GR]:"fire-rc",[YR]:"fire-rc-compat",[QR]:"fire-gcs",[ZR]:"fire-gcs-compat",[XR]:"fire-fst",[eO]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[tO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,rO=new Map,Rm=new Map;function oy(e,t){try{e.container.addComponent(t)}catch(n){qr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ri(e){const t=e.name;if(Rm.has(t))return qr.debug(`There were multiple attempts to register component ${t}.`),!1;Rm.set(t,e);for(const n of Ud.values())oy(n,e);for(const n of rO.values())oy(n,e);return!0}function wg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new Du("app","Firebase",sO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}function YN(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Am,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(n||(n=HN()),!n)throw Ts.create("no-options");const a=Ud.get(s);if(a){if(_m(n,a.options)&&_m(r,a.config))return a;throw Ts.create("duplicate-app",{appName:s})}const o=new fR(s);for(const c of Rm.values())o.addComponent(c);const l=new iO(n,r,o);return Ud.set(s,l),l}function aO(e=Am){const t=Ud.get(e);if(!t&&e===Am&&HN())return YN();if(!t)throw Ts.create("no-app",{appName:e});return t}function Is(e,t,n){let r=nO[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qr.warn(o.join(" "));return}Ri(new $s(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebase-heartbeat-database",lO=1,El="firebase-heartbeat-store";let Vf=null;function QN(){return Vf||(Vf=Fu(oO,lO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ts.create("idb-open",{originalErrorMessage:e.message})})),Vf}async function cO(e){try{const n=(await QN()).transaction(El),r=await n.objectStore(El).get(ZN(e));return await n.done,r}catch(t){if(t instanceof go)qr.warn(t.message);else{const n=Ts.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qr.warn(n.message)}}}async function ly(e,t){try{const r=(await QN()).transaction(El,"readwrite");await r.objectStore(El).put(t,ZN(e)),await r.done}catch(n){if(n instanceof go)qr.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function ZN(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1024,uO=30;class fO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>uO){const o=pO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cy(),{heartbeatsToSend:r,unsentEntries:s}=hO(this._heartbeatsCache.heartbeats),a=VN(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return qr.warn(n),""}}}function cy(){return new Date().toISOString().substring(0,10)}function hO(e,t=dO){const n=[];let r=e.slice();for(const s of e){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),dy(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),dy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WN()?qN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ly(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ly(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function dy(e){return VN(JSON.stringify({version:2,heartbeats:e})).length}function pO(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e){Ri(new $s("platform-logger",t=>new _R(t),"PRIVATE")),Ri(new $s("heartbeat",t=>new fO(t),"PRIVATE")),Is(Im,ay,e),Is(Im,ay,"esm2020"),Is("fire-js","")}gO("");var xO="firebase",vO="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(xO,vO,"app");const XN="@firebase/installations",bg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=1e4,e1=`w:${bg}`,t1="FIS_v2",yO="https://firebaseinstallations.googleapis.com/v1",wO=60*60*1e3,bO="installations",jO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oi=new Du(bO,jO,NO);function n1(e){return e instanceof go&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1({projectId:e}){return`${yO}/projects/${e}/installations`}function s1(e){return{token:e.token,requestStatus:2,expiresIn:CO(e.expiresIn),creationTime:Date.now()}}async function i1(e,t){const r=(await t.json()).error;return Oi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function a1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function SO(e,{refreshToken:t}){const n=a1(e);return n.append("Authorization",kO(t)),n}async function o1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function CO(e){return Number(e.replace("s","000"))}function kO(e){return`${t1} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=r1(e),s=a1(e),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:t1,appId:e.appId,sdkVersion:e1},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await o1(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:s1(d.authToken)}}else throw await i1("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^[cdef][\w-]{21}$/,Om="";function TO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=IO(e);return PO.test(n)?n:Om}catch{return Om}}function IO(e){return _O(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;function d1(e,t){const n=Lu(e);u1(n,t),AO(n,t)}function u1(e,t){const n=c1.get(e);if(n)for(const r of n)r(t)}function AO(e,t){const n=RO();n&&n.postMessage({key:e,fid:t}),OO()}let di=null;function RO(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=e=>{u1(e.data.key,e.data.fid)}),di}function OO(){c1.size===0&&di&&(di.close(),di=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebase-installations-database",DO=1,Mi="firebase-installations-store";let Hf=null;function jg(){return Hf||(Hf=Fu(MO,DO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Mi)}}})),Hf}async function Bd(e,t){const n=Lu(e),s=(await jg()).transaction(Mi,"readwrite"),a=s.objectStore(Mi),o=await a.get(n);return await a.put(t,n),await s.done,(!o||o.fid!==t.fid)&&d1(e,t.fid),t}async function f1(e){const t=Lu(e),r=(await jg()).transaction(Mi,"readwrite");await r.objectStore(Mi).delete(t),await r.done}async function $u(e,t){const n=Lu(e),s=(await jg()).transaction(Mi,"readwrite"),a=s.objectStore(Mi),o=await a.get(n),l=t(o);return l===void 0?await a.delete(n):await a.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&d1(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ng(e){let t;const n=await $u(e.appConfig,r=>{const s=FO(r),a=LO(e,s);return t=a.registrationPromise,a.installationEntry});return n.fid===Om?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function FO(e){const t=e||{fid:TO(),registrationStatus:0};return h1(t)}function LO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Oi.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=$O(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:zO(e)}:{installationEntry:t}}async function $O(e,t){try{const n=await EO(e,t);return Bd(e.appConfig,n)}catch(n){throw n1(n)&&n.customData.serverCode===409?await f1(e.appConfig):await Bd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function zO(e){let t=await uy(e.appConfig);for(;t.registrationStatus===1;)await l1(100),t=await uy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ng(e);return r||n}return t}function uy(e){return $u(e,t=>{if(!t)throw Oi.create("installation-not-found");return h1(t)})}function h1(e){return UO(e)?{fid:e.fid,registrationStatus:0}:e}function UO(e){return e.registrationStatus===1&&e.registrationTime+JN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO({appConfig:e,heartbeatServiceProvider:t},n){const r=VO(e,n),s=SO(e,n),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:e1,appId:e.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await o1(()=>fetch(r,l));if(c.ok){const d=await c.json();return s1(d)}else throw await i1("Generate Auth Token",c)}function VO(e,{fid:t}){return`${r1(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(e,t=!1){let n;const r=await $u(e.appConfig,a=>{if(!m1(a))throw Oi.create("not-registered");const o=a.authToken;if(!t&&qO(o))return a;if(o.requestStatus===1)return n=HO(e,t),a;{if(!navigator.onLine)throw Oi.create("app-offline");const l=GO(a);return n=WO(e,l),l}});return n?await n:r.authToken}async function HO(e,t){let n=await fy(e.appConfig);for(;n.authToken.requestStatus===1;)await l1(100),n=await fy(e.appConfig);const r=n.authToken;return r.requestStatus===0?Sg(e,t):r}function fy(e){return $u(e,t=>{if(!m1(t))throw Oi.create("not-registered");const n=t.authToken;return YO(n)?{...t,authToken:{requestStatus:0}}:t})}async function WO(e,t){try{const n=await BO(e,t),r={...t,authToken:n};return await Bd(e.appConfig,r),n}catch(n){if(n1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await f1(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Bd(e.appConfig,r)}throw n}}function m1(e){return e!==void 0&&e.registrationStatus===2}function qO(e){return e.requestStatus===2&&!KO(e)}function KO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+wO}function GO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function YO(e){return e.requestStatus===1&&e.requestTime+JN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(e){const t=e,{installationEntry:n,registrationPromise:r}=await Ng(t);return r?r.catch(console.error):Sg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t=!1){const n=e;return await XO(n),(await Sg(n,t)).token}async function XO(e){const{registrationPromise:t}=await Ng(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(e){if(!e||!e.options)throw Wf("App Configuration");if(!e.name)throw Wf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Wf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Wf(e){return Oi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="installations",eM="installations-internal",tM=e=>{const t=e.getProvider("app").getImmediate(),n=JO(t),r=wg(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nM=e=>{const t=e.getProvider("app").getImmediate(),n=wg(t,p1).getImmediate();return{getId:()=>QO(n),getToken:s=>ZO(n,s)}};function rM(){Ri(new $s(p1,tM,"PUBLIC")),Ri(new $s(eM,nM,"PRIVATE"))}rM();Is(XN,bg);Is(XN,bg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="/firebase-messaging-sw.js",iM="/firebase-cloud-messaging-push-scope",g1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aM="https://fcmregistrations.googleapis.com/v1",x1="google.c.a.c_id",oM="google.c.a.c_l",lM="google.c.a.ts",cM="google.c.a.e",hy=1e4;var my;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(my||(my={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var _l;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(_l||(_l={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dM(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let a=0;a<r.length;++a)s[a]=r.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="fcm_token_details_db",uM=5,py="fcm_token_object_Store";async function fM(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(qf))return null;let t=null;return(await Fu(qf,uM,{upgrade:async(r,s,a,o)=>{if(s<2||!r.objectStoreNames.contains(py))return;const l=o.objectStore(py),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(s===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Pr(d.vapidKey)}}}else if(s===3){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pr(d.auth),p256dh:Pr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pr(d.vapidKey)}}}else if(s===4){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pr(d.auth),p256dh:Pr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pr(d.vapidKey)}}}}}})).close(),await Uf(qf),await Uf("fcm_vapid_details_db"),await Uf("undefined"),hM(t)?t:null}function hM(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebase-messaging-database",pM=1,Pl="firebase-messaging-store";let Kf=null;function v1(){return Kf||(Kf=Fu(mM,pM,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pl)}}})),Kf}async function gM(e){const t=y1(e),r=await(await v1()).transaction(Pl).objectStore(Pl).get(t);if(r)return r;{const s=await fM(e.appConfig.senderId);if(s)return await Cg(e,s),s}}async function Cg(e,t){const n=y1(e),s=(await v1()).transaction(Pl,"readwrite");return await s.objectStore(Pl).put(t,n),await s.done,t}function y1({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ut=new Du("messaging","Messaging",xM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(e,t){const n=await Eg(e),r=w1(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(kg(e.appConfig),s)).json()}catch(o){throw Ut.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Ut.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw Ut.create("token-subscribe-no-token");return a.token}async function yM(e,t){const n=await Eg(e),r=w1(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(`${kg(e.appConfig)}/${t.token}`,s)).json()}catch(o){throw Ut.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Ut.create("token-update-failed",{errorInfo:o})}if(!a.token)throw Ut.create("token-update-no-token");return a.token}async function wM(e,t){const r={method:"DELETE",headers:await Eg(e)};try{const a=await(await fetch(`${kg(e.appConfig)}/${t}`,r)).json();if(a.error){const o=a.error.message;throw Ut.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Ut.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function kg({projectId:e}){return`${aM}/projects/${e}/registrations`}async function Eg({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function w1({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==g1&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=7*24*60*60*1e3;async function jM(e){const t=await SM(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Pr(t.getKey("auth")),p256dh:Pr(t.getKey("p256dh"))},r=await gM(e.firebaseDependencies);if(r){if(CM(r.subscriptionOptions,n))return Date.now()>=r.createTime+bM?NM(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await wM(e.firebaseDependencies,r.token)}catch(s){console.warn(s)}return gy(e.firebaseDependencies,n)}else return gy(e.firebaseDependencies,n)}async function NM(e,t){try{const n=await yM(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await Cg(e.firebaseDependencies,r),n}catch(n){throw n}}async function gy(e,t){const r={token:await vM(e,t),createTime:Date.now(),subscriptionOptions:t};return await Cg(e,r),r.token}async function SM(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dM(t)})}function CM(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return kM(t,e),EM(t,e),_M(t,e),t}function kM(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const a=t.notification.icon;a&&(e.notification.icon=a)}function EM(e,t){t.data&&(e.data=t.data)}function _M(e,t){var s,a,o,l;if(!t.fcmOptions&&!((s=t.notification)!=null&&s.click_action))return;e.fcmOptions={};const n=((a=t.fcmOptions)==null?void 0:a.link)??((o=t.notification)==null?void 0:o.click_action);n&&(e.fcmOptions.link=n);const r=(l=t.fcmOptions)==null?void 0:l.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(e){return typeof e=="object"&&!!e&&x1 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(e){if(!e||!e.options)throw Gf("App Configuration Object");if(!e.name)throw Gf("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Gf(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Gf(e){return Ut.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=TM(t);this.firebaseDependencies={app:t,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(e){try{e.swRegistration=await navigator.serviceWorker.register(sM,{scope:iM}),e.swRegistration.update().catch(()=>{}),await RM(e.swRegistration)}catch(t){throw Ut.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function RM(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${hy} ms`)),hy),s=e.installing||e.waiting;e.active?(clearTimeout(r),t()):s?s.onstatechange=a=>{var o;((o=a.target)==null?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(e,t){if(!t&&!e.swRegistration&&await AM(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ut.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=g1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(e,t){if(!navigator)throw Ut.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ut.create("permission-blocked");return await MM(e,t==null?void 0:t.vapidKey),await OM(e,t==null?void 0:t.serviceWorkerRegistration),jM(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(e,t,n){const r=FM(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[x1],message_name:n[oM],message_time:n[lM],message_device_time:Math.floor(Date.now()/1e3)})}function FM(e){switch(e){case _l.NOTIFICATION_CLICKED:return"notification_open";case _l.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===_l.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(xy(n)):e.onMessageHandler.next(xy(n)));const r=n.data;PM(r)&&r[cM]==="1"&&await DM(e,n.messageType,r)}const vy="@firebase/messaging",yy="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=e=>{const t=new IM(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>LM(t,n)),t},zM=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>b1(t,r)}};function UM(){Ri(new $s("messaging",$M,"PUBLIC")),Ri(new $s("messaging-internal",zM,"PRIVATE")),Is(vy,yy),Is(vy,yy,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(){try{await qN()}catch{return!1}return typeof window<"u"&&WN()&&iR()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(e,t){if(!navigator)throw Ut.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e=aO()){return j1().then(t=>{if(!t)throw Ut.create("unsupported-browser")},t=>{throw Ut.create("indexed-db-unsupported")}),wg(vg(e),"messaging").getImmediate()}async function HM(e,t){return e=vg(e),b1(e,t)}function WM(e,t){return e=vg(e),BM(e,t)}UM();const _g={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},qM=()=>{const t=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(n=>!_g[n]);return t.length>0?(console.warn("Firebase configuration incomplete. Missing environment variables:",t.map(n=>`VITE_FIREBASE_${n.replace(/([A-Z])/g,"_$1").toUpperCase()}`).join(", ")),!1):!0};let Mm=null;if(qM())try{Mm=YN(_g),console.log("Firebase app initialized successfully")}catch(e){console.error("Error initializing Firebase app:",e)}else console.log("Firebase not initialized due to missing configuration");let Tl=null;!qe.isNativePlatform()&&Mm?(async()=>{try{await j1()?(Tl=VM(Mm),console.log("Firebase Messaging initialized for web platform"),await GM()):console.log("Firebase Messaging not supported in this browser")}catch(t){console.error("Error initializing Firebase Messaging:",t)}})():qe.isNativePlatform()||console.log("Firebase Messaging not initialized: Firebase app not configured");const wy=async()=>{if(qe.isNativePlatform())return null;if(!Tl)return console.log("Firebase Messaging not available"),null;try{return console.error("VAPID key not configured"),null}catch(e){return console.error("An error occurred while retrieving token:",e),null}},KM=e=>!Tl||qe.isNativePlatform()?()=>{}:WM(Tl,t=>{console.log("Foreground message received:",t),e(t)}),GM=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.ready;e.active?(e.active.postMessage({type:"FIREBASE_CONFIG",config:_g}),console.log("Firebase config sent to service worker")):console.warn("Service worker not active, config not sent")}catch(e){console.error("Error sending config to service worker:",e)}};function N1(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,a]=m.useState("prompt"),[o,l]=m.useState({enabled:!0,chat:!0,events:!0,tasks:!0,reminders:!0}),{toast:c}=wt(),{user:d}=Yt(),f=async(v,p="web",g)=>{try{await me("POST","/api/fcm/register-token",{token:v,platform:p,deviceId:g}),console.log("FCM token registered successfully")}catch(y){console.error("Failed to register FCM token:",y)}},u=async()=>{if(!(!(d!=null&&d.id)||e)){r(!0);try{if(qe.isNativePlatform()){console.log("Initializing native push notifications");const v=await ir.checkPermissions();if(a(v.receive),v.receive==="prompt"){const p=await ir.requestPermissions();a(p.receive)}v.receive==="granted"&&(await ir.register(),ir.addListener("registration",async p=>{console.log("Native push registration success, token:",p.value.substring(0,50)+"..."),await f(p.value,qe.getPlatform(),qe.getPlatform())}),ir.addListener("registrationError",p=>{console.error("Error on registration:",p)}),ir.addListener("pushNotificationReceived",p=>{console.log("Push notification received:",p),c({title:p.title||"New Notification",description:p.body||"You have a new notification"})}),ir.addListener("pushNotificationActionPerformed",p=>{console.log("Push notification action performed:",p);const g=p.notification.data;g&&h(g)}))}else if(console.log("Initializing web push notifications"),"Notification"in window){const v=await Notification.requestPermission();if(a(v),v==="granted"){const p=await wy();p&&await f(p,"web"),KM(g=>{console.log("Foreground message received:",g),g.notification&&c({title:g.notification.title||"New Notification",description:g.notification.body||"You have a new notification"})})}}await w(),t(!0)}catch(v){console.error("Error initializing push notifications:",v)}finally{r(!1)}}},h=v=>{try{v.type==="chat_message"&&v.groupId?window.location.href=`/groups/${v.groupId}/chat`:v.type==="new_event"&&v.eventId?window.location.href=`/events/${v.eventId}`:v.type==="task_assigned"&&v.taskId?window.location.href=`/tasks/${v.taskId}`:v.clickAction&&(window.location.href=v.clickAction)}catch(p){console.error("Error handling notification tap:",p)}},w=async()=>{try{const p=await(await me("GET","/api/fcm/notification-preferences")).json();l(p)}catch(v){console.error("Error loading notification preferences:",v)}},b=async v=>{try{const p={...o,...v};await me("POST","/api/fcm/notification-preferences",p),l(p),c({title:"Preferences Updated",description:"Your notification preferences have been saved."})}catch(p){console.error("Error updating notification preferences:",p),c({title:"Error",description:"Failed to update notification preferences.",variant:"destructive"})}},x=async()=>{try{if(qe.isNativePlatform()){const v=await ir.requestPermissions();a(v.receive),v.receive==="granted"&&await ir.register()}else if("Notification"in window){const v=await Notification.requestPermission();if(a(v),v==="granted"){const p=await wy();p&&await f(p,"web")}}}catch(v){console.error("Error requesting permissions:",v),c({title:"Permission Error",description:"Failed to request notification permissions.",variant:"destructive"})}};return m.useEffect(()=>{d!=null&&d.id&&u()},[d==null?void 0:d.id]),m.useEffect(()=>()=>{qe.isNativePlatform()&&ir.removeAllListeners()},[]),{isInitialized:e,isLoading:n,permissionStatus:s,preferences:o,updateNotificationPreferences:b,requestPermissions:x,loadNotificationPreferences:w}}const Pg=uo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?yj:"button";return i.jsx(o,{className:ne(Pg({variant:t,size:n,className:e})),ref:a,...s})});D.displayName="Button";const le=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const Ne=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));Ne.displayName="CardHeader";const Se=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));Se.displayName="CardTitle";const Ja=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));Ja.displayName="CardDescription";const de=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("p-6 pt-0",e),...t}));de.displayName="CardContent";const YM=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",e),...t}));YM.displayName="CardFooter";function QM(){const[e,t]=m.useState(null),[n,r]=m.useState(!1),[s,a]=m.useState(!1),[o,l]=m.useState(!1);m.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent);a(f);const u=window.matchMedia("(display-mode: standalone)").matches;l(u);const h=w=>{w.preventDefault(),t(w),r(!0)};return window.addEventListener("beforeinstallprompt",h),f&&!u&&!localStorage.getItem("pwa-dismissed")&&r(!0),()=>{window.removeEventListener("beforeinstallprompt",h)}},[]);const c=async()=>{if(e){e.prompt();const{outcome:f}=await e.userChoice;f==="accepted"&&(t(null),r(!1))}},d=()=>{r(!1),localStorage.setItem("pwa-dismissed","true")};return o||!n?null:i.jsxs(le,{className:"fixed bottom-4 left-4 right-4 z-50 max-w-sm mx-auto shadow-lg border-2 border-primary/20",children:[i.jsx(Ne,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/icons/icon-72x72.png",alt:"My Branches",className:"w-8 h-8"}),i.jsx(Se,{className:"text-lg",children:"Install My Branches"})]}),i.jsx(D,{variant:"ghost",size:"sm",onClick:d,"data-testid":"button-pwa-dismiss",children:i.jsx(qi,{className:"h-4 w-4"})})]})}),i.jsxs(de,{className:"pt-0",children:[i.jsx(Ja,{className:"mb-4",children:s?"Add to your home screen for quick access and a better experience.":"Install our app for faster access and offline functionality."}),s?i.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[i.jsx("p",{children:"To install:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[i.jsx("li",{children:"Tap the Share button in Safari"}),i.jsx("li",{children:'Scroll down and tap "Add to Home Screen"'}),i.jsx("li",{children:'Tap "Add" to confirm'})]})]}):i.jsxs(D,{onClick:c,className:"w-full","data-testid":"button-pwa-install",children:[i.jsx(gT,{className:"h-4 w-4 mr-2"}),"Install App"]})]})]})}const Yf=768;function ZM(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Yf-1}px)`),r=()=>{t(window.innerWidth<Yf)};return n.addEventListener("change",r),t(window.innerWidth<Yf),()=>n.removeEventListener("change",r)},[]),!!e}const XM=[{name:"Home",href:"/",icon:zt},{name:"Groups",href:"/groups",icon:sn},{name:"Events",href:"/events",icon:yr},{name:"Chat",href:"/chat",icon:fo},{name:"Profile",href:"/profile",icon:ig}];function JM(){const[e]=Cu();return ZM()?i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-40 lg:hidden",children:i.jsx("div",{className:"grid grid-cols-5 h-16",children:XM.map(n=>{const r=e===n.href||n.href==="/"&&e==="/",s=n.icon;return i.jsx(ct,{href:n.href,children:i.jsxs("a",{className:ne("flex flex-col items-center justify-center h-full px-2 py-1 text-xs font-medium transition-colors",r?"text-primary bg-primary/5":"text-muted-foreground hover:text-foreground"),"data-testid":`mobile-nav-${n.name.toLowerCase()}`,children:[i.jsx(s,{className:ne("h-5 w-5 mb-1",r&&"text-primary")}),i.jsx("span",{className:"truncate",children:n.name})]})},n.name)})})}):null}const e4="/assets/app%20Icon-BU0JRmPZ.png";function t4(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/10 to-accent/10",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[i.jsx("img",{src:e4,alt:"My Branches",className:"w-16 h-16 md:w-20 md:h-20"}),i.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-foreground",children:"My Branches"})]}),i.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Keep your family connected with contact management, group chat, and collaborative event planning"}),i.jsx(D,{size:"lg",className:"text-lg px-8 py-4",onClick:()=>window.location.href="/api/login","data-testid":"button-login",children:"Get Started"})]})})}),i.jsx("div",{className:"py-24 bg-card",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Everything you need to stay connected"}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Manage your family network with powerful tools designed for modern families"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsx(le,{className:"text-center hover:shadow-lg transition-shadow",children:i.jsxs(de,{className:"pt-6",children:[i.jsx(sn,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Contact Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Keep everyone's information updated and organized by household and family groups"})]})}),i.jsx(le,{className:"text-center hover:shadow-lg transition-shadow",children:i.jsxs(de,{className:"pt-6",children:[i.jsx(fo,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Group Chat"}),i.jsx("p",{className:"text-muted-foreground",children:"Real-time messaging within family groups with secure, private conversations"})]})}),i.jsx(le,{className:"text-center hover:shadow-lg transition-shadow",children:i.jsxs(de,{className:"pt-6",children:[i.jsx(yr,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Event Planning"}),i.jsx("p",{className:"text-muted-foreground",children:"Collaborative event planning with shared to-do lists and task assignments"})]})}),i.jsx(le,{className:"text-center hover:shadow-lg transition-shadow",children:i.jsxs(de,{className:"pt-6",children:[i.jsx(NT,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Privacy Control"}),i.jsx("p",{className:"text-muted-foreground",children:"Control what information you share with different family groups and members"})]})})]})]})}),i.jsx("div",{className:"py-24 bg-background",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"How it works"}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Get started in three simple steps"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-6",children:"1"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Create Your Household"}),i.jsx("p",{className:"text-muted-foreground",children:"Set up your household and invite family members to join your private group"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-6",children:"2"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Join Extended Family"}),i.jsx("p",{className:"text-muted-foreground",children:"Connect with cousins, grandparents, and other relatives in extended family groups"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-6",children:"3"}),i.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Plan & Collaborate"}),i.jsx("p",{className:"text-muted-foreground",children:"Organize events, assign tasks, and stay connected through group chat"})]})]})]})}),i.jsx("div",{className:"py-24 bg-primary",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-foreground mb-6",children:"Ready to connect your family?"}),i.jsx("p",{className:"text-xl text-primary-foreground/90 mb-8 max-w-2xl mx-auto",children:"Join thousands of families already using My Branches to stay organized and connected"}),i.jsx(D,{size:"lg",variant:"secondary",className:"text-lg px-8 py-4",onClick:()=>window.location.href="/api/login","data-testid":"button-cta-login",children:"Start Connecting Today"})]})})]})}const n4=uo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...n}){return i.jsx("div",{className:ne(n4({variant:t}),e),...n})}function Ye(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const S1=6048e5,r4=864e5,Fc=43200,by=1440;let s4={};function ic(){return s4}function Il(e,t){var l,c,d,f;const n=ic(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Ye(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Vd(e){return Il(e,{weekStartsOn:1})}function C1(e){const t=Ye(e),n=t.getFullYear(),r=zs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Vd(r),a=zs(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Vd(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function jy(e){const t=Ye(e);return t.setHours(0,0,0,0),t}function Hd(e){const t=Ye(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function i4(e,t){const n=jy(e),r=jy(t),s=+n-Hd(n),a=+r-Hd(r);return Math.round((s-a)/r4)}function a4(e){const t=C1(e),n=zs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vd(n)}function sd(e,t){const n=Ye(e),r=Ye(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function o4(e){return zs(e,Date.now())}function l4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function c4(e){if(!l4(e)&&typeof e!="number")return!1;const t=Ye(e);return!isNaN(Number(t))}function d4(e,t){const n=Ye(e),r=Ye(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function u4(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function f4(e,t){return+Ye(e)-+Ye(t)}function h4(e){const t=Ye(e);return t.setHours(23,59,59,999),t}function m4(e){const t=Ye(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function p4(e){const t=Ye(e);return+h4(t)==+m4(t)}function g4(e,t){const n=Ye(e),r=Ye(t),s=sd(n,r),a=Math.abs(d4(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=sd(n,r)===-s;p4(Ye(e))&&a===1&&sd(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function x4(e,t,n){const r=f4(e,t)/1e3;return u4(n==null?void 0:n.roundingMethod)(r)}function v4(e){const t=Ye(e),n=zs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const y4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},w4=(e,t,n)=>{let r;const s=y4[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const b4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S4={date:Qf({formats:b4,defaultWidth:"full"}),time:Qf({formats:j4,defaultWidth:"full"}),dateTime:Qf({formats:N4,defaultWidth:"full"})},C4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k4=(e,t,n,r)=>C4[e];function Io(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const E4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},P4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},O4={ordinalNumber:R4,era:Io({values:E4,defaultWidth:"wide"}),quarter:Io({values:_4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Io({values:P4,defaultWidth:"wide"}),day:Io({values:T4,defaultWidth:"wide"}),dayPeriod:Io({values:I4,defaultWidth:"wide",formattingValues:A4,defaultFormattingWidth:"wide"})};function Ao(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?D4(l,u=>u.test(o)):M4(l,u=>u.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function M4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function D4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function F4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const L4=/^(\d+)(th|st|nd|rd)?/i,$4=/\d+/i,z4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U4={any:[/^b/i,/^(a|c)/i]},B4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V4={any:[/1/i,/2/i,/3/i,/4/i]},H4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q4={ordinalNumber:F4({matchPattern:L4,parsePattern:$4,valueCallback:e=>parseInt(e,10)}),era:Ao({matchPatterns:z4,defaultMatchWidth:"wide",parsePatterns:U4,defaultParseWidth:"any"}),quarter:Ao({matchPatterns:B4,defaultMatchWidth:"wide",parsePatterns:V4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ao({matchPatterns:H4,defaultMatchWidth:"wide",parsePatterns:W4,defaultParseWidth:"any"}),day:Ao({matchPatterns:q4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any"}),dayPeriod:Ao({matchPatterns:G4,defaultMatchWidth:"any",parsePatterns:Y4,defaultParseWidth:"any"})},k1={code:"en-US",formatDistance:w4,formatLong:S4,formatRelative:k4,localize:O4,match:Q4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z4(e){const t=Ye(e);return i4(t,v4(t))+1}function X4(e){const t=Ye(e),n=+Vd(t)-+a4(t);return Math.round(n/S1)+1}function E1(e,t){var f,u,h,w;const n=Ye(e),r=n.getFullYear(),s=ic(),a=(t==null?void 0:t.firstWeekContainsDate)??((u=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(h=s.locale)==null?void 0:h.options)==null?void 0:w.firstWeekContainsDate)??1,o=zs(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Il(o,t),c=zs(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Il(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function J4(e,t){var l,c,d,f;const n=ic(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=E1(e,t),a=zs(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Il(a,t)}function eD(e,t){const n=Ye(e),r=+Il(n,t)-+J4(n,t);return Math.round(r/S1)+1}function We(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const es={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return We(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):We(n+1,2)},d(e,t){return We(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return We(e.getHours()%12||12,t.length)},H(e,t){return We(e.getHours(),t.length)},m(e,t){return We(e.getMinutes(),t.length)},s(e,t){return We(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return We(s,t.length)}},Yi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ny={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return es.y(e,t)},Y:function(e,t,n,r){const s=E1(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return We(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):We(a,t.length)},R:function(e,t){const n=C1(e);return We(n,t.length)},u:function(e,t){const n=e.getFullYear();return We(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return We(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return We(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return es.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return We(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=eD(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):We(s,t.length)},I:function(e,t,n){const r=X4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):We(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):es.d(e,t)},D:function(e,t,n){const r=Z4(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):We(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return We(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return We(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return We(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Yi.noon:r===0?s=Yi.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Yi.evening:r>=12?s=Yi.afternoon:r>=4?s=Yi.morning:s=Yi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return es.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):es.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):We(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):We(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):es.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):es.s(e,t)},S:function(e,t){return es.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Cy(r);case"XXXX":case"XX":return ii(r);case"XXXXX":case"XXX":default:return ii(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Cy(r);case"xxxx":case"xx":return ii(r);case"xxxxx":case"xxx":default:return ii(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sy(r,":");case"OOOO":default:return"GMT"+ii(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sy(r,":");case"zzzz":default:return"GMT"+ii(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return We(r,t.length)},T:function(e,t,n){const r=e.getTime();return We(r,t.length)}};function Sy(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+We(a,2)}function Cy(e,t){return e%60===0?(e>0?"-":"+")+We(Math.abs(e)/60,2):ii(e,t)}function ii(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=We(Math.trunc(r/60),2),a=We(r%60,2);return n+s+t+a}const ky=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tD=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return ky(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",ky(r,t)).replace("{{time}}",_1(s,t))},nD={p:_1,P:tD},rD=/^D+$/,sD=/^Y+$/,iD=["D","DD","YY","YYYY"];function aD(e){return rD.test(e)}function oD(e){return sD.test(e)}function lD(e,t,n){const r=cD(e,t,n);if(console.warn(r),iD.includes(e))throw new RangeError(r)}function cD(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fD=/^'([^]*?)'?$/,hD=/''/g,mD=/[a-zA-Z]/;function bi(e,t,n){var f,u,h,w;const r=ic(),s=r.locale??k1,a=r.firstWeekContainsDate??((u=(f=r.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,o=r.weekStartsOn??((w=(h=r.locale)==null?void 0:h.options)==null?void 0:w.weekStartsOn)??0,l=Ye(e);if(!c4(l))throw new RangeError("Invalid time value");let c=t.match(uD).map(b=>{const x=b[0];if(x==="p"||x==="P"){const v=nD[x];return v(b,s.formatLong)}return b}).join("").match(dD).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:pD(b)};if(Ny[x])return{isToken:!0,value:b};if(x.match(mD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const x=b.value;(oD(x)||aD(x))&&lD(x,t,String(e));const v=Ny[x[0]];return v(l,x,s.localize,d)}).join("")}function pD(e){const t=e.match(fD);return t?t[1].replace(hD,"'"):e}function P1(e,t,n){const r=ic(),s=(n==null?void 0:n.locale)??r.locale??k1,a=2520,o=sd(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=Ye(t),d=Ye(e)):(c=Ye(e),d=Ye(t));const f=x4(d,c),u=(Hd(d)-Hd(c))/1e3,h=Math.round((f-u)/60);let w;if(h<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<by){const b=Math.round(h/60);return s.formatDistance("aboutXHours",b,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Fc){const b=Math.round(h/by);return s.formatDistance("xDays",b,l)}else if(h<Fc*2)return w=Math.round(h/Fc),s.formatDistance("aboutXMonths",w,l)}if(w=g4(d,c),w<12){const b=Math.round(h/Fc);return s.formatDistance("xMonths",b,l)}else{const b=w%12,x=Math.trunc(w/12);return b<3?s.formatDistance("aboutXYears",x,l):b<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function Tg(e,t){return P1(e,o4(e),t)}function gD(){const{toast:e}=wt(),t=Gt(),{data:n}=Le({queryKey:["/api/dashboard/stats"]}),{data:r}=Le({queryKey:["/api/dashboard/birthdays"]}),{data:s}=Le({queryKey:["/api/dashboard/activity"]}),{data:a}=Le({queryKey:["/api/dashboard/join-requests"]}),o=Ie({mutationFn:async({requestId:l,action:c})=>(await me("PATCH",`/api/dashboard/join-requests/${l}`,{action:c})).json(),onSuccess:(l,{action:c})=>{e({title:"Success",description:`Join request ${c==="approve"?"approved":"denied"} successfully`}),t.invalidateQueries({queryKey:["/api/dashboard/join-requests"]}),t.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:()=>{e({title:"Error",description:"Failed to handle join request",variant:"destructive"})}});return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-dashboard-title",children:"Welcome back!"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-dashboard-subtitle",children:"Here's what's happening in your family network"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(ct,{href:"/household",children:i.jsx(le,{"data-testid":"card-stats-members",className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsx(de,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Family Members"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-member-count",children:(n==null?void 0:n.memberCount)||0})]}),i.jsx(sn,{className:"h-8 w-8 text-primary"})]})})})}),i.jsx(ct,{href:"/groups",children:i.jsx(le,{"data-testid":"card-stats-groups",className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsx(de,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Active Groups"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-group-count",children:(n==null?void 0:n.groupCount)||0})]}),i.jsx(Vr,{className:"h-8 w-8 text-secondary"})]})})})}),i.jsx(ct,{href:"/events",children:i.jsx(le,{"data-testid":"card-stats-events",className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsx(de,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Upcoming Events"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-event-count",children:(n==null?void 0:n.eventCount)||0})]}),i.jsx(yr,{className:"h-8 w-8 text-accent"})]})})})}),i.jsx(ct,{href:"/events",children:i.jsx(le,{"data-testid":"card-stats-tasks",className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsx(de,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Pending Tasks"}),i.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-task-count",children:(n==null?void 0:n.taskCount)||0})]}),i.jsx(Xj,{className:"h-8 w-8 text-red-500"})]})})})})]}),a&&a.length>0&&i.jsxs(le,{"data-testid":"card-join-requests",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-5 w-5 text-orange-500"}),"Pending Join Requests (",a.length,")"]})}),i.jsx(de,{children:i.jsx("div",{className:"space-y-4",children:a.map(l=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`join-request-${l.id}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[l.type==="household"?i.jsx(zt,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(sn,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("p",{className:"font-medium text-sm","data-testid":"text-target-name",children:l.targetName})]}),i.jsx(Ze,{variant:"outline",children:Tg(new Date(l.createdAt),{addSuffix:!0})})]}),i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsxs("p",{className:"font-medium","data-testid":"text-requester-name",children:[l.requester.firstName," ",l.requester.lastName]})}),i.jsx("p",{className:"text-sm text-muted-foreground mb-1","data-testid":"text-requester-email",children:l.requester.email}),l.message&&i.jsxs("p",{className:"text-sm text-muted-foreground italic","data-testid":"text-request-message",children:['"',l.message,'"']})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>o.mutate({requestId:l.id,action:"approve"}),disabled:o.isPending,"data-testid":"button-approve-request",children:[i.jsx(sg,{className:"h-4 w-4 mr-1"}),"Approve"]}),i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>o.mutate({requestId:l.id,action:"deny"}),disabled:o.isPending,"data-testid":"button-deny-request",children:[i.jsx(ci,{className:"h-4 w-4 mr-1"}),"Deny"]})]})]},l.id))})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx(ct,{href:"/contacts",children:i.jsxs(le,{"data-testid":"card-birthdays",className:"cursor-pointer hover:shadow-md transition-shadow",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(xT,{className:"h-5 w-5 text-accent"}),"Upcoming Birthdays"]})}),i.jsx(de,{children:r&&r.length>0?i.jsx("div",{className:"space-y-3",children:r.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":`birthday-${c}`,children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground","data-testid":`text-birthday-name-${c}`,children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-birthday-date-${c}`,children:bi(new Date(l.birthday),"MMMM do")})]}),i.jsx("span",{className:"text-sm font-medium text-accent","data-testid":`text-birthday-days-${c}`,children:l.daysAway===0?"Today!":`${l.daysAway} days`})]},c))}):i.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-birthdays",children:"No upcoming birthdays in the next 30 days"})})]})}),i.jsxs(le,{"data-testid":"card-activity",className:"hover:shadow-md transition-shadow",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-5 w-5 text-primary"}),"Recent Activity"]})}),i.jsx(de,{children:s&&s.length>0?i.jsx("div",{className:"space-y-3",children:s.map((l,c)=>i.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-muted rounded-lg","data-testid":`activity-${c}`,children:[i.jsx(yr,{className:"h-4 w-4 text-accent mt-1 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-foreground","data-testid":`text-activity-message-${c}`,children:l.message}),i.jsx("p",{className:"text-xs text-muted-foreground","data-testid":`text-activity-time-${c}`,children:P1(new Date(l.time),new Date,{addSuffix:!0})})]})]},c))}):i.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-activity",children:"No recent activity to display"})})]})]})]})}const je=m.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));je.displayName="Input";function Ey(e,[t,n]){return Math.min(n,Math.max(t,e))}var xD=m.createContext(void 0);function Ig(e){const t=m.useContext(xD);return e||t||"ltr"}var Zf=0;function T1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_y()),document.body.insertAdjacentElement("beforeend",e[1]??_y()),Zf++,()=>{Zf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Zf--}},[])}function _y(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xf="focusScope.autoFocusOnMount",Jf="focusScope.autoFocusOnUnmount",Py={bubbles:!1,cancelable:!0},vD="FocusScope",Ag=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),d=xn(s),f=xn(a),u=m.useRef(null),h=Ve(t,x=>c(x)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(y){if(w.paused||!l)return;const j=y.target;l.contains(j)?u.current=j:ss(u.current,{select:!0})},v=function(y){if(w.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||ss(u.current,{select:!0}))},p=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&ss(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const g=new MutationObserver(p);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),g.disconnect()}}},[r,l,w.paused]),m.useEffect(()=>{if(l){Iy.add(w);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(Xf,Py);l.addEventListener(Xf,d),l.dispatchEvent(p),p.defaultPrevented||(yD(SD(I1(l)),{select:!0}),document.activeElement===x&&ss(l))}return()=>{l.removeEventListener(Xf,d),setTimeout(()=>{const p=new CustomEvent(Jf,Py);l.addEventListener(Jf,f),l.dispatchEvent(p),p.defaultPrevented||ss(x??document.body,{select:!0}),l.removeEventListener(Jf,f),Iy.remove(w)},0)}}},[l,d,f,w]);const b=m.useCallback(x=>{if(!n&&!r||w.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(v&&p){const g=x.currentTarget,[y,j]=wD(g);y&&j?!x.shiftKey&&p===j?(x.preventDefault(),n&&ss(y,{select:!0})):x.shiftKey&&p===y&&(x.preventDefault(),n&&ss(j,{select:!0})):p===g&&x.preventDefault()}},[n,r,w.paused]);return i.jsx(pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});Ag.displayName=vD;function yD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ss(r,{select:t}),document.activeElement!==n)return}function wD(e){const t=I1(e),n=Ty(t,e),r=Ty(t.reverse(),e);return[n,r]}function I1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ty(e,t){for(const n of e)if(!bD(n,{upTo:t}))return n}function bD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jD(e){return e instanceof HTMLInputElement&&"select"in e}function ss(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jD(e)&&t&&e.select()}}var Iy=ND();function ND(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ay(e,t),e.unshift(t)},remove(t){var n;e=Ay(e,t),(n=e[0])==null||n.resume()}}}function Ay(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function SD(e){return e.filter(t=>t.tagName!=="A")}function Rg(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qi=new WeakMap,Lc=new WeakMap,$c={},eh=0,A1=function(e){return e&&(e.host||A1(e.parentNode))},kD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=A1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ED=function(e,t,n,r){var s=kD(t,Array.isArray(e)?e:[e]);$c[n]||($c[n]=new WeakMap);var a=$c[n],o=[],l=new Set,c=new Set(s),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};s.forEach(d);var f=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(h){if(l.has(h))f(h);else try{var w=h.getAttribute(r),b=w!==null&&w!=="false",x=(Qi.get(h)||0)+1,v=(a.get(h)||0)+1;Qi.set(h,x),a.set(h,v),o.push(h),x===1&&b&&Lc.set(h,!0),v===1&&h.setAttribute(n,"true"),b||h.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return f(t),l.clear(),eh++,function(){o.forEach(function(u){var h=Qi.get(u)-1,w=a.get(u)-1;Qi.set(u,h),a.set(u,w),h||(Lc.has(u)||u.removeAttribute(r),Lc.delete(u)),w||u.removeAttribute(n)}),eh--,eh||(Qi=new WeakMap,Qi=new WeakMap,Lc=new WeakMap,$c={})}},R1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=CD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ED(r,s,n,"aria-hidden")):function(){return null}},fr=function(){return fr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fr.apply(this,arguments)};function O1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function _D(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var id="right-scroll-bar-position",ad="width-before-scroll-bar",PD="with-scroll-bars-hidden",TD="--removed-body-scroll-bar-size";function th(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ID(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var AD=typeof window<"u"?m.useLayoutEffect:m.useEffect,Ry=new WeakMap;function RD(e,t){var n=ID(null,function(r){return e.forEach(function(s){return th(s,r)})});return AD(function(){var r=Ry.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||th(l,null)}),a.forEach(function(l){s.has(l)||th(l,o)})}Ry.set(n,e)},[e]),n}function OD(e){return e}function MD(e,t){t===void 0&&(t=OD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function DD(e){e===void 0&&(e={});var t=MD(null);return t.options=fr({async:!0,ssr:!1},e),t}var M1=function(e){var t=e.sideCar,n=O1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,fr({},n))};M1.isSideCarExport=!0;function FD(e,t){return e.useMedium(t),M1}var D1=DD(),nh=function(){},zu=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:nh,onWheelCapture:nh,onTouchMoveCapture:nh}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,u=e.shards,h=e.sideCar,w=e.noIsolation,b=e.inert,x=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,g=e.gapMode,y=O1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=RD([n,t]),P=fr(fr({},y),s);return m.createElement(m.Fragment,null,f&&m.createElement(j,{sideCar:D1,removeScrollBar:d,shards:u,noIsolation:w,inert:b,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:g}),o?m.cloneElement(m.Children.only(l),fr(fr({},P),{ref:N})):m.createElement(p,fr({},P,{className:c,ref:N}),l))});zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zu.classNames={fullWidth:ad,zeroRight:id};var LD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $D(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=LD();return t&&e.setAttribute("nonce",t),e}function zD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var BD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$D())&&(zD(t,n),UD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VD=function(){var e=BD();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},F1=function(){var e=VD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},HD={left:0,top:0,right:0,gap:0},rh=function(e){return parseInt(e||"",10)||0},WD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rh(n),rh(r),rh(s)]},qD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return HD;var t=WD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KD=F1(),Ca="data-scroll-locked",GD=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(PD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ca,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(id,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ca,`] {
    `).concat(TD,": ").concat(l,`px;
  }
`)},Oy=function(){var e=parseInt(document.body.getAttribute(Ca)||"0",10);return isFinite(e)?e:0},YD=function(){m.useEffect(function(){return document.body.setAttribute(Ca,(Oy()+1).toString()),function(){var e=Oy()-1;e<=0?document.body.removeAttribute(Ca):document.body.setAttribute(Ca,e.toString())}},[])},QD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;YD();var a=m.useMemo(function(){return qD(s)},[s]);return m.createElement(KD,{styles:GD(a,!t,s,n?"":"!important")})},Dm=!1;if(typeof window<"u")try{var zc=Object.defineProperty({},"passive",{get:function(){return Dm=!0,!0}});window.addEventListener("test",zc,zc),window.removeEventListener("test",zc,zc)}catch{Dm=!1}var Zi=Dm?{passive:!1}:!1,ZD=function(e){return e.tagName==="TEXTAREA"},L1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZD(e)&&n[t]==="visible")},XD=function(e){return L1(e,"overflowY")},JD=function(e){return L1(e,"overflowX")},My=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$1(e,r);if(s){var a=z1(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eF=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},tF=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},$1=function(e,t){return e==="v"?XD(t):JD(t)},z1=function(e,t){return e==="v"?eF(t):tF(t)},nF=function(e,t){return e==="h"&&t==="rtl"?-1:1},rF=function(e,t,n,r,s){var a=nF(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),d=!1,f=o>0,u=0,h=0;do{var w=z1(e,l),b=w[0],x=w[1],v=w[2],p=x-v-a*b;(b||p)&&$1(e,l)&&(u+=p,h+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(u)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(d=!0),d},Uc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dy=function(e){return[e.deltaX,e.deltaY]},Fy=function(e){return e&&"current"in e?e.current:e},sF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aF=0,Xi=[];function oF(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(aF++)[0],a=m.useState(F1)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=_D([e.lockRef.current],(e.shards||[]).map(Fy),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=Uc(x),g=n.current,y="deltaX"in x?x.deltaX:g[0]-p[0],j="deltaY"in x?x.deltaY:g[1]-p[1],N,P=x.target,E=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in x&&E==="h"&&P.type==="range")return!1;var _=My(E,P);if(!_)return!0;if(_?N=E:(N=E==="v"?"h":"v",_=My(E,P)),!_)return!1;if(!r.current&&"changedTouches"in x&&(y||j)&&(r.current=N),!N)return!0;var O=r.current||N;return rF(O,v,x,O==="h"?y:j,!0)},[]),c=m.useCallback(function(x){var v=x;if(!(!Xi.length||Xi[Xi.length-1]!==a)){var p="deltaY"in v?Dy(v):Uc(v),g=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&sF(N.delta,p)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var y=(o.current.shards||[]).map(Fy).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=y.length>0?l(v,y[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=m.useCallback(function(x,v,p,g){var y={name:x,delta:v,target:p,should:g,shadowParent:lF(p)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),f=m.useCallback(function(x){n.current=Uc(x),r.current=void 0},[]),u=m.useCallback(function(x){d(x.type,Dy(x),x.target,l(x,e.lockRef.current))},[]),h=m.useCallback(function(x){d(x.type,Uc(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return Xi.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Zi),document.addEventListener("touchmove",c,Zi),document.addEventListener("touchstart",f,Zi),function(){Xi=Xi.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Zi),document.removeEventListener("touchmove",c,Zi),document.removeEventListener("touchstart",f,Zi)}},[]);var w=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(a,{styles:iF(s)}):null,w?m.createElement(QD,{gapMode:e.gapMode}):null)}function lF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cF=FD(D1,oF);var Og=m.forwardRef(function(e,t){return m.createElement(zu,fr({},e,{ref:t,sideCar:cF}))});Og.classNames=zu.classNames;var dF=[" ","Enter","ArrowUp","ArrowDown"],uF=[" ","Enter"],ac="Select",[Uu,Bu,fF]=Qp(ac),[xo,S5]=Fn(ac,[fF,Au]),Vu=Au(),[hF,Zs]=xo(ac),[mF,pF]=xo(ac),U1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:u,disabled:h,required:w,form:b}=e,x=Vu(t),[v,p]=m.useState(null),[g,y]=m.useState(null),[j,N]=m.useState(!1),P=Ig(d),[E=!1,_]=Ms({prop:r,defaultProp:s,onChange:a}),[O,k]=Ms({prop:o,defaultProp:l,onChange:c}),F=m.useRef(null),R=v?b||!!v.closest("form"):!0,[T,L]=m.useState(new Set),z=Array.from(T).map(H=>H.props.value).join(";");return i.jsx(gA,{...x,children:i.jsxs(hF,{required:w,scope:t,trigger:v,onTriggerChange:p,valueNode:g,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ps(),value:O,onValueChange:k,open:E,onOpenChange:_,dir:P,triggerPointerDownPosRef:F,disabled:h,children:[i.jsx(Uu.Provider,{scope:t,children:i.jsx(mF,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(H=>{L(J=>new Set(J).add(H))},[]),onNativeOptionRemove:m.useCallback(H=>{L(J=>{const M=new Set(J);return M.delete(H),M})},[]),children:n})}),R?i.jsxs(fS,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:u,value:O,onChange:H=>k(H.target.value),disabled:h,form:b,children:[O===void 0?i.jsx("option",{value:""}):null,Array.from(T)]},z):null]})})};U1.displayName=ac;var B1="SelectTrigger",V1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Vu(n),o=Zs(B1,n),l=o.disabled||r,c=Ve(t,o.onTriggerChange),d=Bu(n),f=m.useRef("touch"),[u,h,w]=hS(x=>{const v=d().filter(y=>!y.disabled),p=v.find(y=>y.value===o.value),g=mS(v,x,p);g!==void 0&&o.onValueChange(g.value)}),b=x=>{l||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(PN,{asChild:!0,...a,children:i.jsx(pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uS(o.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&b(x)}),onPointerDown:oe(s.onPointerDown,x=>{f.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:oe(s.onKeyDown,x=>{const v=u.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(v&&x.key===" ")&&dF.includes(x.key)&&(b(),x.preventDefault())})})})});V1.displayName=B1;var H1="SelectValue",W1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=Zs(H1,n),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,u=Ve(t,c.onValueNodeChange);return Vt(()=>{d(f)},[d,f]),i.jsx(pe.span,{...l,ref:u,style:{pointerEvents:"none"},children:uS(c.value)?i.jsx(i.Fragment,{children:o}):a})});W1.displayName=H1;var gF="SelectIcon",q1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(pe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});q1.displayName=gF;var xF="SelectPortal",K1=e=>i.jsx(ku,{asChild:!0,...e});K1.displayName=xF;var Di="SelectContent",G1=m.forwardRef((e,t)=>{const n=Zs(Di,e.__scopeSelect),[r,s]=m.useState();if(Vt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Wi.createPortal(i.jsx(Y1,{scope:e.__scopeSelect,children:i.jsx(Uu.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(Q1,{...e,ref:t})});G1.displayName=Di;var zn=10,[Y1,Xs]=xo(Di),vF="SelectContentImpl",yF=Ya("SelectContent.RemoveScroll"),Q1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:h,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:v,...p}=e,g=Zs(Di,n),[y,j]=m.useState(null),[N,P]=m.useState(null),E=Ve(t,ie=>j(ie)),[_,O]=m.useState(null),[k,F]=m.useState(null),R=Bu(n),[T,L]=m.useState(!1),z=m.useRef(!1);m.useEffect(()=>{if(y)return R1(y)},[y]),T1();const H=m.useCallback(ie=>{const[He,...ft]=R().map(I=>I.ref.current),[_e]=ft.slice(-1),Te=document.activeElement;for(const I of ie)if(I===Te||(I==null||I.scrollIntoView({block:"nearest"}),I===He&&N&&(N.scrollTop=0),I===_e&&N&&(N.scrollTop=N.scrollHeight),I==null||I.focus(),document.activeElement!==Te))return},[R,N]),J=m.useCallback(()=>H([_,y]),[H,_,y]);m.useEffect(()=>{T&&J()},[T,J]);const{onOpenChange:M,triggerPointerDownPosRef:B}=g;m.useEffect(()=>{if(y){let ie={x:0,y:0};const He=_e=>{var Te,I;ie={x:Math.abs(Math.round(_e.pageX)-(((Te=B.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((I=B.current)==null?void 0:I.y)??0))}},ft=_e=>{ie.x<=10&&ie.y<=10?_e.preventDefault():y.contains(_e.target)||M(!1),document.removeEventListener("pointermove",He),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",ft,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",ft,{capture:!0})}}},[y,M,B]),m.useEffect(()=>{const ie=()=>M(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[M]);const[X,ae]=hS(ie=>{const He=R().filter(Te=>!Te.disabled),ft=He.find(Te=>Te.ref.current===document.activeElement),_e=mS(He,ie,ft);_e&&setTimeout(()=>_e.ref.current.focus())}),Ee=m.useCallback((ie,He,ft)=>{const _e=!z.current&&!ft;(g.value!==void 0&&g.value===He||_e)&&(O(ie),_e&&(z.current=!0))},[g.value]),nt=m.useCallback(()=>y==null?void 0:y.focus(),[y]),at=m.useCallback((ie,He,ft)=>{const _e=!z.current&&!ft;(g.value!==void 0&&g.value===He||_e)&&F(ie)},[g.value]),Qt=r==="popper"?Fm:Z1,bt=Qt===Fm?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:h,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:v}:{};return i.jsx(Y1,{scope:n,content:y,viewport:N,onViewportChange:P,itemRefCallback:Ee,selectedItem:_,onItemLeave:nt,itemTextRefCallback:at,focusSelectedItem:J,selectedItemText:k,position:r,isPositioned:T,searchRef:X,children:i.jsx(Og,{as:yF,allowPinchZoom:!0,children:i.jsx(Ag,{asChild:!0,trapped:g.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:oe(s,ie=>{var He;(He=g.trigger)==null||He.focus({preventScroll:!0}),ie.preventDefault()}),children:i.jsx(tc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(Qt,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ie=>ie.preventDefault(),...p,...bt,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:oe(p.onKeyDown,ie=>{const He=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!He&&ie.key.length===1&&ae(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let _e=R().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Te=ie.target,I=_e.indexOf(Te);_e=_e.slice(I+1)}setTimeout(()=>H(_e)),ie.preventDefault()}})})})})})})});Q1.displayName=vF;var wF="SelectItemAlignedPosition",Z1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Zs(Di,n),o=Xs(Di,n),[l,c]=m.useState(null),[d,f]=m.useState(null),u=Ve(t,E=>f(E)),h=Bu(n),w=m.useRef(!1),b=m.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:p,focusSelectedItem:g}=o,y=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&v&&p){const E=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),k=p.getBoundingClientRect();if(a.dir!=="rtl"){const Te=k.left-_.left,I=O.left-Te,ce=E.left-I,$e=E.width+ce,ge=Math.max($e,_.width),Ot=window.innerWidth-zn,rt=Ey(I,[zn,Math.max(zn,Ot-ge)]);l.style.minWidth=$e+"px",l.style.left=rt+"px"}else{const Te=_.right-k.right,I=window.innerWidth-O.right-Te,ce=window.innerWidth-E.right-I,$e=E.width+ce,ge=Math.max($e,_.width),Ot=window.innerWidth-zn,rt=Ey(I,[zn,Math.max(zn,Ot-ge)]);l.style.minWidth=$e+"px",l.style.right=rt+"px"}const F=h(),R=window.innerHeight-zn*2,T=x.scrollHeight,L=window.getComputedStyle(d),z=parseInt(L.borderTopWidth,10),H=parseInt(L.paddingTop,10),J=parseInt(L.borderBottomWidth,10),M=parseInt(L.paddingBottom,10),B=z+H+T+M+J,X=Math.min(v.offsetHeight*5,B),ae=window.getComputedStyle(x),Ee=parseInt(ae.paddingTop,10),nt=parseInt(ae.paddingBottom,10),at=E.top+E.height/2-zn,Qt=R-at,bt=v.offsetHeight/2,ie=v.offsetTop+bt,He=z+H+ie,ft=B-He;if(He<=at){const Te=F.length>0&&v===F[F.length-1].ref.current;l.style.bottom="0px";const I=d.clientHeight-x.offsetTop-x.offsetHeight,ce=Math.max(Qt,bt+(Te?nt:0)+I+J),$e=He+ce;l.style.height=$e+"px"}else{const Te=F.length>0&&v===F[0].ref.current;l.style.top="0px";const ce=Math.max(at,z+x.offsetTop+(Te?Ee:0)+bt)+ft;l.style.height=ce+"px",x.scrollTop=He-at+x.offsetTop}l.style.margin=`${zn}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[h,a.trigger,a.valueNode,l,d,x,v,p,a.dir,r]);Vt(()=>y(),[y]);const[j,N]=m.useState();Vt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=m.useCallback(E=>{E&&b.current===!0&&(y(),g==null||g(),b.current=!1)},[y,g]);return i.jsx(jF,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:P,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(pe.div,{...s,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Z1.displayName=wF;var bF="SelectPopperPosition",Fm=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zn,...a}=e,o=Vu(n);return i.jsx(TN,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fm.displayName=bF;var[jF,Mg]=xo(Di,{}),Lm="SelectViewport",X1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Xs(Lm,n),o=Mg(Lm,n),l=Ve(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Uu.Slot,{scope:n,children:i.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&u){const w=Math.abs(c.current-f.scrollTop);if(w>0){const b=window.innerHeight-zn*2,x=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),p=Math.max(x,v);if(p<b){const g=p+w,y=Math.min(b,g),j=g-y;u.style.height=y+"px",u.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,u.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});X1.displayName=Lm;var J1="SelectGroup",[NF,SF]=xo(J1),CF=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ps();return i.jsx(NF,{scope:n,id:s,children:i.jsx(pe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});CF.displayName=J1;var eS="SelectLabel",tS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=SF(eS,n);return i.jsx(pe.div,{id:s.id,...r,ref:t})});tS.displayName=eS;var Wd="SelectItem",[kF,nS]=xo(Wd),rS=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=Zs(Wd,n),c=Xs(Wd,n),d=l.value===r,[f,u]=m.useState(a??""),[h,w]=m.useState(!1),b=Ve(t,g=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,g,r,s)}),x=Ps(),v=m.useRef("touch"),p=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(kF,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:m.useCallback(g=>{u(y=>y||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Uu.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:i.jsx(pe.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:oe(o.onFocus,()=>w(!0)),onBlur:oe(o.onBlur,()=>w(!1)),onClick:oe(o.onClick,()=>{v.current!=="mouse"&&p()}),onPointerUp:oe(o.onPointerUp,()=>{v.current==="mouse"&&p()}),onPointerDown:oe(o.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:oe(o.onPointerMove,g=>{var y;v.current=g.pointerType,s?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,g=>{var y;g.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:oe(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(uF.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})})})})});rS.displayName=Wd;var zo="SelectItemText",sS=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=Zs(zo,n),l=Xs(zo,n),c=nS(zo,n),d=pF(zo,n),[f,u]=m.useState(null),h=Ve(t,p=>u(p),c.onItemTextChange,p=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,p,c.value,c.disabled)}),w=f==null?void 0:f.textContent,b=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=d;return Vt(()=>(x(b),()=>v(b)),[x,v,b]),i.jsxs(i.Fragment,{children:[i.jsx(pe.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wi.createPortal(a.children,o.valueNode):null]})});sS.displayName=zo;var iS="SelectItemIndicator",aS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nS(iS,n).isSelected?i.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});aS.displayName=iS;var $m="SelectScrollUpButton",oS=m.forwardRef((e,t)=>{const n=Xs($m,e.__scopeSelect),r=Mg($m,e.__scopeSelect),[s,a]=m.useState(!1),o=Ve(t,r.onScrollButtonChange);return Vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(cS,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oS.displayName=$m;var zm="SelectScrollDownButton",lS=m.forwardRef((e,t)=>{const n=Xs(zm,e.__scopeSelect),r=Mg(zm,e.__scopeSelect),[s,a]=m.useState(!1),o=Ve(t,r.onScrollButtonChange);return Vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(cS,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lS.displayName=zm;var cS=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Xs("SelectScrollButton",n),o=m.useRef(null),l=Bu(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Vt(()=>{var f;const d=l().find(u=>u.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),EF="SelectSeparator",dS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});dS.displayName=EF;var Um="SelectArrow",_F=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Vu(n),a=Zs(Um,n),o=Xs(Um,n);return a.open&&o.position==="popper"?i.jsx(IN,{...s,...r,ref:t}):null});_F.displayName=Um;function uS(e){return e===""||e===void 0}var fS=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),a=Ve(t,s),o=Rg(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const u=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(u)}},[o,n]),i.jsx(nc,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});fS.displayName="BubbleSelect";function hS(e){const t=xn(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function mS(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=PF(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function PF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var TF=U1,pS=V1,IF=W1,AF=q1,RF=K1,gS=G1,OF=X1,xS=tS,vS=rS,MF=sS,DF=aS,yS=oS,wS=lS,bS=dS;const Fi=TF,qd=IF,Us=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(pS,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(AF,{asChild:!0,children:i.jsx(eg,{className:"h-4 w-4 opacity-50"})})]}));Us.displayName=pS.displayName;const jS=m.forwardRef(({className:e,...t},n)=>i.jsx(yS,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(hT,{className:"h-4 w-4"})}));jS.displayName=yS.displayName;const NS=m.forwardRef(({className:e,...t},n)=>i.jsx(wS,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(eg,{className:"h-4 w-4"})}));NS.displayName=wS.displayName;const Bs=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(RF,{children:i.jsxs(gS,{ref:s,className:ne("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(jS,{}),i.jsx(OF,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(NS,{})]})}));Bs.displayName=gS.displayName;const FF=m.forwardRef(({className:e,...t},n)=>i.jsx(xS,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));FF.displayName=xS.displayName;const nn=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(vS,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(DF,{children:i.jsx(Od,{className:"h-4 w-4"})})}),i.jsx(MF,{children:t})]}));nn.displayName=vS.displayName;const LF=m.forwardRef(({className:e,...t},n)=>i.jsx(bS,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));LF.displayName=bS.displayName;var Dg="Dialog",[SS,CS]=Fn(Dg),[$F,rr]=SS(Dg),kS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,f]=Ms({prop:r,defaultProp:s,onChange:a});return i.jsx($F,{scope:t,triggerRef:l,contentRef:c,contentId:Ps(),titleId:Ps(),descriptionId:Ps(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(u=>!u),[f]),modal:o,children:n})};kS.displayName=Dg;var ES="DialogTrigger",_S=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(ES,n),a=Ve(t,s.triggerRef);return i.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$g(s.open),...r,ref:a,onClick:oe(e.onClick,s.onOpenToggle)})});_S.displayName=ES;var Fg="DialogPortal",[zF,PS]=SS(Fg,{forceMount:void 0}),TS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=rr(Fg,t);return i.jsx(zF,{scope:t,forceMount:n,children:m.Children.map(r,o=>i.jsx(Qs,{present:n||a.open,children:i.jsx(ku,{asChild:!0,container:s,children:o})}))})};TS.displayName=Fg;var Kd="DialogOverlay",IS=m.forwardRef((e,t)=>{const n=PS(Kd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=rr(Kd,e.__scopeDialog);return a.modal?i.jsx(Qs,{present:r||a.open,children:i.jsx(BF,{...s,ref:t})}):null});IS.displayName=Kd;var UF=Ya("DialogOverlay.RemoveScroll"),BF=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(Kd,n);return i.jsx(Og,{as:UF,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(pe.div,{"data-state":$g(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Li="DialogContent",AS=m.forwardRef((e,t)=>{const n=PS(Li,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=rr(Li,e.__scopeDialog);return i.jsx(Qs,{present:r||a.open,children:a.modal?i.jsx(VF,{...s,ref:t}):i.jsx(HF,{...s,ref:t})})});AS.displayName=Li;var VF=m.forwardRef((e,t)=>{const n=rr(Li,e.__scopeDialog),r=m.useRef(null),s=Ve(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return R1(a)},[]),i.jsx(RS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,a=>a.preventDefault())})}),HF=m.forwardRef((e,t)=>{const n=rr(Li,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return i.jsx(RS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),RS=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=rr(Li,n),c=m.useRef(null),d=Ve(t,c);return T1(),i.jsxs(i.Fragment,{children:[i.jsx(Ag,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(tc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$g(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(qF,{titleId:l.titleId}),i.jsx(GF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Lg="DialogTitle",OS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(Lg,n);return i.jsx(pe.h2,{id:s.titleId,...r,ref:t})});OS.displayName=Lg;var MS="DialogDescription",DS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(MS,n);return i.jsx(pe.p,{id:s.descriptionId,...r,ref:t})});DS.displayName=MS;var FS="DialogClose",LS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=rr(FS,n);return i.jsx(pe.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});LS.displayName=FS;function $g(e){return e?"open":"closed"}var $S="DialogTitleWarning",[WF,zS]=wP($S,{contentName:Li,titleName:Lg,docsSlug:"dialog"}),qF=({titleId:e})=>{const t=zS($S),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},KF="DialogDescriptionWarning",GF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zS(KF).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zg=kS,Ug=_S,Bg=TS,oc=IS,lc=AS,cc=OS,dc=DS,Hu=LS;const an=zg,$i=Ug,YF=Bg,US=m.forwardRef(({className:e,...t},n)=>i.jsx(oc,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));US.displayName=oc.displayName;const Ht=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(YF,{children:[i.jsx(US,{}),i.jsxs(lc,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(Hu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(qi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ht.displayName=lc.displayName;const Wt=({className:e,...t})=>i.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wt.displayName="DialogHeader";const Bm=({className:e,...t})=>i.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bm.displayName="DialogFooter";const qt=m.forwardRef(({className:e,...t},n)=>i.jsx(cc,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));qt.displayName=cc.displayName;const eo=m.forwardRef(({className:e,...t},n)=>i.jsx(dc,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));eo.displayName=dc.displayName;const Kr=m.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Kr.displayName="Textarea";var QF="Label",BS=m.forwardRef((e,t)=>i.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BS.displayName=QF;var VS=BS;const ZF=uo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),st=m.forwardRef(({className:e,...t},n)=>i.jsx(VS,{ref:n,className:ne(ZF(),e),...t}));st.displayName=VS.displayName;function XF({contact:e,onEdit:t,onInvite:n,onDelete:r,type:s="contact","data-testid":a}){const[o,l]=m.useState(!1),[c,d]=m.useState(""),[f,u]=m.useState(!1),[h,w]=m.useState(!1),[b,x]=m.useState(!1),{toast:v}=wt(),p=j=>{const N=["border-l-blue-500 bg-blue-50","border-l-green-500 bg-green-50","border-l-purple-500 bg-purple-50","border-l-orange-500 bg-orange-50"];return N[j%N.length]},g=async()=>{if(!e.email){v({title:"Cannot send invitation",description:"This contact doesn't have an email address.",variant:"destructive"});return}u(!0);try{const N=await(await me("POST","/api/contacts/invitations",{email:e.email,firstName:e.firstName,lastName:e.lastName,message:c,contactId:e.id})).json();v({title:"Invitation sent!",description:`Invitation sent to ${e.firstName} ${e.lastName}`}),l(!1),d(""),n==null||n(e)}catch(j){console.error("Error sending invitation:",j),v({title:"Failed to send invitation",description:"Please try again later.",variant:"destructive"})}finally{u(!1)}},y=async()=>{x(!0);try{const N=await(await me("POST","/api/contacts/promote-to-household",{contactId:e.id})).json();v({title:"Contact promoted!",description:N.message||`${e.firstName} ${e.lastName} has been added to your household`}),w(!1),await ja.invalidateQueries({queryKey:["/api/contacts"]}),await ja.invalidateQueries({queryKey:["/api/households/current"]}),await ja.invalidateQueries({queryKey:["/api/households/mine"]}),n==null||n(e)}catch(j){console.error("Error promoting contact:",j);const N=j instanceof Error?j.message:"Please try again later.";v({title:"Failed to promote contact",description:N,variant:"destructive"})}finally{x(!1)}};return i.jsx(le,{className:`hover:shadow-lg transition-shadow border-l-4 ${p(0)}`,"data-testid":a,children:i.jsxs(de,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsx("img",{src:e.profileImageUrl||`https://ui-avatars.com/api/?name=${e.firstName}+${e.lastName}&size=64`,alt:`${e.firstName} ${e.lastName}`,className:"w-16 h-16 rounded-full object-cover","data-testid":"img-contact-avatar"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"font-semibold text-foreground text-lg","data-testid":"text-contact-name",children:[e.firstName," ",e.lastName]}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:[s==="household"?"Household Member":"Contact",e.role&&` (${e.role})`]}),i.jsx(Ze,{variant:"secondary",className:"mt-1","data-testid":"badge-contact-group",children:s==="household"?"Household":"Personal Contact"})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[e.email&&i.jsxs("div",{className:"flex items-center text-muted-foreground","data-testid":"contact-email",children:[i.jsx(ng,{className:"w-4 h-4 mr-3 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&e.showPhone&&i.jsxs("div",{className:"flex items-center text-muted-foreground","data-testid":"contact-phone",children:[i.jsx(Qj,{className:"w-4 h-4 mr-3 flex-shrink-0"}),i.jsx("span",{children:e.phone})]}),e.birthday&&e.showBirthday&&i.jsxs("div",{className:"flex items-center text-muted-foreground","data-testid":"contact-birthday",children:[i.jsx(yr,{className:"w-4 h-4 mr-3 flex-shrink-0"}),i.jsx("span",{children:bi(new Date(e.birthday),"MMMM do, yyyy")})]}),e.showAddress&&i.jsxs("div",{className:"flex items-center text-muted-foreground","data-testid":"contact-address",children:[i.jsx(Nl,{className:"w-4 h-4 mr-3 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:e.address||[e.street,e.city,e.state,e.zipCode].filter(Boolean).join(", ")||"No address provided"})]})]}),t&&i.jsxs("div",{className:"mt-4 flex space-x-2",children:[i.jsxs(D,{className:"flex-1",variant:"default","data-testid":"button-view-contact",children:[i.jsx(bm,{className:"h-4 w-4 mr-2"}),"View Details"]}),s==="contact"&&e.email&&i.jsxs(an,{open:o,onOpenChange:l,children:[i.jsx($i,{asChild:!0,children:i.jsx(D,{variant:"outline",size:"sm","data-testid":"button-invite-contact",children:i.jsx(Vr,{className:"h-4 w-4"})})}),i.jsxs(Ht,{children:[i.jsx(Wt,{children:i.jsxs(qt,{children:["Invite ",e.firstName," to My Branches"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send an invitation to ",e.firstName," ",e.lastName," (",e.email,") to join My Branches."]}),i.jsxs("div",{children:[i.jsx(st,{htmlFor:"message",children:"Personal Message (Optional)"}),i.jsx(Kr,{id:"message",placeholder:"Add a personal message to your invitation...",value:c,onChange:j=>d(j.target.value),className:"mt-1"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(D,{variant:"outline",className:"flex-1",onClick:()=>l(!1),children:"Cancel"}),i.jsx(D,{className:"flex-1",onClick:g,disabled:f,"data-testid":"button-send-invitation",children:f?"Sending...":"Send Invitation"})]})]})]})]}),s==="contact"&&i.jsxs(an,{open:h,onOpenChange:w,children:[i.jsx($i,{asChild:!0,children:i.jsx(D,{variant:"outline",size:"sm","data-testid":"button-promote-contact",children:i.jsx(zt,{className:"h-4 w-4"})})}),i.jsxs(Ht,{children:[i.jsx(Wt,{children:i.jsxs(qt,{children:["Add ",e.firstName," to Household"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Promote ",e.firstName," ",e.lastName," from a personal contact to a household member. This will move them from your personal contacts to your household management."]}),i.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Note:"})," Once promoted to household member, this contact will:"]}),i.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside",children:[i.jsx("li",{children:"Appear in your household member list"}),i.jsx("li",{children:"Be removed from your personal contacts"}),i.jsx("li",{children:"Have member-level permissions in the household"})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(D,{variant:"outline",className:"flex-1",onClick:()=>w(!1),"data-testid":"button-cancel-promote",children:"Cancel"}),i.jsx(D,{className:"flex-1",onClick:y,disabled:b,"data-testid":"button-confirm-promote",children:b?"Adding...":"Add to Household"})]})]})]})]}),i.jsx(D,{variant:"outline",size:"sm",onClick:()=>t(e),"data-testid":"button-edit-contact",children:i.jsx(rg,{className:"h-4 w-4"})}),s==="contact"&&r&&i.jsx(D,{variant:"outline",size:"sm",onClick:()=>r(e),className:"border-red-500 text-red-600 hover:bg-red-50","data-testid":"button-delete-contact",children:i.jsx(Dd,{className:"h-4 w-4"})})]})]})})}var uc=e=>e.type==="checkbox",ui=e=>e instanceof Date,tn=e=>e==null;const HS=e=>typeof e=="object";var xt=e=>!tn(e)&&!Array.isArray(e)&&HS(e)&&!ui(e),WS=e=>xt(e)&&e.target?uc(e.target)?e.target.checked:e.target.value:e,JF=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qS=(e,t)=>e.has(JF(t)),eL=e=>{const t=e.constructor&&e.constructor.prototype;return xt(t)&&t.hasOwnProperty("isPrototypeOf")},Vg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Vg&&(e instanceof Blob||r))&&(n||xt(e)))if(t=n?[]:{},!n&&!eL(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Pt(e[s]));else return e;return t}var Wu=e=>Array.isArray(e)?e.filter(Boolean):[],pt=e=>e===void 0,K=(e,t,n)=>{if(!t||!xt(e))return n;const r=Wu(t.split(/[,[\].]+?/)).reduce((s,a)=>tn(s)?s:s[a],e);return pt(r)||r===e?pt(e[t])?n:e[t]:r},wn=e=>typeof e=="boolean",Hg=e=>/^\w*$/.test(e),KS=e=>Wu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(e,t,n)=>{let r=-1;const s=Hg(t)?[t]:KS(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const d=e[l];c=xt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Gd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GS=xe.createContext(null),qu=()=>xe.useContext(GS),tL=e=>{const{children:t,...n}=e;return xe.createElement(GS.Provider,{value:n},t)};var YS=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Kn.all&&(t._proxyFormState[o]=!r||Kn.all),n&&(n[o]=!0),e[o]}});return s};function nL(e){const t=qu(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=xe.useState(n._formState),c=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=xe.useRef(s);return d.current=s,xe.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:f=>{!r&&l({...n._formState,...f})}}),[n,r,a]),xe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),xe.useMemo(()=>YS(o,n,c.current,!1),[o,n])}var hr=e=>typeof e=="string",QS=(e,t,n,r,s)=>hr(e)?(r&&t.watch.add(e),K(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),K(n,a))):(r&&(t.watchAll=!0),n);function rL(e){const t=qu(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=xe.useRef(r),c=xe.useRef(s);l.current=r,xe.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:u=>!a&&f(QS(l.current,n._names,u.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,f]=xe.useState(n._getWatch(r,s));return xe.useEffect(()=>n._removeUnmounted()),d}function sL(e){const t=qu(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=qS(s._names.array,n),l=rL({control:s,name:n,defaultValue:K(s._formValues,n,K(s._defaultValues,n,e.defaultValue)),exact:!0}),c=nL({control:s,name:n,exact:!0}),d=xe.useRef(e),f=xe.useRef(s.register(n,{...e.rules,value:l,...wn(e.disabled)?{disabled:e.disabled}:{}})),u=xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!K(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!K(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!K(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!K(c.validatingFields,n)},error:{enumerable:!0,get:()=>K(c.errors,n)}}),[c,n]),h=xe.useCallback(v=>f.current.onChange({target:{value:WS(v),name:n},type:Gd.CHANGE}),[n]),w=xe.useCallback(()=>f.current.onBlur({target:{value:K(s._formValues,n),name:n},type:Gd.BLUR}),[n,s._formValues]),b=xe.useCallback(v=>{const p=K(s._fields,n);p&&v&&(p._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:g=>v.setCustomValidity(g),reportValidity:()=>v.reportValidity()})},[s._fields,n]),x=xe.useMemo(()=>({name:n,value:l,...wn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:h,onBlur:w,ref:b}),[n,r,c.disabled,h,w,b,l]);return xe.useEffect(()=>{const v=s._options.shouldUnregister||a;s.register(n,{...d.current.rules,...wn(d.current.disabled)?{disabled:d.current.disabled}:{}});const p=(g,y)=>{const j=K(s._fields,g);j&&j._f&&(j._f.mount=y)};if(p(n,!0),v){const g=Pt(K(s._options.defaultValues,n));Ue(s._defaultValues,n,g),pt(K(s._formValues,n))&&Ue(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?v&&!s._state.action:v)?s.unregister(n):p(n,!1)}},[n,s,o,a]),xe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),xe.useMemo(()=>({field:x,formState:c,fieldState:u}),[x,c,u])}const iL=e=>e.render(sL(e));var ZS=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},rl=e=>Array.isArray(e)?e:[e],Ly=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Vm=e=>tn(e)||!HS(e);function cs(e,t){if(Vm(e)||Vm(t))return e===t;if(ui(e)&&ui(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const a=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(ui(a)&&ui(o)||xt(a)&&xt(o)||Array.isArray(a)&&Array.isArray(o)?!cs(a,o):a!==o)return!1}}return!0}var Jt=e=>xt(e)&&!Object.keys(e).length,Wg=e=>e.type==="file",Gn=e=>typeof e=="function",Yd=e=>{if(!Vg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},XS=e=>e.type==="select-multiple",qg=e=>e.type==="radio",aL=e=>qg(e)||uc(e),sh=e=>Yd(e)&&e.isConnected;function oL(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=pt(e)?r++:e[t[r++]];return e}function lL(e){for(const t in e)if(e.hasOwnProperty(t)&&!pt(e[t]))return!1;return!0}function Nt(e,t){const n=Array.isArray(t)?t:Hg(t)?[t]:KS(t),r=n.length===1?e:oL(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(xt(r)&&Jt(r)||Array.isArray(r)&&lL(r))&&Nt(e,n.slice(0,-1)),e}var JS=e=>{for(const t in e)if(Gn(e[t]))return!0;return!1};function Qd(e,t={}){const n=Array.isArray(e);if(xt(e)||n)for(const r in e)Array.isArray(e[r])||xt(e[r])&&!JS(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Qd(e[r],t[r])):tn(e[r])||(t[r]=!0);return t}function eC(e,t,n){const r=Array.isArray(e);if(xt(e)||r)for(const s in e)Array.isArray(e[s])||xt(e[s])&&!JS(e[s])?pt(t)||Vm(n[s])?n[s]=Array.isArray(e[s])?Qd(e[s],[]):{...Qd(e[s])}:eC(e[s],tn(t)?{}:t[s],n[s]):n[s]=!cs(e[s],t[s]);return n}var Ro=(e,t)=>eC(e,t,Qd(t));const $y={value:!1,isValid:!1},zy={value:!0,isValid:!0};var tC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pt(e[0].attributes.value)?pt(e[0].value)||e[0].value===""?zy:{value:e[0].value,isValid:!0}:zy:$y}return $y},nC=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>pt(e)?e:t?e===""?NaN:e&&+e:n&&hr(e)?new Date(e):r?r(e):e;const Uy={isValid:!1,value:null};var rC=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Uy):Uy;function By(e){const t=e.ref;return Wg(t)?t.files:qg(t)?rC(e.refs).value:XS(t)?[...t.selectedOptions].map(({value:n})=>n):uc(t)?tC(e.refs).value:nC(pt(t.value)?e.ref.value:t.value,e)}var cL=(e,t,n,r)=>{const s={};for(const a of e){const o=K(t,a);o&&Ue(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Zd=e=>e instanceof RegExp,Oo=e=>pt(e)?e:Zd(e)?e.source:xt(e)?Zd(e.value)?e.value.source:e.value:e,Vy=e=>({isOnSubmit:!e||e===Kn.onSubmit,isOnBlur:e===Kn.onBlur,isOnChange:e===Kn.onChange,isOnAll:e===Kn.all,isOnTouch:e===Kn.onTouched});const Hy="AsyncFunction";var dL=e=>!!e&&!!e.validate&&!!(Gn(e.validate)&&e.validate.constructor.name===Hy||xt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Hy)),uL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Wy=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const sl=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=K(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(sl(l,t))break}else if(xt(l)&&sl(l,t))break}}};function qy(e,t,n){const r=K(e,n);if(r||Hg(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=K(t,a),l=K(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var fL=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return Jt(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Kn.all))},hL=(e,t,n)=>!e||!t||e===t||rl(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),mL=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,pL=(e,t)=>!Wu(K(e,t)).length&&Nt(e,t),gL=(e,t,n)=>{const r=rl(K(e,n));return Ue(r,"root",t[n]),Ue(e,n,r),e},od=e=>hr(e);function Ky(e,t,n="validate"){if(od(e)||Array.isArray(e)&&e.every(od)||wn(e)&&!e)return{type:n,message:od(e)?e:"",ref:t}}var Ji=e=>xt(e)&&!Zd(e)?e:{value:e,message:""},Gy=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:u,max:h,pattern:w,validate:b,name:x,valueAsNumber:v,mount:p}=e._f,g=K(n,x);if(!p||t.has(x))return{};const y=l?l[0]:o,j=R=>{s&&y.reportValidity&&(y.setCustomValidity(wn(R)?"":R||""),y.reportValidity())},N={},P=qg(o),E=uc(o),_=P||E,O=(v||Wg(o))&&pt(o.value)&&pt(g)||Yd(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,k=ZS.bind(null,x,r,N),F=(R,T,L,z=Cr.maxLength,H=Cr.minLength)=>{const J=R?T:L;N[x]={type:R?z:H,message:J,ref:o,...k(R?z:H,J)}};if(a?!Array.isArray(g)||!g.length:c&&(!_&&(O||tn(g))||wn(g)&&!g||E&&!tC(l).isValid||P&&!rC(l).isValid)){const{value:R,message:T}=od(c)?{value:!!c,message:c}:Ji(c);if(R&&(N[x]={type:Cr.required,message:T,ref:y,...k(Cr.required,T)},!r))return j(T),N}if(!O&&(!tn(u)||!tn(h))){let R,T;const L=Ji(h),z=Ji(u);if(!tn(g)&&!isNaN(g)){const H=o.valueAsNumber||g&&+g;tn(L.value)||(R=H>L.value),tn(z.value)||(T=H<z.value)}else{const H=o.valueAsDate||new Date(g),J=X=>new Date(new Date().toDateString()+" "+X),M=o.type=="time",B=o.type=="week";hr(L.value)&&g&&(R=M?J(g)>J(L.value):B?g>L.value:H>new Date(L.value)),hr(z.value)&&g&&(T=M?J(g)<J(z.value):B?g<z.value:H<new Date(z.value))}if((R||T)&&(F(!!R,L.message,z.message,Cr.max,Cr.min),!r))return j(N[x].message),N}if((d||f)&&!O&&(hr(g)||a&&Array.isArray(g))){const R=Ji(d),T=Ji(f),L=!tn(R.value)&&g.length>+R.value,z=!tn(T.value)&&g.length<+T.value;if((L||z)&&(F(L,R.message,T.message),!r))return j(N[x].message),N}if(w&&!O&&hr(g)){const{value:R,message:T}=Ji(w);if(Zd(R)&&!g.match(R)&&(N[x]={type:Cr.pattern,message:T,ref:o,...k(Cr.pattern,T)},!r))return j(T),N}if(b){if(Gn(b)){const R=await b(g,n),T=Ky(R,y);if(T&&(N[x]={...T,...k(Cr.validate,T.message)},!r))return j(T.message),N}else if(xt(b)){let R={};for(const T in b){if(!Jt(R)&&!r)break;const L=Ky(await b[T](g,n),y,T);L&&(R={...L,...k(T,L.message)},j(L.message),r&&(N[x]=R))}if(!Jt(R)&&(N[x]={ref:y,...R},!r))return N}}return j(!0),N};const xL={mode:Kn.onSubmit,reValidateMode:Kn.onChange,shouldFocusError:!0};function vL(e={}){let t={...xL,...e},n={submitCount:0,isDirty:!1,isLoading:Gn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=xt(t.defaultValues)||xt(t.values)?Pt(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Pt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...f};const h={array:Ly(),state:Ly()},w=Vy(t.mode),b=Vy(t.reValidateMode),x=t.criteriaMode===Kn.all,v=S=>A=>{clearTimeout(d),d=setTimeout(S,A)},p=async S=>{if(!t.disabled&&(f.isValid||u.isValid||S)){const A=t.resolver?Jt((await O()).errors):await F(r,!0);A!==n.isValid&&h.state.next({isValid:A})}},g=(S,A)=>{!t.disabled&&(f.isValidating||f.validatingFields||u.isValidating||u.validatingFields)&&((S||Array.from(l.mount)).forEach($=>{$&&(A?Ue(n.validatingFields,$,A):Nt(n.validatingFields,$))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Jt(n.validatingFields)}))},y=(S,A=[],$,Z,q=!0,W=!0)=>{if(Z&&$&&!t.disabled){if(o.action=!0,W&&Array.isArray(K(r,S))){const te=$(K(r,S),Z.argA,Z.argB);q&&Ue(r,S,te)}if(W&&Array.isArray(K(n.errors,S))){const te=$(K(n.errors,S),Z.argA,Z.argB);q&&Ue(n.errors,S,te),pL(n.errors,S)}if((f.touchedFields||u.touchedFields)&&W&&Array.isArray(K(n.touchedFields,S))){const te=$(K(n.touchedFields,S),Z.argA,Z.argB);q&&Ue(n.touchedFields,S,te)}(f.dirtyFields||u.dirtyFields)&&(n.dirtyFields=Ro(s,a)),h.state.next({name:S,isDirty:T(S,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ue(a,S,A)},j=(S,A)=>{Ue(n.errors,S,A),h.state.next({errors:n.errors})},N=S=>{n.errors=S,h.state.next({errors:n.errors,isValid:!1})},P=(S,A,$,Z)=>{const q=K(r,S);if(q){const W=K(a,S,pt($)?K(s,S):$);pt(W)||Z&&Z.defaultChecked||A?Ue(a,S,A?W:By(q._f)):H(S,W),o.mount&&p()}},E=(S,A,$,Z,q)=>{let W=!1,te=!1;const Oe={name:S};if(!t.disabled){if(!$||Z){(f.isDirty||u.isDirty)&&(te=n.isDirty,n.isDirty=Oe.isDirty=T(),W=te!==Oe.isDirty);const vt=cs(K(s,S),A);te=!!K(n.dirtyFields,S),vt?Nt(n.dirtyFields,S):Ue(n.dirtyFields,S,!0),Oe.dirtyFields=n.dirtyFields,W=W||(f.dirtyFields||u.dirtyFields)&&te!==!vt}if($){const vt=K(n.touchedFields,S);vt||(Ue(n.touchedFields,S,$),Oe.touchedFields=n.touchedFields,W=W||(f.touchedFields||u.touchedFields)&&vt!==$)}W&&q&&h.state.next(Oe)}return W?Oe:{}},_=(S,A,$,Z)=>{const q=K(n.errors,S),W=(f.isValid||u.isValid)&&wn(A)&&n.isValid!==A;if(t.delayError&&$?(c=v(()=>j(S,$)),c(t.delayError)):(clearTimeout(d),c=null,$?Ue(n.errors,S,$):Nt(n.errors,S)),($?!cs(q,$):q)||!Jt(Z)||W){const te={...Z,...W&&wn(A)?{isValid:A}:{},errors:n.errors,name:S};n={...n,...te},h.state.next(te)}},O=async S=>{g(S,!0);const A=await t.resolver(a,t.context,cL(S||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(S),A},k=async S=>{const{errors:A}=await O(S);if(S)for(const $ of S){const Z=K(A,$);Z?Ue(n.errors,$,Z):Nt(n.errors,$)}else n.errors=A;return A},F=async(S,A,$={valid:!0})=>{for(const Z in S){const q=S[Z];if(q){const{_f:W,...te}=q;if(W){const Oe=l.array.has(W.name),vt=q._f&&dL(q._f);vt&&f.validatingFields&&g([Z],!0);const Mt=await Gy(q,l.disabled,a,x,t.shouldUseNativeValidation&&!A,Oe);if(vt&&f.validatingFields&&g([Z]),Mt[W.name]&&($.valid=!1,A))break;!A&&(K(Mt,W.name)?Oe?gL(n.errors,Mt,W.name):Ue(n.errors,W.name,Mt[W.name]):Nt(n.errors,W.name))}!Jt(te)&&await F(te,A,$)}}return $.valid},R=()=>{for(const S of l.unMount){const A=K(r,S);A&&(A._f.refs?A._f.refs.every($=>!sh($)):!sh(A._f.ref))&&ft(S)}l.unMount=new Set},T=(S,A)=>!t.disabled&&(S&&A&&Ue(a,S,A),!cs(Ee(),s)),L=(S,A,$)=>QS(S,l,{...o.mount?a:pt(A)?s:hr(S)?{[S]:A}:A},$,A),z=S=>Wu(K(o.mount?a:s,S,t.shouldUnregister?K(s,S,[]):[])),H=(S,A,$={})=>{const Z=K(r,S);let q=A;if(Z){const W=Z._f;W&&(!W.disabled&&Ue(a,S,nC(A,W)),q=Yd(W.ref)&&tn(A)?"":A,XS(W.ref)?[...W.ref.options].forEach(te=>te.selected=q.includes(te.value)):W.refs?uc(W.ref)?W.refs.length>1?W.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(q)?!!q.find(Oe=>Oe===te.value):q===te.value)):W.refs[0]&&(W.refs[0].checked=!!q):W.refs.forEach(te=>te.checked=te.value===q):Wg(W.ref)?W.ref.value="":(W.ref.value=q,W.ref.type||h.state.next({name:S,values:Pt(a)})))}($.shouldDirty||$.shouldTouch)&&E(S,q,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&ae(S)},J=(S,A,$)=>{for(const Z in A){const q=A[Z],W=`${S}.${Z}`,te=K(r,W);(l.array.has(S)||xt(q)||te&&!te._f)&&!ui(q)?J(W,q,$):H(W,q,$)}},M=(S,A,$={})=>{const Z=K(r,S),q=l.array.has(S),W=Pt(A);Ue(a,S,W),q?(h.array.next({name:S,values:Pt(a)}),(f.isDirty||f.dirtyFields||u.isDirty||u.dirtyFields)&&$.shouldDirty&&h.state.next({name:S,dirtyFields:Ro(s,a),isDirty:T(S,W)})):Z&&!Z._f&&!tn(W)?J(S,W,$):H(S,W,$),Wy(S,l)&&h.state.next({...n}),h.state.next({name:o.mount?S:void 0,values:Pt(a)})},B=async S=>{o.mount=!0;const A=S.target;let $=A.name,Z=!0;const q=K(r,$),W=te=>{Z=Number.isNaN(te)||ui(te)&&isNaN(te.getTime())||cs(te,K(a,$,te))};if(q){let te,Oe;const vt=A.type?By(q._f):WS(S),Mt=S.type===Gd.BLUR||S.type===Gd.FOCUS_OUT,Ak=!uL(q._f)&&!t.resolver&&!K(n.errors,$)&&!q._f.deps||mL(Mt,K(n.touchedFields,$),n.isSubmitted,b,w),Ju=Wy($,l,Mt);Ue(a,$,vt),Mt?(q._f.onBlur&&q._f.onBlur(S),c&&c(0)):q._f.onChange&&q._f.onChange(S);const ef=E($,vt,Mt),Rk=!Jt(ef)||Ju;if(!Mt&&h.state.next({name:$,type:S.type,values:Pt(a)}),Ak)return(f.isValid||u.isValid)&&(t.mode==="onBlur"?Mt&&p():Mt||p()),Rk&&h.state.next({name:$,...Ju?{}:ef});if(!Mt&&Ju&&h.state.next({...n}),t.resolver){const{errors:nx}=await O([$]);if(W(vt),Z){const Ok=qy(n.errors,r,$),rx=qy(nx,r,Ok.name||$);te=rx.error,$=rx.name,Oe=Jt(nx)}}else g([$],!0),te=(await Gy(q,l.disabled,a,x,t.shouldUseNativeValidation))[$],g([$]),W(vt),Z&&(te?Oe=!1:(f.isValid||u.isValid)&&(Oe=await F(r,!0)));Z&&(q._f.deps&&ae(q._f.deps),_($,Oe,te,ef))}},X=(S,A)=>{if(K(n.errors,A)&&S.focus)return S.focus(),1},ae=async(S,A={})=>{let $,Z;const q=rl(S);if(t.resolver){const W=await k(pt(S)?S:q);$=Jt(W),Z=S?!q.some(te=>K(W,te)):$}else S?(Z=(await Promise.all(q.map(async W=>{const te=K(r,W);return await F(te&&te._f?{[W]:te}:te)}))).every(Boolean),!(!Z&&!n.isValid)&&p()):Z=$=await F(r);return h.state.next({...!hr(S)||(f.isValid||u.isValid)&&$!==n.isValid?{}:{name:S},...t.resolver||!S?{isValid:$}:{},errors:n.errors}),A.shouldFocus&&!Z&&sl(r,X,S?q:l.mount),Z},Ee=S=>{const A={...o.mount?a:s};return pt(S)?A:hr(S)?K(A,S):S.map($=>K(A,$))},nt=(S,A)=>({invalid:!!K((A||n).errors,S),isDirty:!!K((A||n).dirtyFields,S),error:K((A||n).errors,S),isValidating:!!K(n.validatingFields,S),isTouched:!!K((A||n).touchedFields,S)}),at=S=>{S&&rl(S).forEach(A=>Nt(n.errors,A)),h.state.next({errors:S?n.errors:{}})},Qt=(S,A,$)=>{const Z=(K(r,S,{_f:{}})._f||{}).ref,q=K(n.errors,S)||{},{ref:W,message:te,type:Oe,...vt}=q;Ue(n.errors,S,{...vt,...A,ref:Z}),h.state.next({name:S,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&Z&&Z.focus&&Z.focus()},bt=(S,A)=>Gn(S)?h.state.subscribe({next:$=>S(L(void 0,A),$)}):L(S,A,!0),ie=S=>h.state.subscribe({next:A=>{hL(S.name,A.name,S.exact)&&fL(A,S.formState||f,Js,S.reRenderRoot)&&S.callback({values:{...a},...n,...A})}}).unsubscribe,He=S=>(o.mount=!0,u={...u,...S.formState},ie({...S,formState:u})),ft=(S,A={})=>{for(const $ of S?rl(S):l.mount)l.mount.delete($),l.array.delete($),A.keepValue||(Nt(r,$),Nt(a,$)),!A.keepError&&Nt(n.errors,$),!A.keepDirty&&Nt(n.dirtyFields,$),!A.keepTouched&&Nt(n.touchedFields,$),!A.keepIsValidating&&Nt(n.validatingFields,$),!t.shouldUnregister&&!A.keepDefaultValue&&Nt(s,$);h.state.next({values:Pt(a)}),h.state.next({...n,...A.keepDirty?{isDirty:T()}:{}}),!A.keepIsValid&&p()},_e=({disabled:S,name:A})=>{(wn(S)&&o.mount||S||l.disabled.has(A))&&(S?l.disabled.add(A):l.disabled.delete(A))},Te=(S,A={})=>{let $=K(r,S);const Z=wn(A.disabled)||wn(t.disabled);return Ue(r,S,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:S}},name:S,mount:!0,...A}}),l.mount.add(S),$?_e({disabled:wn(A.disabled)?A.disabled:t.disabled,name:S}):P(S,!0,A.value),{...Z?{disabled:A.disabled||t.disabled}:{},...t.progressive?{required:!!A.required,min:Oo(A.min),max:Oo(A.max),minLength:Oo(A.minLength),maxLength:Oo(A.maxLength),pattern:Oo(A.pattern)}:{},name:S,onChange:B,onBlur:B,ref:q=>{if(q){Te(S,A),$=K(r,S);const W=pt(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,te=aL(W),Oe=$._f.refs||[];if(te?Oe.find(vt=>vt===W):W===$._f.ref)return;Ue(r,S,{_f:{...$._f,...te?{refs:[...Oe.filter(sh),W,...Array.isArray(K(s,S))?[{}]:[]],ref:{type:W.type,name:S}}:{ref:W}}}),P(S,!1,void 0,W)}else $=K(r,S,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(qS(l.array,S)&&o.action)&&l.unMount.add(S)}}},I=()=>t.shouldFocusError&&sl(r,X,l.mount),ce=S=>{wn(S)&&(h.state.next({disabled:S}),sl(r,(A,$)=>{const Z=K(r,$);Z&&(A.disabled=Z._f.disabled||S,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(q=>{q.disabled=Z._f.disabled||S}))},0,!1))},$e=(S,A)=>async $=>{let Z;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let q=Pt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:W,values:te}=await O();n.errors=W,q=te}else await F(r);if(l.disabled.size)for(const W of l.disabled)Ue(q,W,void 0);if(Nt(n.errors,"root"),Jt(n.errors)){h.state.next({errors:{}});try{await S(q,$)}catch(W){Z=W}}else A&&await A({...n.errors},$),I(),setTimeout(I);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jt(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},ge=(S,A={})=>{K(r,S)&&(pt(A.defaultValue)?M(S,Pt(K(s,S))):(M(S,A.defaultValue),Ue(s,S,Pt(A.defaultValue))),A.keepTouched||Nt(n.touchedFields,S),A.keepDirty||(Nt(n.dirtyFields,S),n.isDirty=A.defaultValue?T(S,Pt(K(s,S))):T()),A.keepError||(Nt(n.errors,S),f.isValid&&p()),h.state.next({...n}))},Ot=(S,A={})=>{const $=S?Pt(S):s,Z=Pt($),q=Jt(S),W=q?s:Z;if(A.keepDefaultValues||(s=$),!A.keepValues){if(A.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(Ro(s,a))]);for(const Oe of Array.from(te))K(n.dirtyFields,Oe)?Ue(W,Oe,K(a,Oe)):M(Oe,K(W,Oe))}else{if(Vg&&pt(S))for(const te of l.mount){const Oe=K(r,te);if(Oe&&Oe._f){const vt=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(Yd(vt)){const Mt=vt.closest("form");if(Mt){Mt.reset();break}}}}for(const te of l.mount)M(te,K(W,te))}a=Pt(W),h.array.next({values:{...W}}),h.state.next({values:{...W}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:q?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!cs(S,s)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:q?{}:A.keepDirtyValues?A.keepDefaultValues&&a?Ro(s,a):n.dirtyFields:A.keepDefaultValues&&S?Ro(s,S):A.keepDirty?n.dirtyFields:{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},rt=(S,A)=>Ot(Gn(S)?S(a):S,A),vo=(S,A={})=>{const $=K(r,S),Z=$&&$._f;if(Z){const q=Z.refs?Z.refs[0]:Z.ref;q.focus&&(q.focus(),A.shouldSelect&&Gn(q.select)&&q.select())}},Js=S=>{n={...n,...S}},tx={control:{register:Te,unregister:ft,getFieldState:nt,handleSubmit:$e,setError:Qt,_subscribe:ie,_runSchema:O,_getWatch:L,_getDirty:T,_setValid:p,_setFieldArray:y,_setDisabledField:_e,_setErrors:N,_getFieldArray:z,_reset:Ot,_resetDefaultValues:()=>Gn(t.defaultValues)&&t.defaultValues().then(S=>{rt(S,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:ce,_subjects:h,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(S){o=S},get _defaultValues(){return s},get _names(){return l},set _names(S){l=S},get _formState(){return n},get _options(){return t},set _options(S){t={...t,...S}}},subscribe:He,trigger:ae,register:Te,handleSubmit:$e,watch:bt,setValue:M,getValues:Ee,reset:rt,resetField:ge,clearErrors:at,unregister:ft,setError:Qt,setFocus:vo,getFieldState:nt};return{...tx,formControl:tx}}function Ku(e={}){const t=xe.useRef(void 0),n=xe.useRef(void 0),[r,s]=xe.useState({isDirty:!1,isValidating:!1,isLoading:Gn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Gn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:vL(e),formState:r},e.formControl&&e.defaultValues&&!Gn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,xe.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),xe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),xe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),xe.useEffect(()=>{e.values&&!cs(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),xe.useEffect(()=>{e.errors&&!Jt(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),xe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),xe.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=YS(r,a),t.current}const Yy=(e,t,n)=>{if(e&&"reportValidity"in e){const r=K(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},sC=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Yy(r.ref,n,e):r.refs&&r.refs.forEach(s=>Yy(s,n,e))}},yL=(e,t)=>{t.shouldUseNativeValidation&&sC(e,t);const n={};for(const r in e){const s=K(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(wL(t.names||Object.keys(e),r)){const o=Object.assign({},K(n,r));Ue(o,"root",a),Ue(n,r,o)}else Ue(n,r,a)}return n},wL=(e,t)=>e.some(n=>n.startsWith(t+"."));var bL=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(u){return e.push(u)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=ZS(o,t,n,s,d?[].concat(d,r.message):r.message)}e.shift()}return n},Gu=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&sC({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:yL(bL(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Ae;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ae||(Ae={}));var Hm;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Hm||(Hm={}));const Q=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ir=e=>{switch(typeof e){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(e)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(e)?Q.array:e===null?Q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Q.promise:typeof Map<"u"&&e instanceof Map?Q.map:typeof Set<"u"&&e instanceof Set?Q.set:typeof Date<"u"&&e instanceof Date?Q.date:Q.object;default:return Q.unknown}},U=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jL=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Cn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(t){if(!(t instanceof Cn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Cn.create=e=>new Cn(e);const to=(e,t)=>{let n;switch(e.code){case U.invalid_type:e.received===Q.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ae.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ae.joinValues(e.keys,", ")}`;break;case U.invalid_union:n="Invalid input";break;case U.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ae.joinValues(e.options)}`;break;case U.invalid_enum_value:n=`Invalid enum value. Expected ${Ae.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:n="Invalid function arguments";break;case U.invalid_return_type:n="Invalid function return type";break;case U.invalid_date:n="Invalid date";break;case U.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ae.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case U.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case U.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case U.custom:n="Invalid input";break;case U.invalid_intersection_types:n="Intersection results could not be merged";break;case U.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ae.assertNever(e)}return{message:n}};let iC=to;function NL(e){iC=e}function Xd(){return iC}const Jd=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},SL=[];function G(e,t){const n=Xd(),r=Jd({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===to?void 0:to].filter(s=>!!s)});e.common.issues.push(r)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return he;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return Kt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return he;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const he=Object.freeze({status:"aborted"}),ha=e=>({status:"dirty",value:e}),on=e=>({status:"valid",value:e}),Wm=e=>e.status==="aborted",qm=e=>e.status==="dirty",zi=e=>e.status==="valid",Al=e=>typeof Promise<"u"&&e instanceof Promise;function eu(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function aC(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(re||(re={}));var Uo,Bo;class br{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qy=(e,t)=>{if(zi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cn(e.common.issues);return this._error=n,this._error}}};function ve(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class be{get description(){return this._def.description}_getType(t){return Ir(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ir(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Kt,ctx:{common:t.parent.common,data:t.data,parsedType:Ir(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Al(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ir(t)},a=this._parseSync({data:t,path:s.path,parent:s});return Qy(s,a)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ir(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return zi(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>zi(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ir(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Al(s)?s:Promise.resolve(s));return Qy(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:U.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new nr({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return vr.create(this,this._def)}nullable(){return qs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xn.create(this)}promise(){return ro.create(this,this._def)}or(t){return Dl.create([this,t],this._def)}and(t){return Fl.create(this,t,this._def)}transform(t){return new nr({...ve(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Bl({...ve(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new Kg({typeName:fe.ZodBranded,type:this,...ve(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vl({...ve(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return fc.create(this,t)}readonly(){return Hl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CL=/^c[^\s-]{8,}$/i,kL=/^[0-9a-z]+$/,EL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_L=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PL=/^[a-z0-9_-]{21}$/i,TL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ih;const OL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ML=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$L=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zL=new RegExp(`^${oC}$`);function lC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function UL(e){return new RegExp(`^${lC(e)}$`)}function cC(e){let t=`${oC}T${lC(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function BL(e,t){return!!((t==="v4"||!t)&&OL.test(e)||(t==="v6"||!t)&&DL.test(e))}function VL(e,t){if(!TL.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function HL(e,t){return!!((t==="v4"||!t)&&ML.test(e)||(t==="v6"||!t)&&FL.test(e))}class Yn extends be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Q.string){const a=this._getOrReturnCtx(t);return G(a,{code:U.invalid_type,expected:Q.string,received:a.parsedType}),he}const r=new Kt;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:U.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:U.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?G(s,{code:U.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&G(s,{code:U.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")AL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"email",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")ih||(ih=new RegExp(RL,"u")),ih.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"emoji",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")_L.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"uuid",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")PL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"nanoid",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")CL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cuid",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")kL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cuid2",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")EL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"ulid",code:U.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),G(s,{validation:"url",code:U.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"regex",code:U.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),G(s,{code:U.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),G(s,{code:U.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),G(s,{code:U.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?cC(a).test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:U.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?zL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:U.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?UL(a).test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{code:U.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?IL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"duration",code:U.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?BL(t.data,a.version)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"ip",code:U.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?VL(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"jwt",code:U.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?HL(t.data,a.version)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"cidr",code:U.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?LL.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"base64",code:U.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?$L.test(t.data)||(s=this._getOrReturnCtx(t,s),G(s,{validation:"base64url",code:U.invalid_string,message:a.message}),r.dirty()):Ae.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:U.invalid_string,...re.errToObj(r)})}_addCheck(t){return new Yn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...re.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...re.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...re.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...re.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...re.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...re.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...re.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...re.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...re.errToObj(n)})}nonempty(t){return this.min(1,re.errToObj(t))}trim(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Yn.create=e=>{var t;return new Yn({checks:[],typeName:fe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ve(e)})};function WL(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class Vs extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Q.number){const a=this._getOrReturnCtx(t);return G(a,{code:U.invalid_type,expected:Q.number,received:a.parsedType}),he}let r;const s=new Kt;for(const a of this._def.checks)a.kind==="int"?Ae.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:U.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:U.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:U.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?WL(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),G(r,{code:U.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),G(r,{code:U.not_finite,message:a.message}),s.dirty()):Ae.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,re.toString(n))}setLimit(t,n,r,s){return new Vs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(t){return new Vs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ae.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Vs.create=e=>new Vs({checks:[],typeName:fe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ve(e)});class Hs extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Q.bigint)return this._getInvalidInput(t);let r;const s=new Kt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:U.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),G(r,{code:U.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),G(r,{code:U.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ae.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:Q.bigint,received:n.parsedType}),he}gte(t,n){return this.setLimit("min",t,!0,re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,re.toString(n))}setLimit(t,n,r,s){return new Hs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:re.toString(s)}]})}_addCheck(t){return new Hs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Hs.create=e=>{var t;return new Hs({checks:[],typeName:fe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ve(e)})};class Rl extends be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Q.boolean){const r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_type,expected:Q.boolean,received:r.parsedType}),he}return on(t.data)}}Rl.create=e=>new Rl({typeName:fe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ve(e)});class Ui extends be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Q.date){const a=this._getOrReturnCtx(t);return G(a,{code:U.invalid_type,expected:Q.date,received:a.parsedType}),he}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return G(a,{code:U.invalid_date}),he}const r=new Kt;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:U.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),G(s,{code:U.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ae.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ui({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:re.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:re.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ui.create=e=>new Ui({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:fe.ZodDate,...ve(e)});class tu extends be{_parse(t){if(this._getType(t)!==Q.symbol){const r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_type,expected:Q.symbol,received:r.parsedType}),he}return on(t.data)}}tu.create=e=>new tu({typeName:fe.ZodSymbol,...ve(e)});class Ol extends be{_parse(t){if(this._getType(t)!==Q.undefined){const r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_type,expected:Q.undefined,received:r.parsedType}),he}return on(t.data)}}Ol.create=e=>new Ol({typeName:fe.ZodUndefined,...ve(e)});class Ml extends be{_parse(t){if(this._getType(t)!==Q.null){const r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_type,expected:Q.null,received:r.parsedType}),he}return on(t.data)}}Ml.create=e=>new Ml({typeName:fe.ZodNull,...ve(e)});class no extends be{constructor(){super(...arguments),this._any=!0}_parse(t){return on(t.data)}}no.create=e=>new no({typeName:fe.ZodAny,...ve(e)});class ji extends be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return on(t.data)}}ji.create=e=>new ji({typeName:fe.ZodUnknown,...ve(e)});class Gr extends be{_parse(t){const n=this._getOrReturnCtx(t);return G(n,{code:U.invalid_type,expected:Q.never,received:n.parsedType}),he}}Gr.create=e=>new Gr({typeName:fe.ZodNever,...ve(e)});class nu extends be{_parse(t){if(this._getType(t)!==Q.undefined){const r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_type,expected:Q.void,received:r.parsedType}),he}return on(t.data)}}nu.create=e=>new nu({typeName:fe.ZodVoid,...ve(e)});class Xn extends be{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Q.array)return G(n,{code:U.invalid_type,expected:Q.array,received:n.parsedType}),he;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(G(n,{code:o?U.too_big:U.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(G(n,{code:U.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(G(n,{code:U.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new br(n,o,n.path,l)))).then(o=>Kt.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new br(n,o,n.path,l)));return Kt.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Xn({...this._def,minLength:{value:t,message:re.toString(n)}})}max(t,n){return new Xn({...this._def,maxLength:{value:t,message:re.toString(n)}})}length(t,n){return new Xn({...this._def,exactLength:{value:t,message:re.toString(n)}})}nonempty(t){return this.min(1,t)}}Xn.create=(e,t)=>new Xn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...ve(t)});function ea(e){if(e instanceof ot){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=vr.create(ea(r))}return new ot({...e._def,shape:()=>t})}else return e instanceof Xn?new Xn({...e._def,type:ea(e.element)}):e instanceof vr?vr.create(ea(e.unwrap())):e instanceof qs?qs.create(ea(e.unwrap())):e instanceof jr?jr.create(e.items.map(t=>ea(t))):e}class ot extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ae.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Q.object){const d=this._getOrReturnCtx(t);return G(d,{code:U.invalid_type,expected:Q.object,received:d.parsedType}),he}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gr&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],u=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new br(s,u,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Gr){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(G(s,{code:U.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const u=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new br(s,u,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const u=await f.key,h=await f.value;d.push({key:u,value:h,alwaysSet:f.alwaysSet})}return d}).then(d=>Kt.mergeObjectSync(r,d)):Kt.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return re.errToObj,new ot({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=re.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(t){return new ot({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ot({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:fe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ot({...this._def,catchall:t})}pick(t){const n={};return Ae.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ot({...this._def,shape:()=>n})}omit(t){const n={};return Ae.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ot({...this._def,shape:()=>n})}deepPartial(){return ea(this)}partial(t){const n={};return Ae.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new ot({...this._def,shape:()=>n})}required(t){const n={};return Ae.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof vr;)a=a._def.innerType;n[r]=a}}),new ot({...this._def,shape:()=>n})}keyof(){return dC(Ae.objectKeys(this.shape))}}ot.create=(e,t)=>new ot({shape:()=>e,unknownKeys:"strip",catchall:Gr.create(),typeName:fe.ZodObject,...ve(t)});ot.strictCreate=(e,t)=>new ot({shape:()=>e,unknownKeys:"strict",catchall:Gr.create(),typeName:fe.ZodObject,...ve(t)});ot.lazycreate=(e,t)=>new ot({shape:e,unknownKeys:"strip",catchall:Gr.create(),typeName:fe.ZodObject,...ve(t)});class Dl extends be{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Cn(l.ctx.common.issues));return G(n,{code:U.invalid_union,unionErrors:o}),he}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Cn(c));return G(n,{code:U.invalid_union,unionErrors:l}),he}}get options(){return this._def.options}}Dl.create=(e,t)=>new Dl({options:e,typeName:fe.ZodUnion,...ve(t)});const Er=e=>e instanceof $l?Er(e.schema):e instanceof nr?Er(e.innerType()):e instanceof zl?[e.value]:e instanceof Ws?e.options:e instanceof Ul?Ae.objectValues(e.enum):e instanceof Bl?Er(e._def.innerType):e instanceof Ol?[void 0]:e instanceof Ml?[null]:e instanceof vr?[void 0,...Er(e.unwrap())]:e instanceof qs?[null,...Er(e.unwrap())]:e instanceof Kg||e instanceof Hl?Er(e.unwrap()):e instanceof Vl?Er(e._def.innerType):[];class Yu extends be{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.object)return G(n,{code:U.invalid_type,expected:Q.object,received:n.parsedType}),he;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(G(n,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const o=Er(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new Yu({typeName:fe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...ve(r)})}}function Km(e,t){const n=Ir(e),r=Ir(t);if(e===t)return{valid:!0,data:e};if(n===Q.object&&r===Q.object){const s=Ae.objectKeys(t),a=Ae.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Km(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Q.array&&r===Q.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Km(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Q.date&&r===Q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fl extends be{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(Wm(a)||Wm(o))return he;const l=Km(a.value,o.value);return l.valid?((qm(a)||qm(o))&&n.dirty(),{status:n.value,value:l.data}):(G(r,{code:U.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Fl.create=(e,t,n)=>new Fl({left:e,right:t,typeName:fe.ZodIntersection,...ve(n)});class jr extends be{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.array)return G(r,{code:U.invalid_type,expected:Q.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return G(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new br(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Kt.mergeArray(n,o)):Kt.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new jr({...this._def,rest:t})}}jr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:e,typeName:fe.ZodTuple,rest:null,...ve(t)})};class Ll extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.object)return G(r,{code:U.invalid_type,expected:Q.object,received:r.parsedType}),he;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new br(r,l,r.path,l)),value:o._parse(new br(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Kt.mergeObjectAsync(n,s):Kt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof be?new Ll({keyType:t,valueType:n,typeName:fe.ZodRecord,...ve(r)}):new Ll({keyType:Yn.create(),valueType:t,typeName:fe.ZodRecord,...ve(n)})}}class ru extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.map)return G(r,{code:U.invalid_type,expected:Q.map,received:r.parsedType}),he;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new br(r,l,r.path,[d,"key"])),value:a._parse(new br(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return he;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return he;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}ru.create=(e,t,n)=>new ru({valueType:t,keyType:e,typeName:fe.ZodMap,...ve(n)});class Bi extends be{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.set)return G(r,{code:U.invalid_type,expected:Q.set,received:r.parsedType}),he;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(G(r,{code:U.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(G(r,{code:U.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return he;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new br(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Bi({...this._def,minSize:{value:t,message:re.toString(n)}})}max(t,n){return new Bi({...this._def,maxSize:{value:t,message:re.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Bi.create=(e,t)=>new Bi({valueType:e,minSize:null,maxSize:null,typeName:fe.ZodSet,...ve(t)});class ka extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.function)return G(n,{code:U.invalid_type,expected:Q.function,received:n.parsedType}),he;function r(l,c){return Jd({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xd(),to].filter(d=>!!d),issueData:{code:U.invalid_arguments,argumentsError:c}})}function s(l,c){return Jd({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xd(),to].filter(d=>!!d),issueData:{code:U.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ro){const l=this;return on(async function(...c){const d=new Cn([]),f=await l._def.args.parseAsync(c,a).catch(w=>{throw d.addIssue(r(c,w)),d}),u=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(u,a).catch(w=>{throw d.addIssue(s(u,w)),d})})}else{const l=this;return on(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Cn([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),u=l._def.returns.safeParse(f,a);if(!u.success)throw new Cn([s(f,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ka({...this._def,args:jr.create(t).rest(ji.create())})}returns(t){return new ka({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ka({args:t||jr.create([]).rest(ji.create()),returns:n||ji.create(),typeName:fe.ZodFunction,...ve(r)})}}class $l extends be{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$l.create=(e,t)=>new $l({getter:e,typeName:fe.ZodLazy,...ve(t)});class zl extends be{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return G(n,{received:n.data,code:U.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:t.data}}get value(){return this._def.value}}zl.create=(e,t)=>new zl({value:e,typeName:fe.ZodLiteral,...ve(t)});function dC(e,t){return new Ws({values:e,typeName:fe.ZodEnum,...ve(t)})}class Ws extends be{constructor(){super(...arguments),Uo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return G(n,{expected:Ae.joinValues(r),received:n.parsedType,code:U.invalid_type}),he}if(eu(this,Uo)||aC(this,Uo,new Set(this._def.values)),!eu(this,Uo).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return G(n,{received:n.data,code:U.invalid_enum_value,options:r}),he}return on(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ws.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ws.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Uo=new WeakMap;Ws.create=dC;class Ul extends be{constructor(){super(...arguments),Bo.set(this,void 0)}_parse(t){const n=Ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const s=Ae.objectValues(n);return G(r,{expected:Ae.joinValues(s),received:r.parsedType,code:U.invalid_type}),he}if(eu(this,Bo)||aC(this,Bo,new Set(Ae.getValidEnumValues(this._def.values))),!eu(this,Bo).has(t.data)){const s=Ae.objectValues(n);return G(r,{received:r.data,code:U.invalid_enum_value,options:s}),he}return on(t.data)}get enum(){return this._def.values}}Bo=new WeakMap;Ul.create=(e,t)=>new Ul({values:e,typeName:fe.ZodNativeEnum,...ve(t)});class ro extends be{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.promise&&n.common.async===!1)return G(n,{code:U.invalid_type,expected:Q.promise,received:n.parsedType}),he;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return on(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ro.create=(e,t)=>new ro({type:e,typeName:fe.ZodPromise,...ve(t)});class nr extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{G(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return he;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?he:c.status==="dirty"||n.value==="dirty"?ha(c.value):c});{if(n.value==="aborted")return he;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?he:l.status==="dirty"||n.value==="dirty"?ha(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?he:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?he:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zi(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zi(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);Ae.assertNever(s)}}nr.create=(e,t,n)=>new nr({schema:e,typeName:fe.ZodEffects,effect:t,...ve(n)});nr.createWithPreprocess=(e,t,n)=>new nr({schema:t,effect:{type:"preprocess",transform:e},typeName:fe.ZodEffects,...ve(n)});class vr extends be{_parse(t){return this._getType(t)===Q.undefined?on(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vr.create=(e,t)=>new vr({innerType:e,typeName:fe.ZodOptional,...ve(t)});class qs extends be{_parse(t){return this._getType(t)===Q.null?on(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qs.create=(e,t)=>new qs({innerType:e,typeName:fe.ZodNullable,...ve(t)});class Bl extends be{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Bl.create=(e,t)=>new Bl({innerType:e,typeName:fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ve(t)});class Vl extends be{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Al(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vl.create=(e,t)=>new Vl({innerType:e,typeName:fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ve(t)});class su extends be{_parse(t){if(this._getType(t)!==Q.nan){const r=this._getOrReturnCtx(t);return G(r,{code:U.invalid_type,expected:Q.nan,received:r.parsedType}),he}return{status:"valid",value:t.data}}}su.create=e=>new su({typeName:fe.ZodNaN,...ve(e)});const qL=Symbol("zod_brand");class Kg extends be{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class fc extends be{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?he:a.status==="dirty"?(n.dirty(),ha(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new fc({in:t,out:n,typeName:fe.ZodPipeline})}}class Hl extends be{_parse(t){const n=this._def.innerType._parse(t),r=s=>(zi(s)&&(s.value=Object.freeze(s.value)),s);return Al(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Hl.create=(e,t)=>new Hl({innerType:e,typeName:fe.ZodReadonly,...ve(t)});function Zy(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function uC(e,t={},n){return e?no.create().superRefine((r,s)=>{var a,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var d,f;if(!c){const u=Zy(t,r),h=(f=(d=u.fatal)!==null&&d!==void 0?d:n)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...u,fatal:h})}});if(!l){const c=Zy(t,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):no.create()}const KL={object:ot.lazycreate};var fe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(fe||(fe={}));const GL=(e,t={message:`Input not instance of ${e.name}`})=>uC(n=>n instanceof e,t),fC=Yn.create,hC=Vs.create,YL=su.create,QL=Hs.create,mC=Rl.create,ZL=Ui.create,XL=tu.create,JL=Ol.create,e3=Ml.create,t3=no.create,n3=ji.create,r3=Gr.create,s3=nu.create,i3=Xn.create,a3=ot.create,o3=ot.strictCreate,l3=Dl.create,c3=Yu.create,d3=Fl.create,u3=jr.create,f3=Ll.create,h3=ru.create,m3=Bi.create,p3=ka.create,g3=$l.create,x3=zl.create,v3=Ws.create,y3=Ul.create,w3=ro.create,Xy=nr.create,b3=vr.create,j3=qs.create,N3=nr.createWithPreprocess,S3=fc.create,C3=()=>fC().optional(),k3=()=>hC().optional(),E3=()=>mC().optional(),_3={string:e=>Yn.create({...e,coerce:!0}),number:e=>Vs.create({...e,coerce:!0}),boolean:e=>Rl.create({...e,coerce:!0}),bigint:e=>Hs.create({...e,coerce:!0}),date:e=>Ui.create({...e,coerce:!0})},P3=he;var ke=Object.freeze({__proto__:null,defaultErrorMap:to,setErrorMap:NL,getErrorMap:Xd,makeIssue:Jd,EMPTY_PATH:SL,addIssueToContext:G,ParseStatus:Kt,INVALID:he,DIRTY:ha,OK:on,isAborted:Wm,isDirty:qm,isValid:zi,isAsync:Al,get util(){return Ae},get objectUtil(){return Hm},ZodParsedType:Q,getParsedType:Ir,ZodType:be,datetimeRegex:cC,ZodString:Yn,ZodNumber:Vs,ZodBigInt:Hs,ZodBoolean:Rl,ZodDate:Ui,ZodSymbol:tu,ZodUndefined:Ol,ZodNull:Ml,ZodAny:no,ZodUnknown:ji,ZodNever:Gr,ZodVoid:nu,ZodArray:Xn,ZodObject:ot,ZodUnion:Dl,ZodDiscriminatedUnion:Yu,ZodIntersection:Fl,ZodTuple:jr,ZodRecord:Ll,ZodMap:ru,ZodSet:Bi,ZodFunction:ka,ZodLazy:$l,ZodLiteral:zl,ZodEnum:Ws,ZodNativeEnum:Ul,ZodPromise:ro,ZodEffects:nr,ZodTransformer:nr,ZodOptional:vr,ZodNullable:qs,ZodDefault:Bl,ZodCatch:Vl,ZodNaN:su,BRAND:qL,ZodBranded:Kg,ZodPipeline:fc,ZodReadonly:Hl,custom:uC,Schema:be,ZodSchema:be,late:KL,get ZodFirstPartyTypeKind(){return fe},coerce:_3,any:t3,array:i3,bigint:QL,boolean:mC,date:ZL,discriminatedUnion:c3,effect:Xy,enum:v3,function:p3,instanceof:GL,intersection:d3,lazy:g3,literal:x3,map:h3,nan:YL,nativeEnum:y3,never:r3,null:e3,nullable:j3,number:hC,object:a3,oboolean:E3,onumber:k3,optional:b3,ostring:C3,pipeline:S3,preprocess:N3,promise:w3,record:f3,set:m3,strictObject:o3,string:fC,symbol:XL,transformer:Xy,tuple:u3,undefined:JL,union:l3,unknown:n3,void:s3,NEVER:P3,ZodIssueCode:U,quotelessJson:jL,ZodError:Cn}),Gg="Switch",[T3,C5]=Fn(Gg),[I3,A3]=T3(Gg),pC=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...u}=e,[h,w]=m.useState(null),b=Ve(t,y=>w(y)),x=m.useRef(!1),v=h?f||!!h.closest("form"):!0,[p=!1,g]=Ms({prop:s,defaultProp:a,onChange:d});return i.jsxs(I3,{scope:n,checked:p,disabled:l,children:[i.jsx(pe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":vC(p),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:b,onClick:oe(e.onClick,y=>{g(j=>!j),v&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),v&&i.jsx(R3,{control:h,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});pC.displayName=Gg;var gC="SwitchThumb",xC=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=A3(gC,n);return i.jsx(pe.span,{"data-state":vC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});xC.displayName=gC;var R3=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=m.useRef(null),o=Rg(n),l=mg(t);return m.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&u){const h=new Event("click",{bubbles:r});u.call(c,n),c.dispatchEvent(h)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vC(e){return e?"checked":"unchecked"}var yC=pC,O3=xC;const It=m.forwardRef(({className:e,...t},n)=>i.jsx(yC,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(O3,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));It.displayName=yC.displayName;const Qu=tL,wC=m.createContext({}),ze=({...e})=>i.jsx(wC.Provider,{value:{name:e.name},children:i.jsx(iL,{...e})}),Zu=()=>{const e=m.useContext(wC),t=m.useContext(bC),{getFieldState:n,formState:r}=qu(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},bC=m.createContext({}),Me=m.forwardRef(({className:e,...t},n)=>{const r=m.useId();return i.jsx(bC.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:ne("space-y-2",e),...t})})});Me.displayName="FormItem";const De=m.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Zu();return i.jsx(st,{ref:n,className:ne(r&&"text-destructive",e),htmlFor:s,...t})});De.displayName="FormLabel";const Fe=m.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=Zu();return i.jsx(yj,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});Fe.displayName="FormControl";const M3=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Zu();return i.jsx("p",{ref:n,id:r,className:ne("text-sm text-muted-foreground",e),...t})});M3.displayName="FormDescription";const Ge=m.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=Zu(),o=s?String((s==null?void 0:s.message)??""):t;return o?i.jsx("p",{ref:r,id:a,className:ne("text-sm font-medium text-destructive",e),...n,children:o}):null});Ge.displayName="FormMessage";const D3=ke.object({firstName:ke.string().min(1,"First name is required"),lastName:ke.string().min(1,"Last name is required"),email:ke.string().email("Invalid email address").optional().or(ke.literal("")),phone:ke.string().optional(),street:ke.string().optional(),city:ke.string().optional(),state:ke.string().optional(),zipCode:ke.string().optional(),birthday:ke.string().optional(),showBirthday:ke.boolean().default(!0),showAddress:ke.boolean().default(!0),showPhone:ke.boolean().default(!0),notes:ke.string().optional(),addToHousehold:ke.boolean().default(!1)});function F3({contact:e,onSave:t,onCancel:n}){const{toast:r}=wt(),s=Gt(),a=Ku({resolver:Gu(D3),defaultValues:{firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",street:(e==null?void 0:e.street)||"",city:(e==null?void 0:e.city)||"",state:(e==null?void 0:e.state)||"",zipCode:(e==null?void 0:e.zipCode)||"",birthday:e!=null&&e.birthday?e.birthday.split("T")[0]:"",showBirthday:(e==null?void 0:e.showBirthday)??!0,showAddress:(e==null?void 0:e.showAddress)??!0,showPhone:(e==null?void 0:e.showPhone)??!0,notes:(e==null?void 0:e.notes)||"",addToHousehold:!1}}),o=Ie({mutationFn:async c=>{const{addToHousehold:d,...f}=c;e?await me("PATCH",`/api/contacts/${e.id}`,f):await me("POST","/api/contacts",{...f,addToHousehold:d})},onSuccess:()=>{r({title:"Success",description:e?"Contact updated successfully":"Contact added successfully"}),s.invalidateQueries({queryKey:["/api/contacts"]}),s.invalidateQueries({queryKey:["/api/households/current"]}),t()},onError:()=>{r({title:"Error",description:"Failed to save contact",variant:"destructive"})}}),l=c=>{o.mutate(c)};return i.jsx(Qu,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(ze,{control:a.control,name:"firstName",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"First Name"}),i.jsx(Fe,{children:i.jsx(je,{...c,"data-testid":"input-first-name"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"lastName",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Last Name"}),i.jsx(Fe,{children:i.jsx(je,{...c,"data-testid":"input-last-name"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"email",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Email Address"}),i.jsx(Fe,{children:i.jsx(je,{type:"email",...c,"data-testid":"input-email"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"phone",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Phone Number"}),i.jsx(Fe,{children:i.jsx(je,{type:"tel",...c,"data-testid":"input-phone"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"birthday",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Birthday"}),i.jsx(Fe,{children:i.jsx(je,{type:"date",...c,"data-testid":"input-birthday"})}),i.jsx(Ge,{})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-md font-medium text-foreground",children:"Address"}),i.jsx(ze,{control:a.control,name:"street",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Street Address"}),i.jsx(Fe,{children:i.jsx(je,{...c,placeholder:"123 Main Street","data-testid":"input-street"})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(ze,{control:a.control,name:"city",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"City"}),i.jsx(Fe,{children:i.jsx(je,{...c,placeholder:"City","data-testid":"input-city"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"state",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"State"}),i.jsx(Fe,{children:i.jsx(je,{...c,placeholder:"State","data-testid":"input-state"})}),i.jsx(Ge,{})]})})]}),i.jsx(ze,{control:a.control,name:"zipCode",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"ZIP Code"}),i.jsx(Fe,{children:i.jsx(je,{...c,placeholder:"12345","data-testid":"input-zip"})}),i.jsx(Ge,{})]})})]}),i.jsx(ze,{control:a.control,name:"notes",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Notes"}),i.jsx(Fe,{children:i.jsx(Kr,{rows:3,placeholder:"Additional notes about this contact...",...c,"data-testid":"textarea-notes"})}),i.jsx(Ge,{})]})}),!e&&i.jsx(ze,{control:a.control,name:"addToHousehold",render:({field:c})=>i.jsxs(Me,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Add to Household"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Also add this contact as a member of your household"})]}),i.jsx(Fe,{children:i.jsx(It,{checked:c.value,onCheckedChange:c.onChange,"data-testid":"switch-add-to-household"})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Privacy Settings"}),i.jsx(ze,{control:a.control,name:"showBirthday",render:({field:c})=>i.jsxs(Me,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Show Birthday"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Let family members see the birthday"})]}),i.jsx(Fe,{children:i.jsx(It,{checked:c.value,onCheckedChange:c.onChange,"data-testid":"switch-show-birthday"})})]})}),i.jsx(ze,{control:a.control,name:"showAddress",render:({field:c})=>i.jsxs(Me,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Show Address"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Share address with family groups"})]}),i.jsx(Fe,{children:i.jsx(It,{checked:c.value,onCheckedChange:c.onChange,"data-testid":"switch-show-address"})})]})}),i.jsx(ze,{control:a.control,name:"showPhone",render:({field:c})=>i.jsxs(Me,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(De,{children:"Show Phone"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display phone number to family"})]}),i.jsx(Fe,{children:i.jsx(It,{checked:c.value,onCheckedChange:c.onChange,"data-testid":"switch-show-phone"})})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel-contact",children:"Cancel"}),i.jsx(D,{type:"submit",disabled:o.isPending,"data-testid":"button-save-contact",children:e?"Update Contact":"Add Contact"})]})]})})}function L3(){const[e,t]=m.useState(""),[n,r]=m.useState("all"),[s,a]=m.useState(!1),[o,l]=m.useState(null),{toast:c}=wt(),d=Gt(),f=v=>{console.log(`Invitation sent to ${v.firstName} ${v.lastName}`)},u=Ie({mutationFn:async v=>(await me("DELETE",`/api/contacts/${v}`)).json(),onSuccess:()=>{c({title:"Success",description:"Contact deleted successfully"}),d.invalidateQueries({queryKey:["/api/contacts"]})},onError:()=>{c({title:"Error",description:"Failed to delete contact",variant:"destructive"})}}),h=v=>{window.confirm(`Are you sure you want to delete ${v.firstName} ${v.lastName}? This action cannot be undone.`)&&u.mutate(v.id)},{data:w}=Le({queryKey:["/api/groups"]}),{data:b}=Le({queryKey:["/api/contacts"]});return(b||[]).map(v=>({...v,type:"contact"})).filter(v=>{var g;return`${v.firstName} ${v.lastName}`.toLowerCase().includes(e.toLowerCase())||((g=v.email)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-contacts-title",children:"Personal Contacts"}),i.jsxs(D,{onClick:()=>a(!0),"data-testid":"button-add-contact",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(je,{placeholder:"Search contacts...",value:e,onChange:v=>t(v.target.value),className:"pl-10","data-testid":"input-search-contacts"})]}),i.jsxs(Fi,{value:n,onValueChange:r,children:[i.jsx(Us,{className:"md:w-48","data-testid":"select-group-filter",children:i.jsx(qd,{placeholder:"All Groups"})}),i.jsxs(Bs,{children:[i.jsx(nn,{value:"all",children:"All Groups"}),w==null?void 0:w.map(v=>i.jsx(nn,{value:v.id,children:v.name},v.id))]})]})]}),(b||[]).length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(gr,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2","data-testid":"text-no-contacts-title",children:"No contacts found"}),i.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-no-contacts-description",children:e?"Try adjusting your search terms":"Start by adding your first personal contact"}),i.jsxs(D,{onClick:()=>a(!0),"data-testid":"button-add-first-contact",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]})}):i.jsx("div",{className:"space-y-6",children:b&&b.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"My Contacts"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.filter(v=>{var g,y;const p=`${v.firstName} ${v.lastName}`.toLowerCase().includes(e.toLowerCase())||((g=v.email)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))||((y=v.phone)==null?void 0:y.includes(e));return e===""||p}).map(v=>i.jsx(XF,{contact:v,type:"contact",onEdit:p=>{l(p),a(!0)},onInvite:f,onDelete:h,"data-testid":`contact-card-${v.id}`},v.id))})]})}),i.jsx(an,{open:s,onOpenChange:a,children:i.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Wt,{children:i.jsx(qt,{"data-testid":"text-contact-form-title",children:o?"Edit Contact":"Add New Contact"})}),i.jsx(F3,{contact:o,onSave:()=>{a(!1),l(null)},onCancel:()=>{a(!1),l(null)}})]})})]})}function Jy({group:e,"data-testid":t}){const[n,r]=m.useState(!1),{data:s}=Le({queryKey:[`/api/groups/${e.id}/members`],enabled:n}),a=o=>{const l=["border-l-blue-500 bg-blue-50","border-l-green-500 bg-green-50","border-l-purple-500 bg-purple-50","border-l-orange-500 bg-orange-50"];return l[Math.abs(e.id.charCodeAt(0))%l.length]};return i.jsx(le,{className:`hover:shadow-lg transition-shadow border-l-4 ${a()}`,"data-testid":t,children:i.jsxs(de,{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-foreground text-xl","data-testid":"text-group-name",children:e.name}),i.jsxs(Ze,{variant:"secondary","data-testid":"badge-member-count",children:[e.memberCount," members"]})]}),i.jsx("p",{className:"text-muted-foreground text-sm","data-testid":"text-group-description",children:e.description||"No description available"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Members:"}),i.jsxs(an,{open:n,onOpenChange:r,children:[i.jsx($i,{asChild:!0,children:i.jsxs(D,{variant:"ghost",size:"sm",className:"text-xs",children:[i.jsx(sn,{className:"h-3 w-3 mr-1"}),"View All"]})}),i.jsxs(Ht,{className:"max-w-md",children:[i.jsx(Wt,{children:i.jsxs(qt,{children:["Group Members - ",e.name]})}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s&&s.length>0?s.map(o=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:o.profileImageUrl||`https://ui-avatars.com/api/?name=${o.firstName}+${o.lastName}`,alt:`${o.firstName} ${o.lastName}`,className:"w-8 h-8 rounded-full"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium",children:[o.firstName," ",o.lastName]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:o.email})]})]}),i.jsx("div",{className:"flex flex-col items-end",children:o.household&&i.jsx(ct,{href:`/household/${o.household.id}`,children:i.jsxs("button",{className:"text-xs text-primary hover:text-primary/80 underline flex items-center gap-1",children:[i.jsx(zt,{className:"h-3 w-3"}),o.household.name]})})})]},o.id)):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No members found"})})]})]})]}),i.jsxs("div",{className:"flex -space-x-2",children:[Array.from({length:Math.min(4,e.memberCount)}).map((o,l)=>i.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-muted flex items-center justify-center text-xs text-muted-foreground cursor-pointer hover:scale-110 transition-transform","data-testid":`avatar-${l}`,onClick:()=>r(!0),children:String.fromCharCode(65+l)},l)),e.memberCount>4&&i.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-muted flex items-center justify-center text-xs text-muted-foreground cursor-pointer hover:scale-110 transition-transform",onClick:()=>r(!0),children:["+",e.memberCount-4]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold text-foreground","data-testid":"text-message-count",children:e.messageCount}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold text-foreground","data-testid":"text-event-count",children:"0"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Events"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-semibold text-foreground","data-testid":"text-group-status",children:"Active"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ct,{href:`/chat/${e.id}`,children:i.jsxs(D,{className:"flex-1","data-testid":"button-open-chat",children:[i.jsx(fo,{className:"h-4 w-4 mr-2"}),"Chat"]})}),i.jsx(ct,{href:`/groups/${e.id}/settings`,children:i.jsx(D,{variant:"outline",size:"sm","data-testid":"button-group-settings",children:i.jsx(rc,{className:"h-4 w-4"})})})]})]})})}const $3=ke.object({name:ke.string().min(1,"Group name is required"),description:ke.string().optional(),details:ke.string().optional()});function z3({group:e,onSave:t,onCancel:n}){const{toast:r}=wt(),s=Gt(),a=Ku({resolver:Gu($3),defaultValues:{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",details:(e==null?void 0:e.details)||""}}),o=Ie({mutationFn:async c=>{e?await me("PATCH",`/api/groups/${e.id}`,c):await me("POST","/api/groups",c)},onSuccess:()=>{r({title:"Success",description:e?"Group updated successfully":"Group created successfully"}),s.invalidateQueries({queryKey:["/api/groups"]}),t()},onError:()=>{r({title:"Error",description:"Failed to save group",variant:"destructive"})}}),l=c=>{o.mutate(c)};return i.jsx(Qu,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6",children:[i.jsx(ze,{control:a.control,name:"name",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Group Name"}),i.jsx(Fe,{children:i.jsx(je,{placeholder:"e.g., Smith Extended Family",...c,"data-testid":"input-group-name"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"description",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Description"}),i.jsx(Fe,{children:i.jsx(Kr,{placeholder:"Brief description of the group...",rows:3,...c,"data-testid":"textarea-group-description"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:a.control,name:"details",render:({field:c})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Details"}),i.jsx(Fe,{children:i.jsx(Kr,{placeholder:"Additional details to help people find and join your group...",rows:3,...c,"data-testid":"textarea-group-details"})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel-group",children:"Cancel"}),i.jsx(D,{type:"submit",disabled:o.isPending,"data-testid":"button-save-group",children:e?"Update Group":"Create Group"})]})]})})}const U3={basic:{maxGroups:0,maxEventsPerMonth:0,maxMembersPerGroup:-1,canUseAdvancedFeatures:!1,hasRealTimeChat:!0,hasTaskManagement:!0,hasEventPlanning:!1,hasMailingLabels:!1},premium:{maxGroups:-1,maxEventsPerMonth:-1,maxMembersPerGroup:-1,canUseAdvancedFeatures:!0,hasRealTimeChat:!0,hasTaskManagement:!0,hasEventPlanning:!0,hasMailingLabels:!0}},$n={basic:{name:"Basic",price:"Free",description:"Perfect for joining and participating in family activities",features:["Create and manage your profile and household","Join unlimited family groups (when invited)","Participate in real-time group chat","View and complete assigned tasks","Participate in family events","View family member contact details"],limitations:["Cannot create new groups","Cannot create or organize events","Cannot invite others to groups"]},premium:{name:"Premium",price:"$5.99/month",description:"Full access to all family collaboration features",features:["Everything in Basic","Unlimited family groups","Unlimited group members","Real-time group chat","Advanced event planning with shared to-do lists","Task assignment and management","Unlimited events","Priority customer support"],limitations:[]}};function B3(e){return U3[e]}function jC(e,t){return B3(e)[t]}function V3(e,t){return jC(e?"premium":"basic",t)}function H3(e){return e==="revenuecat"}function W3(e){return H3(e)?{providerName:"Mobile App Store",managementInstructions:"Manage your subscription in your device settings or the app store where you purchased it.",upgradeInstructions:"Upgrade through the app on your mobile device for the best experience."}:{providerName:"Web Payment",managementInstructions:"Manage your subscription through our web portal.",upgradeInstructions:"Upgrade on our website or mobile app."}}var NC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ew;(function(e){e.UNKNOWN_ERROR="0",e.PURCHASE_CANCELLED_ERROR="1",e.STORE_PROBLEM_ERROR="2",e.PURCHASE_NOT_ALLOWED_ERROR="3",e.PURCHASE_INVALID_ERROR="4",e.PRODUCT_NOT_AVAILABLE_FOR_PURCHASE_ERROR="5",e.PRODUCT_ALREADY_PURCHASED_ERROR="6",e.RECEIPT_ALREADY_IN_USE_ERROR="7",e.INVALID_RECEIPT_ERROR="8",e.MISSING_RECEIPT_FILE_ERROR="9",e.NETWORK_ERROR="10",e.INVALID_CREDENTIALS_ERROR="11",e.UNEXPECTED_BACKEND_RESPONSE_ERROR="12",e.RECEIPT_IN_USE_BY_OTHER_SUBSCRIBER_ERROR="13",e.INVALID_APP_USER_ID_ERROR="14",e.OPERATION_ALREADY_IN_PROGRESS_ERROR="15",e.UNKNOWN_BACKEND_ERROR="16",e.INVALID_APPLE_SUBSCRIPTION_KEY_ERROR="17",e.INELIGIBLE_ERROR="18",e.INSUFFICIENT_PERMISSIONS_ERROR="19",e.PAYMENT_PENDING_ERROR="20",e.INVALID_SUBSCRIBER_ATTRIBUTES_ERROR="21",e.LOG_OUT_ANONYMOUS_USER_ERROR="22",e.CONFIGURATION_ERROR="23",e.UNSUPPORTED_ERROR="24",e.EMPTY_SUBSCRIBER_ATTRIBUTES_ERROR="25",e.PRODUCT_DISCOUNT_MISSING_IDENTIFIER_ERROR="26",e.PRODUCT_DISCOUNT_MISSING_SUBSCRIPTION_GROUP_IDENTIFIER_ERROR="28",e.CUSTOMER_INFO_ERROR="29",e.SYSTEM_INFO_ERROR="30",e.BEGIN_REFUND_REQUEST_ERROR="31",e.PRODUCT_REQUEST_TIMED_OUT_ERROR="32",e.API_ENDPOINT_BLOCKED="33",e.INVALID_PROMOTIONAL_OFFER_ERROR="34",e.OFFLINE_CONNECTION_ERROR="35"})(ew||(ew={}));(function(e){NC(t,e);function t(){var n=e.call(this,"There is no singleton instance. Make sure you configure Purchases before trying to get the default instance. More info here: https://errors.rev.cat/configuring-sdk")||this;return Object.setPrototypeOf(n,t.prototype),n}return t})(Error);(function(e){NC(t,e);function t(){var n=e.call(this,"This method is not available in the current platform.")||this;return Object.setPrototypeOf(n,t.prototype),n}return t})(Error);var tw;(function(e){e.UNKNOWN="UNKNOWN",e.CUSTOM="CUSTOM",e.LIFETIME="LIFETIME",e.ANNUAL="ANNUAL",e.SIX_MONTH="SIX_MONTH",e.THREE_MONTH="THREE_MONTH",e.TWO_MONTH="TWO_MONTH",e.MONTHLY="MONTHLY",e.WEEKLY="WEEKLY"})(tw||(tw={}));var nw;(function(e){e[e.INTRO_ELIGIBILITY_STATUS_UNKNOWN=0]="INTRO_ELIGIBILITY_STATUS_UNKNOWN",e[e.INTRO_ELIGIBILITY_STATUS_INELIGIBLE=1]="INTRO_ELIGIBILITY_STATUS_INELIGIBLE",e[e.INTRO_ELIGIBILITY_STATUS_ELIGIBLE=2]="INTRO_ELIGIBILITY_STATUS_ELIGIBLE",e[e.INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS=3]="INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS"})(nw||(nw={}));var rw;(function(e){e.NON_SUBSCRIPTION="NON_SUBSCRIPTION",e.SUBSCRIPTION="SUBSCRIPTION",e.UNKNOWN="UNKNOWN"})(rw||(rw={}));var sw;(function(e){e.CONSUMABLE="CONSUMABLE",e.NON_CONSUMABLE="NON_CONSUMABLE",e.NON_RENEWABLE_SUBSCRIPTION="NON_RENEWABLE_SUBSCRIPTION",e.AUTO_RENEWABLE_SUBSCRIPTION="AUTO_RENEWABLE_SUBSCRIPTION",e.PREPAID_SUBSCRIPTION="PREPAID_SUBSCRIPTION",e.UNKNOWN="UNKNOWN"})(sw||(sw={}));var iw;(function(e){e[e.UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY=0]="UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY",e[e.IMMEDIATE_WITH_TIME_PRORATION=1]="IMMEDIATE_WITH_TIME_PRORATION",e[e.IMMEDIATE_AND_CHARGE_PRORATED_PRICE=2]="IMMEDIATE_AND_CHARGE_PRORATED_PRICE",e[e.IMMEDIATE_WITHOUT_PRORATION=3]="IMMEDIATE_WITHOUT_PRORATION",e[e.DEFERRED=6]="DEFERRED",e[e.IMMEDIATE_AND_CHARGE_FULL_PRICE=5]="IMMEDIATE_AND_CHARGE_FULL_PRICE"})(iw||(iw={}));var aw;(function(e){e[e.INFINITE_RECURRING=1]="INFINITE_RECURRING",e[e.FINITE_RECURRING=2]="FINITE_RECURRING",e[e.NON_RECURRING=3]="NON_RECURRING"})(aw||(aw={}));var ow;(function(e){e.FREE_TRIAL="FREE_TRIAL",e.SINGLE_PAYMENT="SINGLE_PAYMENT",e.DISCOUNTED_RECURRING_PAYMENT="DISCOUNTED_RECURRING_PAYMENT"})(ow||(ow={}));var lw;(function(e){e.DAY="DAY",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR",e.UNKNOWN="UNKNOWN"})(lw||(lw={}));var cw;(function(e){e.INAPP="inapp",e.SUBS="subs"})(cw||(cw={}));var dw;(function(e){e[e.SUBSCRIPTIONS=0]="SUBSCRIPTIONS",e[e.SUBSCRIPTIONS_UPDATE=1]="SUBSCRIPTIONS_UPDATE",e[e.IN_APP_ITEMS_ON_VR=2]="IN_APP_ITEMS_ON_VR",e[e.SUBSCRIPTIONS_ON_VR=3]="SUBSCRIPTIONS_ON_VR",e[e.PRICE_CHANGE_CONFIRMATION=4]="PRICE_CHANGE_CONFIRMATION"})(dw||(dw={}));var uw;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.USER_CANCELLED=1]="USER_CANCELLED",e[e.ERROR=2]="ERROR"})(uw||(uw={}));var Gm;(function(e){e.VERBOSE="VERBOSE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"})(Gm||(Gm={}));var fw;(function(e){e[e.BILLING_ISSUE=0]="BILLING_ISSUE",e[e.PRICE_INCREASE_CONSENT=1]="PRICE_INCREASE_CONSENT",e[e.GENERIC=2]="GENERIC",e[e.WIN_BACK_OFFER=3]="WIN_BACK_OFFER"})(fw||(fw={}));var hw;(function(e){e.DISABLED="DISABLED",e.INFORMATIONAL="INFORMATIONAL"})(hw||(hw={}));var mw;(function(e){e.NOT_REQUESTED="NOT_REQUESTED",e.VERIFIED="VERIFIED",e.FAILED="FAILED",e.VERIFIED_ON_DEVICE="VERIFIED_ON_DEVICE"})(mw||(mw={}));var pw;(function(e){e.NOT_PRESENTED="NOT_PRESENTED",e.ERROR="ERROR",e.CANCELLED="CANCELLED",e.PURCHASED="PURCHASED",e.RESTORED="RESTORED"})(pw||(pw={}));var gw;(function(e){e.STOREKIT_1="STOREKIT_1",e.STOREKIT_2="STOREKIT_2",e.DEFAULT="DEFAULT"})(gw||(gw={}));var xw;(function(e){e.MY_APP="MY_APP",e.REVENUECAT="REVENUECAT"})(xw||(xw={}));var vw;(function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.PURCHASE_BELONGS_TO_OTHER_USER="PURCHASE_BELONGS_TO_OTHER_USER",e.INVALID_TOKEN="INVALID_TOKEN",e.EXPIRED="EXPIRED"})(vw||(vw={}));const ts=Ki("Purchases",{web:()=>Mu(()=>import("./web-DBhpjind.js"),[]).then(e=>new e.PurchasesWeb)});class ma{constructor(){this.isInitialized=!1,this.REVENUECAT_API_KEY_APPLE="",this.REVENUECAT_API_KEY_GOOGLE="",this.PRODUCT_IDS={PREMIUM_MONTHLY:"my_branches_premium_monthly",PREMIUM_ANNUAL:"my_branches_premium_annual"},this.ENTITLEMENTS={PREMIUM:"premium"}}static getInstance(){return ma.instance||(ma.instance=new ma),ma.instance}async initialize(){try{if(this.isInitialized)return;if(!qe.isNativePlatform()){console.log("RevenueCat: Not running on native platform, skipping initialization");return}let t="";if(qe.getPlatform()==="ios"?t=this.REVENUECAT_API_KEY_APPLE:qe.getPlatform()==="android"&&(t=this.REVENUECAT_API_KEY_GOOGLE),!t)throw new Error(`RevenueCat API key not configured for platform: ${qe.getPlatform()}`);await ts.setLogLevel({level:Gm.DEBUG}),await ts.configure({apiKey:t,appUserID:void 0}),this.isInitialized=!0,console.log("RevenueCat: Successfully initialized")}catch(t){throw console.error("RevenueCat: Failed to initialize",t),t}}async setUserId(t){try{if(!this.isInitialized||!qe.isNativePlatform())return;await ts.logIn({appUserID:t}),console.log(`RevenueCat: User ID set to ${t}`)}catch(n){throw console.error("RevenueCat: Failed to set user ID",n),n}}async getOfferings(){try{if(!this.isInitialized||!qe.isNativePlatform())return[];const t=await ts.getOfferings();return t.current&&t.current.availablePackages?(console.log("RevenueCat: Available offerings retrieved",t.current),[t.current]):[]}catch(t){return console.error("RevenueCat: Failed to get offerings",t),[]}}async getSubscriptionProducts(){try{const t=await this.getOfferings(),n=[];for(const r of t)if(r.availablePackages)for(const s of r.availablePackages){const a=s.product;a&&n.push({identifier:a.identifier,title:a.title,description:a.description,price:a.price.toString(),priceString:a.priceString,currencyCode:a.currencyCode,introPrice:a.introPrice?{price:a.introPrice.price.toString(),priceString:a.introPrice.priceString,period:a.introPrice.periodNumberOfUnits+" "+a.introPrice.periodUnit}:void 0})}return n}catch(t){return console.error("RevenueCat: Failed to get subscription products",t),[]}}async purchaseProduct(t){try{if(!this.isInitialized||!qe.isNativePlatform())throw new Error("RevenueCat not initialized or not on native platform");const n=await this.getOfferings();let r=null;for(const a of n)if(a.availablePackages&&(r=a.availablePackages.find(o=>{var l;return((l=o.product)==null?void 0:l.identifier)===t})||null,r))break;if(!r)throw new Error(`Product ${t} not found in offerings`);const s=await ts.purchasePackage({aPackage:r});return console.log("RevenueCat: Purchase successful",s),{success:!0,customerInfo:s.customerInfo}}catch(n){return console.error("RevenueCat: Purchase failed",n),{success:!1,error:{message:n.message||"Purchase failed",code:n.code||"UNKNOWN_ERROR"}}}}async restorePurchases(){try{if(!this.isInitialized||!qe.isNativePlatform())throw new Error("RevenueCat not initialized or not on native platform");const t=await ts.restorePurchases();return console.log("RevenueCat: Purchases restored",t),{success:!0,customerInfo:t}}catch(t){return console.error("RevenueCat: Restore purchases failed",t),{success:!1,error:{message:t.message||"Restore failed",code:t.code||"UNKNOWN_ERROR"}}}}async getCustomerInfo(){try{return!this.isInitialized||!qe.isNativePlatform()?null:await ts.getCustomerInfo()}catch(t){return console.error("RevenueCat: Failed to get customer info",t),null}}async getActiveSubscription(){try{const t=await this.getCustomerInfo();if(!t)return null;const n=t.entitlements.active[this.ENTITLEMENTS.PREMIUM];return n&&n.isActive?{productId:n.productIdentifier,isActive:!0,renewalDate:n.willRenew?new Date(n.expirationDate):void 0,expirationDate:new Date(n.expirationDate),originalTransactionId:t.originalPurchaseDate?t.originalAppUserId:void 0,entitlements:t.entitlements.active}:null}catch(t){return console.error("RevenueCat: Failed to get active subscription",t),null}}async hasPremiumEntitlement(){try{const t=await this.getActiveSubscription();return(t==null?void 0:t.isActive)||!1}catch(t){return console.error("RevenueCat: Failed to check premium entitlement",t),!1}}async logout(){try{if(!this.isInitialized||!qe.isNativePlatform())return;await ts.logOut(),console.log("RevenueCat: User logged out")}catch(t){console.error("RevenueCat: Failed to logout",t)}}isAvailable(){return qe.isNativePlatform()&&this.isInitialized}async handlePurchaseFlow(t,n,r,s){try{s==null||s(!0);const a=await this.purchaseProduct(t);a.success&&a.customerInfo?n==null||n(a.customerInfo):a.error&&(r==null||r(a.error))}catch(a){r==null||r({message:a.message||"Purchase failed",code:a.code||"UNKNOWN_ERROR"})}finally{s==null||s(!1)}}}const ns=ma.getInstance();function SC(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,a]=m.useState([]),[o,l]=m.useState(null),{toast:c}=wt(),d=qe.isNativePlatform(),f=(o==null?void 0:o.isActive)||!1,u=async()=>{try{if(!d){console.log("Not on native platform, skipping RevenueCat initialization");return}r(!0),await ns.initialize();try{const p=await(await me("GET","/api/auth/profile")).json();p.id&&await ns.setUserId(p.id)}catch(v){console.error("Failed to set RevenueCat user ID:",v)}t(!0),console.log("RevenueCat initialized successfully")}catch(v){console.error("Failed to initialize RevenueCat:",v),c({title:"Initialization Error",description:"Failed to initialize purchases. Please restart the app.",variant:"destructive"})}finally{r(!1)}},h=async()=>{try{if(!e||!d)return;r(!0);const v=await ns.getSubscriptionProducts();a(v);const p=await ns.getActiveSubscription();l(p)}catch(v){console.error("Failed to fetch products:",v),c({title:"Products Error",description:"Failed to load subscription products.",variant:"destructive"})}finally{r(!1)}},w=async v=>{try{if(!e||!d)throw new Error("Purchases not available on this platform");r(!0);const p=await ns.purchaseProduct(v);if(p.success&&p.customerInfo){const g=await ns.getActiveSubscription();return l(g),await x(),c({title:"Purchase Successful!",description:"Welcome to Premium! Your subscription is now active."}),!0}else if(p.error)return p.error.code==="PURCHASE_CANCELLED"||c({title:"Purchase Failed",description:p.error.message,variant:"destructive"}),!1;return!1}catch(p){return console.error("Purchase failed:",p),c({title:"Purchase Error",description:p.message||"Purchase failed. Please try again.",variant:"destructive"}),!1}finally{r(!1)}},b=async()=>{try{if(!e||!d)throw new Error("Purchases not available on this platform");r(!0);const v=await ns.restorePurchases();if(v.success&&v.customerInfo){const p=await ns.getActiveSubscription();return l(p),await x(),p!=null&&p.isActive?c({title:"Purchases Restored!",description:"Your Premium subscription has been restored."}):c({title:"No Purchases Found",description:"No active subscriptions found to restore."}),!0}else if(v.error)return c({title:"Restore Failed",description:v.error.message,variant:"destructive"}),!1;return!1}catch(v){return console.error("Restore failed:",v),c({title:"Restore Error",description:v.message||"Failed to restore purchases.",variant:"destructive"}),!1}finally{r(!1)}},x=async()=>{try{if(!d)return;console.log("Requesting server-side RevenueCat verification..."),await me("POST","/api/revenuecat/verify",{}),console.log("RevenueCat subscription verified by server"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("subscription-status-changed"))},1e3)}catch(v){console.error("Failed to verify with backend:",v)}};return m.useEffect(()=>{d&&!e&&u()},[]),m.useEffect(()=>{e&&d&&h()},[e]),{isInitialized:e,isLoading:n,products:s,activeSubscription:o,initialize:u,fetchProducts:h,purchaseProduct:w,restorePurchases:b,verifyWithBackend:x,isNativePlatform:d,hasPremium:f}}function hc(){const{data:e,isLoading:t}=Le({queryKey:["/api/household/subscription"],retry:!1}),{hasPremium:n,isLoading:r}=SC(),s=qe.isNativePlatform(),{user:a}=Yt(),o=(a==null?void 0:a.subscriptionPlan)==="premium",l=(e==null?void 0:e.hasPremium)||s&&n||o,c=(e==null?void 0:e.subscriptionProvider)||(s&&n?"revenuecat":"stripe")||(a==null?void 0:a.subscriptionProvider)||"stripe";return{householdStatus:e,isLoading:t||s&&r,hasPremium:l,subscriptionProvider:c,premiumUser:e==null?void 0:e.premiumUser,household:e==null?void 0:e.household,isNativePlatform:s,mobileHasPremium:s?n:!1,canAccessFeature:f=>V3(l,f)}}function so({feature:e,description:t,showInline:n=!1}){return n?i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ii,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-purple-900",children:e}),i.jsx("p",{className:"text-sm text-purple-700",children:t})]})]}),i.jsx(ct,{href:"/pricing",children:i.jsxs(D,{variant:"outline",size:"sm",className:"border-purple-300 text-purple-700 hover:bg-purple-100",children:["Upgrade ",i.jsx(vm,{className:"h-4 w-4 ml-1"})]})})]}):i.jsxs(le,{className:"bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 border-purple-200",children:[i.jsxs(Ne,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ii,{className:"h-8 w-8 text-white"})}),i.jsxs(Se,{className:"text-purple-900",children:["Unlock ",e]}),i.jsx(Ja,{className:"text-purple-700",children:t})]}),i.jsx(de,{className:"text-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center space-x-2",children:i.jsx(Ze,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"Premium Feature"})}),i.jsx(ct,{href:"/pricing",children:i.jsxs(D,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:["Upgrade to Premium",i.jsx(vm,{className:"h-4 w-4 ml-2"})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Start your 14-day free trial today"})]})})]})}function q3(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),{toast:s}=wt(),a=Gt();Yt();const{hasPremium:o,canAccessFeature:l}=hc(),c=Ie({mutationFn:async()=>{const h=await me("POST","/api/sync-subscription");if(!h.ok){const w=await h.text();throw new Error(`HTTP ${h.status}: ${w}`)}return h.json()},onSuccess:h=>{s({title:"Subscription Updated",description:h.message}),a.invalidateQueries({queryKey:["/api/auth/user"]}),a.invalidateQueries({queryKey:["/api/household/subscription"]})},onError:h=>{console.error("Sync subscription error:",h),s({title:"Error",description:h.message||"Failed to sync subscription status",variant:"destructive"})}}),d=Ie({mutationFn:async()=>{const h=await me("POST","/api/manual-premium-upgrade");if(!h.ok){const b=await h.text();throw new Error(`HTTP ${h.status}: ${b}`)}const w=h.headers.get("content-type");return w&&w.includes("application/json")?h.json():(await h.text(),{message:"Successfully upgraded to Premium!",subscriptionPlan:"premium"})},onSuccess:h=>{s({title:"Upgrade Complete! ",description:h.message}),a.invalidateQueries({queryKey:["/api/auth/user"]}),a.invalidateQueries({queryKey:["/api/household/subscription"]})},onError:h=>{console.error("Manual upgrade error:",h),s({title:"Error",description:h.message||"Failed to upgrade subscription",variant:"destructive"})}}),{data:f,isLoading:u}=Le({queryKey:["/api/groups"]});return u?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-groups-title",children:"Family Groups"}),i.jsxs("div",{className:"flex gap-2",children:[!o&&i.jsxs(i.Fragment,{children:[i.jsxs(D,{variant:"outline",size:"sm",onClick:()=>c.mutate(),disabled:c.isPending,"data-testid":"button-sync-subscription",children:[i.jsx(jT,{className:`h-4 w-4 mr-2 ${c.isPending?"animate-spin":""}`}),"Sync Status"]}),i.jsx(D,{variant:"default",size:"sm",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-manual-upgrade",children:" Activate Premium"})]}),i.jsxs(D,{variant:"secondary",onClick:()=>r(!0),"data-testid":"button-join-group",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Join Group"]}),i.jsxs(D,{onClick:()=>{l("canUseAdvancedFeatures")&&t(!0)},"data-testid":"button-create-group",disabled:!l("canUseAdvancedFeatures"),children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Create Group"]})]})]}),(f!=null&&f.length,!o&&!l("canUseAdvancedFeatures")?i.jsxs("div",{className:"space-y-6",children:[i.jsx(so,{feature:"Create Groups",description:"Upgrade to Premium to create and organize family groups. Basic users can join groups when invited."}),f&&f.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(h=>i.jsx(Jy,{group:h,"data-testid":`group-card-${h.id}`},h.id))})]}):f&&f.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(h=>i.jsx(Jy,{group:h,"data-testid":`group-card-${h.id}`},h.id))}):i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(gr,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2","data-testid":"text-no-groups-title",children:"No groups yet"}),i.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-no-groups-description",children:"Create your first family group or join an existing one to get started"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[i.jsxs(D,{onClick:()=>t(!0),"data-testid":"button-create-first-group",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Create Group"]}),i.jsxs(D,{variant:"secondary",onClick:()=>r(!0),"data-testid":"button-join-first-group",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Join Group"]})]})]})})),i.jsx(an,{open:e,onOpenChange:t,children:i.jsxs(Ht,{className:"max-w-md",children:[i.jsx(Wt,{children:i.jsx(qt,{"data-testid":"text-create-group-title",children:"Create New Group"})}),i.jsx(z3,{onSave:()=>t(!1),onCancel:()=>t(!1)})]})}),i.jsx(an,{open:n,onOpenChange:r,children:i.jsxs(Ht,{className:"max-w-md",children:[i.jsx(Wt,{children:i.jsx(qt,{"data-testid":"text-join-group-title",children:"Join Group"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground","data-testid":"text-join-group-description",children:"Ask a family member to invite you to their group, or share a group invitation link."}),i.jsx("div",{className:"flex justify-end",children:i.jsx(D,{variant:"outline",onClick:()=>r(!1),"data-testid":"button-join-group-close",children:"Close"})})]})]})})]})}var Yg="Progress",Qg=100,[K3,k5]=Fn(Yg),[G3,Y3]=K3(Yg),CC=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=Q3,...o}=e;(s||s===0)&&!yw(s)&&console.error(Z3(`${s}`,"Progress"));const l=yw(s)?s:Qg;r!==null&&!ww(r,l)&&console.error(X3(`${r}`,"Progress"));const c=ww(r,l)?r:null,d=iu(c)?a(c,l):void 0;return i.jsx(G3,{scope:n,value:c,max:l,children:i.jsx(pe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":iu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":_C(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});CC.displayName=Yg;var kC="ProgressIndicator",EC=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Y3(kC,n);return i.jsx(pe.div,{"data-state":_C(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});EC.displayName=kC;function Q3(e,t){return`${Math.round(e/t*100)}%`}function _C(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function iu(e){return typeof e=="number"}function yw(e){return iu(e)&&!isNaN(e)&&e>0}function ww(e,t){return iu(e)&&!isNaN(e)&&e<=t&&e>=0}function Z3(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Qg}\`.`}function X3(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Qg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PC=CC,J3=EC;const TC=m.forwardRef(({className:e,value:t,...n},r)=>i.jsx(PC,{ref:r,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(J3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));TC.displayName=PC.displayName;var Zg="Checkbox",[e$,E5]=Fn(Zg),[t$,n$]=e$(Zg),IC=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...u}=e,[h,w]=m.useState(null),b=Ve(t,j=>w(j)),x=m.useRef(!1),v=h?f||!!h.closest("form"):!0,[p=!1,g]=Ms({prop:s,defaultProp:a,onChange:d}),y=m.useRef(p);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const N=()=>g(y.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[h,g]),i.jsxs(t$,{scope:n,state:p,disabled:l,children:[i.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":As(p)?"mixed":p,"aria-required":o,"data-state":OC(p),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:b,onKeyDown:oe(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:oe(e.onClick,j=>{g(N=>As(N)?!0:!N),v&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),v&&i.jsx(r$,{control:h,bubbles:!x.current,name:r,value:c,checked:p,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:As(a)?!1:a})]})});IC.displayName=Zg;var AC="CheckboxIndicator",RC=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=n$(AC,n);return i.jsx(Qs,{present:r||As(a.state)||a.state===!0,children:i.jsx(pe.span,{"data-state":OC(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});RC.displayName=AC;var r$=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=m.useRef(null),l=Rg(n),c=mg(t);m.useEffect(()=>{const f=o.current,u=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==n&&w){const b=new Event("click",{bubbles:r});f.indeterminate=As(n),w.call(f,As(n)?!1:n),f.dispatchEvent(b)}},[l,n,r]);const d=m.useRef(As(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function As(e){return e==="indeterminate"}function OC(e){return As(e)?"indeterminate":e?"checked":"unchecked"}var MC=IC,s$=RC;const DC=m.forwardRef(({className:e,...t},n)=>i.jsx(MC,{ref:n,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(s$,{className:ne("flex items-center justify-center text-current"),children:i.jsx(Od,{className:"h-4 w-4"})})}));DC.displayName=MC.displayName;function i$({task:e,"data-testid":t}){Yt();const{toast:n}=wt(),r=Gt(),s=Ie({mutationFn:async c=>{await me("PATCH",`/api/tasks/${e.id}/status`,{status:c})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/events",e.eventId,"tasks"]}),n({title:"Success",description:"Task status updated successfully"})}}),a=Ie({mutationFn:async()=>{await me("PATCH",`/api/tasks/${e.id}/assign`)},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/events",e.eventId,"tasks"]}),n({title:"Success",description:"Task assigned successfully"})}}),o=c=>{const d=c?"completed":"pending";s.mutate(d)},l=c=>{switch(c){case"completed":return i.jsx(Ze,{className:"bg-green-100 text-green-800",children:"Completed"});case"in_progress":return i.jsx(Ze,{className:"bg-blue-100 text-blue-800",children:"In Progress"});case"pending":default:return i.jsx(Ze,{variant:"outline",children:"Pending"})}};return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":t,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(DC,{checked:e.status==="completed",onCheckedChange:o,disabled:s.isPending,"data-testid":"checkbox-task-status"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground text-sm","data-testid":"text-task-name",children:e.name}),e.assigneeName?i.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":"text-task-assignee",children:["Assigned to: ",e.assigneeName]}):i.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-task-unassigned",children:"Unassigned"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[l(e.status),!e.assignedTo&&i.jsx(D,{size:"sm",onClick:()=>a.mutate(),disabled:a.isPending,"data-testid":"button-assign-task",children:"Assign to Me"})]})]})}function a$({event:e,onEdit:t,"data-testid":n}){const[r,s]=m.useState(""),{toast:a}=wt(),o=Gt(),{data:l}=Le({queryKey:["/api/events",e.id,"tasks"]}),c=Ie({mutationFn:async b=>{await me("POST","/api/tasks",b)},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/events",e.id,"tasks"]}),s(""),a({title:"Success",description:"Task added successfully"})}}),d=()=>{r.trim()&&c.mutate({name:r.trim(),eventId:e.id,status:"pending"})},f=b=>{switch(b){case"planning":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=(l==null?void 0:l.filter(b=>b.status==="completed").length)||0,h=(l==null?void 0:l.length)||0,w=h>0?u/h*100:0;return i.jsx(le,{className:"overflow-hidden","data-testid":n,children:i.jsxs(de,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("h3",{className:"text-xl font-semibold text-foreground","data-testid":"text-event-name",children:e.name}),i.jsx(Ze,{className:f(e.status),"data-testid":"badge-event-status",children:e.status})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-3","data-testid":"text-event-description",children:e.description}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center","data-testid":"event-date",children:[i.jsx(yr,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:bi(new Date(e.date),"MMM d, yyyy")})]}),e.endDate&&i.jsxs("div",{className:"flex items-center","data-testid":"event-time",children:[i.jsx(Ti,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:[bi(new Date(e.date),"h:mm a")," - ",bi(new Date(e.endDate),"h:mm a")]})]}),e.location&&i.jsxs("div",{className:"flex items-center","data-testid":"event-location",children:[i.jsx(Nl,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:e.location})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.groupName&&i.jsx(Ze,{variant:"outline","data-testid":"badge-event-group",children:e.groupName}),i.jsx(D,{variant:"ghost",size:"sm",onClick:()=>t(e),"data-testid":"button-edit-event",children:i.jsx(rg,{className:"h-4 w-4 text-muted-foreground"})})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Event Progress"}),i.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-event-progress",children:[u," of ",h," tasks completed"]})]}),i.jsx(TC,{value:w,className:"h-2","data-testid":"progress-event"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-foreground",children:"Tasks & Assignments"}),l&&l.length>0?l.map(b=>i.jsx(i$,{task:b,"data-testid":`task-${b.id}`},b.id)):i.jsx("p",{className:"text-muted-foreground text-sm","data-testid":"text-no-tasks",children:"No tasks yet. Add some tasks to get started!"})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(je,{placeholder:"Add a new task...",value:r,onChange:b=>s(b.target.value),onKeyPress:b=>b.key==="Enter"&&d(),"data-testid":"input-new-task"}),i.jsx(D,{onClick:d,disabled:!r.trim()||c.isPending,"data-testid":"button-add-task",children:i.jsx(gr,{className:"h-4 w-4"})})]})})]})})}const o$=ke.object({name:ke.string().min(1,"Event name is required"),description:ke.string().optional(),date:ke.string().min(1,"Event date is required"),endDate:ke.string().optional(),location:ke.string().optional(),groupId:ke.string().min(1,"Please select a group"),status:ke.string().default("planning")});function l$({event:e,onSave:t,onCancel:n}){const{toast:r}=wt(),s=Gt(),{data:a}=Le({queryKey:["/api/groups"]}),o=Ku({resolver:Gu(o$),defaultValues:{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",date:e!=null&&e.date?new Date(e.date).toISOString().slice(0,16):"",endDate:e!=null&&e.endDate?new Date(e.endDate).toISOString().slice(0,16):"",location:(e==null?void 0:e.location)||"",groupId:(e==null?void 0:e.groupId)||"",status:(e==null?void 0:e.status)||"planning"}}),l=Ie({mutationFn:async d=>{const f={...d,date:new Date(d.date).toISOString(),endDate:d.endDate?new Date(d.endDate).toISOString():void 0};e?await me("PATCH",`/api/events/${e.id}`,f):await me("POST","/api/events",f)},onSuccess:()=>{r({title:"Success",description:e?"Event updated successfully":"Event created successfully"}),s.invalidateQueries({queryKey:["/api/events"]}),t()},onError:()=>{r({title:"Error",description:"Failed to save event",variant:"destructive"})}}),c=d=>{l.mutate(d)};return i.jsx(Qu,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(ze,{control:o.control,name:"name",render:({field:d})=>i.jsxs(Me,{className:"md:col-span-2",children:[i.jsx(De,{children:"Event Name"}),i.jsx(Fe,{children:i.jsx(je,{placeholder:"e.g., Summer Family BBQ",...d,"data-testid":"input-event-name"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:o.control,name:"groupId",render:({field:d})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Group"}),i.jsxs(Fi,{onValueChange:d.onChange,defaultValue:d.value,children:[i.jsx(Fe,{children:i.jsx(Us,{"data-testid":"select-event-group",children:i.jsx(qd,{placeholder:"Select a group"})})}),i.jsx(Bs,{children:a==null?void 0:a.map(f=>i.jsx(nn,{value:f.id,children:f.name},f.id))})]}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:o.control,name:"status",render:({field:d})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Status"}),i.jsxs(Fi,{onValueChange:d.onChange,defaultValue:d.value,children:[i.jsx(Fe,{children:i.jsx(Us,{"data-testid":"select-event-status",children:i.jsx(qd,{})})}),i.jsxs(Bs,{children:[i.jsx(nn,{value:"planning",children:"Planning"}),i.jsx(nn,{value:"confirmed",children:"Confirmed"}),i.jsx(nn,{value:"completed",children:"Completed"}),i.jsx(nn,{value:"cancelled",children:"Cancelled"})]})]}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:o.control,name:"date",render:({field:d})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Start Date & Time"}),i.jsx(Fe,{children:i.jsx(je,{type:"datetime-local",...d,"data-testid":"input-event-date"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:o.control,name:"endDate",render:({field:d})=>i.jsxs(Me,{children:[i.jsx(De,{children:"End Date & Time (Optional)"}),i.jsx(Fe,{children:i.jsx(je,{type:"datetime-local",...d,"data-testid":"input-event-end-date"})}),i.jsx(Ge,{})]})})]}),i.jsx(ze,{control:o.control,name:"location",render:({field:d})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Location"}),i.jsx(Fe,{children:i.jsx(je,{placeholder:"e.g., Grandpa's House, Community Center",...d,"data-testid":"input-event-location"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:o.control,name:"description",render:({field:d})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Description"}),i.jsx(Fe,{children:i.jsx(Kr,{placeholder:"Event details, special instructions, etc...",rows:4,...d,"data-testid":"textarea-event-description"})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel-event",children:"Cancel"}),i.jsx(D,{type:"submit",disabled:l.isPending,"data-testid":"button-save-event",children:e?"Update Event":"Create Event"})]})]})})}function c$(){const[e,t]=m.useState(!1),[n,r]=m.useState(null),[s,a]=m.useState("all");Yt();const{hasPremium:o,canAccessFeature:l}=hc(),{data:c,isLoading:d}=Le({queryKey:["/api/events"]});if(d)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const f=(c==null?void 0:c.filter(u=>s==="all"?!0:s==="upcoming"?new Date(u.date)>new Date:s==="in_progress"?u.status==="planning"||u.status==="confirmed":s==="completed"?u.status==="completed":!0))||[];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-events-title",children:"Family Events"}),i.jsxs(D,{onClick:()=>{l("hasEventPlanning")&&t(!0)},"data-testid":"button-create-event",disabled:!l("hasEventPlanning"),children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Create Event"]})]}),i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[{key:"all",label:"All Events"},{key:"upcoming",label:"Upcoming"},{key:"in_progress",label:"In Progress"},{key:"completed",label:"Completed"}].map(u=>i.jsx(D,{variant:s===u.key?"default":"outline",size:"sm",onClick:()=>a(u.key),className:"whitespace-nowrap","data-testid":`button-filter-${u.key}`,children:u.label},u.key))}),l("hasEventPlanning")?f.length>0?i.jsx("div",{className:"space-y-6",children:f.map(h=>i.jsx(a$,{event:h,onEdit:w=>{r(w),t(!0)},"data-testid":`event-card-${h.id}`},h.id))}):i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(gr,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2","data-testid":"text-no-events-title",children:"No events found"}),i.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-no-events-description",children:s==="all"?"Create your first family event to start planning together":`No ${s.replace("_"," ")} events found`})]})}):i.jsx(so,{feature:"Advanced Event Planning",description:"Plan events with shared to-do lists, task assignments, and collaborative planning tools to make every gathering perfect."}),i.jsx(an,{open:e,onOpenChange:t,children:i.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Wt,{children:i.jsx(qt,{"data-testid":"text-event-form-title",children:n?"Edit Event":"Create New Event"})}),i.jsx(l$,{event:n,onSave:()=>{t(!1),r(null)},onCancel:()=>{t(!1),r(null)}})]})})]})}function d$({message:e,isOwn:t,"data-testid":n}){return t?i.jsxs("div",{className:"flex items-start space-x-3 justify-end","data-testid":n,children:[i.jsxs("div",{className:"flex-1 flex flex-col items-end",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("span",{className:"text-xs text-muted-foreground","data-testid":"text-message-time",children:bi(new Date(e.createdAt),"h:mm a")}),i.jsx("span",{className:"font-medium text-foreground text-sm",children:"You"})]}),i.jsx("div",{className:"bg-primary text-primary-foreground p-3 rounded-[18px_18px_4px_18px] max-w-md",children:i.jsx("p",{"data-testid":"text-message-content",children:e.content})})]}),i.jsx("img",{src:e.senderImage||`https://ui-avatars.com/api/?name=${e.senderName}&size=32`,alt:"You",className:"w-8 h-8 rounded-full flex-shrink-0","data-testid":"img-message-sender"})]}):i.jsxs("div",{className:"flex items-start space-x-3","data-testid":n,children:[i.jsx("img",{src:e.senderImage||`https://ui-avatars.com/api/?name=${e.senderName}&size=32`,alt:e.senderName,className:"w-8 h-8 rounded-full flex-shrink-0","data-testid":"img-message-sender"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("span",{className:"font-medium text-foreground text-sm","data-testid":"text-sender-name",children:e.senderName}),i.jsx("span",{className:"text-xs text-muted-foreground","data-testid":"text-message-time",children:bi(new Date(e.createdAt),"h:mm a")})]}),i.jsx("div",{className:"bg-muted text-foreground p-3 rounded-[18px_18px_18px_4px] max-w-md",children:i.jsx("p",{"data-testid":"text-message-content",children:e.content})})]})]})}function u$(e,t){const[n,r]=m.useState([]),[s,a]=m.useState(!1),o=m.useRef(null);return m.useEffect(()=>{if(!e||!t)return;const d=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,f=new WebSocket(d);return o.current=f,f.onopen=()=>{a(!0),f.send(JSON.stringify({type:"join",groupId:e,userId:t}))},f.onmessage=u=>{const h=JSON.parse(u.data);h.type==="message"&&h.groupId===e&&r(w=>[...w,h.message])},f.onclose=()=>{a(!1)},f.onerror=u=>{console.error("WebSocket error:",u),a(!1)},()=>{f.readyState===WebSocket.OPEN&&f.close()}},[e,t]),{messages:n,sendMessage:c=>{o.current&&o.current.readyState===WebSocket.OPEN&&o.current.send(JSON.stringify({type:"message",groupId:e,content:c,userId:t}))},isConnected:s}}function bw(){const e=lo(),{user:t}=Yt(),[n,r]=m.useState(e.groupId||""),[s,a]=m.useState(""),o=m.useRef(null),{data:l}=Le({queryKey:["/api/groups"]}),{data:c}=Le({queryKey:["/api/groups",n,"messages"],enabled:!!n}),{data:d}=Le({queryKey:["/api/groups",n,"members"],enabled:!!n}),{sendMessage:f,messages:u}=u$(n,t==null?void 0:t.id),h=[...c||[],...u];m.useEffect(()=>{var g;(g=o.current)==null||g.scrollIntoView({behavior:"smooth"})},[h]);const w=()=>{s.trim()&&n&&(f(s.trim()),a(""))},b=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),w())},x=l==null?void 0:l.find(g=>g.id===n);if(!l||l.length===0)return i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Of,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2","data-testid":"text-no-groups-chat-title",children:"No groups available"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-groups-chat-description",children:"You need to join or create a group before you can start chatting"})]})});const v=(t==null?void 0:t.subscriptionPlan)||"basic";return jC(v,"hasRealTimeChat")?i.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[!n&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4","data-testid":"text-chat-title",children:"Group Chat"}),i.jsxs(Fi,{value:n,onValueChange:r,children:[i.jsx(Us,{className:"w-full","data-testid":"select-chat-group",children:i.jsx(qd,{placeholder:"Select a group to chat"})}),i.jsx(Bs,{children:l.map(g=>i.jsx(nn,{value:g.id,children:g.name},g.id))})]})]}),n?i.jsxs(le,{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"border-b border-border p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold",children:x==null?void 0:x.name.substring(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-foreground","data-testid":"text-group-name",children:x==null?void 0:x.name}),i.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-member-count",children:[(d==null?void 0:d.length)||0," members"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-group-info",children:i.jsx(Yj,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-chat-settings",children:i.jsx(rc,{className:"h-4 w-4 text-muted-foreground"})})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4","data-testid":"messages-container",children:[h.map((g,y)=>i.jsx(d$,{message:g,isOwn:g.senderId===(t==null?void 0:t.id),"data-testid":`message-${y}`},`${g.id}-${y}`)),i.jsx("div",{ref:o})]}),i.jsx("div",{className:"border-t border-border p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-attach-file",children:i.jsx(bT,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(je,{placeholder:"Type your message...",value:s,onChange:g=>a(g.target.value),onKeyPress:b,className:"pr-12","data-testid":"input-message"}),i.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2","data-testid":"button-emoji",children:i.jsx(ST,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsx(D,{onClick:w,disabled:!s.trim(),"data-testid":"button-send-message",children:i.jsx(Of,{className:"h-4 w-4"})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Of,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2","data-testid":"text-select-group-title",children:"Select a group to start chatting"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-select-group-description",children:"Choose a family group from the dropdown above to join the conversation"})]})})]}):i.jsx("div",{className:"h-[calc(100vh-8rem)] flex items-center justify-center",children:i.jsx(so,{feature:"Real-Time Chat",description:"Connect with your family members instantly through real-time group messaging with unlimited chat history."})})}var FC="AlertDialog",[f$,_5]=Fn(FC,[CS]),Qr=CS(),LC=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qr(t);return i.jsx(zg,{...r,...n,modal:!0})};LC.displayName=FC;var h$="AlertDialogTrigger",$C=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Qr(n);return i.jsx(Ug,{...s,...r,ref:t})});$C.displayName=h$;var m$="AlertDialogPortal",zC=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qr(t);return i.jsx(Bg,{...r,...n})};zC.displayName=m$;var p$="AlertDialogOverlay",UC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Qr(n);return i.jsx(oc,{...s,...r,ref:t})});UC.displayName=p$;var Ea="AlertDialogContent",[g$,x$]=f$(Ea),v$=bj("AlertDialogContent"),BC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=Qr(n),o=m.useRef(null),l=Ve(t,o),c=m.useRef(null);return i.jsx(WF,{contentName:Ea,titleName:VC,docsSlug:"alert-dialog",children:i.jsx(g$,{scope:n,cancelRef:c,children:i.jsxs(lc,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:oe(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[i.jsx(v$,{children:r}),i.jsx(w$,{contentRef:o})]})})})});BC.displayName=Ea;var VC="AlertDialogTitle",HC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Qr(n);return i.jsx(cc,{...s,...r,ref:t})});HC.displayName=VC;var WC="AlertDialogDescription",qC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Qr(n);return i.jsx(dc,{...s,...r,ref:t})});qC.displayName=WC;var y$="AlertDialogAction",KC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Qr(n);return i.jsx(Hu,{...s,...r,ref:t})});KC.displayName=y$;var GC="AlertDialogCancel",YC=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=x$(GC,n),a=Qr(n),o=Ve(t,s);return i.jsx(Hu,{...a,...r,ref:o})});YC.displayName=GC;var w$=({contentRef:e})=>{const t=`\`${Ea}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ea}\` by passing a \`${WC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ea}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},b$=LC,j$=$C,N$=zC,QC=UC,ZC=BC,XC=KC,JC=YC,ek=HC,tk=qC;const S$=b$,C$=j$,k$=N$,nk=m.forwardRef(({className:e,...t},n)=>i.jsx(QC,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));nk.displayName=QC.displayName;const rk=m.forwardRef(({className:e,...t},n)=>i.jsxs(k$,{children:[i.jsx(nk,{}),i.jsx(ZC,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rk.displayName=ZC.displayName;const sk=({className:e,...t})=>i.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});sk.displayName="AlertDialogHeader";const ik=({className:e,...t})=>i.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ik.displayName="AlertDialogFooter";const ak=m.forwardRef(({className:e,...t},n)=>i.jsx(ek,{ref:n,className:ne("text-lg font-semibold",e),...t}));ak.displayName=ek.displayName;const ok=m.forwardRef(({className:e,...t},n)=>i.jsx(tk,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));ok.displayName=tk.displayName;const lk=m.forwardRef(({className:e,...t},n)=>i.jsx(XC,{ref:n,className:ne(Pg(),e),...t}));lk.displayName=XC.displayName;const ck=m.forwardRef(({className:e,...t},n)=>i.jsx(JC,{ref:n,className:ne(Pg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ck.displayName=JC.displayName;function E$({currentPhotoUrl:e,onPhotoUploaded:t,title:n="Upload Photo",description:r="Choose a photo to upload",acceptTypes:s="image/*",maxSizeMB:a=5,shape:o="circle",size:l="md"}){const[c,d]=m.useState(!1),[f,u]=m.useState(null),[h,w]=m.useState(null),[b,x]=m.useState(!1),[v,p]=m.useState(!1),g=m.useRef(null),{toast:y}=wt(),j=Gt(),N={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},P={circle:"rounded-full",square:"rounded-lg",rectangle:"rounded-lg aspect-video"},E=z=>z.type.startsWith("image/")?z.size>a*1024*1024?`File size must be less than ${a}MB.`:null:"Please select an image file.",_=z=>{const H=E(z);if(H){y({title:"Invalid file",description:H,variant:"destructive"});return}w(z);const J=new FileReader;J.onload=M=>{var B;u((B=M.target)==null?void 0:B.result)},J.readAsDataURL(z)},O=z=>{z.preventDefault(),z.stopPropagation(),p(!1);const H=Array.from(z.dataTransfer.files);H.length>0&&_(H[0])},k=z=>{z.preventDefault(),z.stopPropagation(),p(!0)},F=z=>{z.preventDefault(),z.stopPropagation(),p(!1)},R=z=>{const H=Array.from(z.target.files||[]);H.length>0&&_(H[0])},T=async()=>{if(h){x(!0);try{const z=await me("POST","/api/photos/upload-url",{filename:h.name,mimeType:h.type,size:h.size}),{uploadUrl:H,photoId:J}=await z.json();if(!(await fetch(H,{method:"PUT",body:h,headers:{"Content-Type":h.type}})).ok)throw new Error("Failed to upload photo");const X=await(await me("POST","/api/photos/confirm-upload",{photoId:J,isProfilePhoto:!0})).json(),{photoUrl:ae,user:Ee}=X;j.setQueryData(["/api/auth/user"],nt=>nt&&{...nt,profileImageUrl:ae}),await j.invalidateQueries({queryKey:["/api/auth/user"]}),await j.invalidateQueries({queryKey:["/api/households"]}),t(ae,Ee),d(!1),u(null),w(null),y({title:"Success!",description:"Photo uploaded successfully."})}catch(z){console.error("Upload error:",z),y({title:"Upload failed",description:"There was an error uploading your photo. Please try again.",variant:"destructive"})}finally{x(!1)}}},L=()=>{u(null),w(null),g.current&&(g.current.value="")};return i.jsxs(an,{open:c,onOpenChange:d,children:[i.jsx($i,{asChild:!0,children:i.jsxs(D,{variant:"outline",className:`relative ${N[l]} ${P[o]} p-0 overflow-hidden hover:opacity-80 transition-opacity`,"data-testid":"button-photo-upload",children:[e?i.jsx("img",{src:e,alt:"Current photo",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:i.jsx(Mv,{className:"h-6 w-6 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:i.jsx(Mv,{className:"h-4 w-4 text-white"})})]})}),i.jsxs(Ht,{className:"sm:max-w-md","data-testid":"dialog-photo-upload",children:[i.jsxs(Wt,{children:[i.jsx(qt,{children:n}),i.jsx(eo,{children:r})]}),i.jsx("div",{className:"space-y-4",children:f?i.jsxs("div",{className:"space-y-4",children:[i.jsx(le,{children:i.jsxs(de,{className:"p-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:f,alt:"Preview",className:"w-full h-48 object-cover rounded-lg","data-testid":"img-photo-preview"}),i.jsx(D,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:L,"data-testid":"button-clear-photo",children:i.jsx(qi,{className:"h-4 w-4"})})]}),h&&i.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[i.jsxs("p",{children:["File: ",h.name]}),i.jsxs("p",{children:["Size: ",(h.size/1024/1024).toFixed(2)," MB"]})]})]})}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{variant:"outline",onClick:L,disabled:b,"data-testid":"button-cancel-upload",children:"Cancel"}),i.jsx(D,{onClick:T,disabled:b,"data-testid":"button-confirm-upload",children:b?i.jsxs(i.Fragment,{children:[i.jsx(tg,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zv,{className:"h-4 w-4 mr-2"}),"Upload Photo"]})})]})]}):i.jsx(le,{className:`border-2 border-dashed transition-colors ${v?"border-primary bg-primary/5":"border-muted-foreground/25"}`,onDrop:O,onDragOver:k,onDragLeave:F,"data-testid":"card-photo-drop-zone",children:i.jsx(de,{className:"p-8 text-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(yT,{className:"h-12 w-12 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:r}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Drag and drop or click to browse"})]}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:i.jsxs(D,{variant:"outline",size:"sm",onClick:()=>{var z;return(z=g.current)==null?void 0:z.click()},"data-testid":"button-browse-files",children:[i.jsx(zv,{className:"h-4 w-4 mr-2"}),"Choose Photo"]})}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(Ze,{variant:"secondary",className:"text-xs",children:["Max ",a,"MB"]})})]})})})}),i.jsx("input",{ref:g,type:"file",accept:s,onChange:R,className:"hidden","data-testid":"input-photo-file"})]})]})}const _$=uo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),au=m.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:ne(_$({variant:t}),e),...n}));au.displayName="Alert";const P$=m.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));P$.displayName="AlertTitle";const ou=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));ou.displayName="AlertDescription";function T$(){const{user:e}=Yt(),{isInitialized:t,isLoading:n,permissionStatus:r,preferences:s,updateNotificationPreferences:a,requestPermissions:o}=N1(),l=async d=>{await a({enabled:d})},c=async(d,f)=>{await a({[d]:f})};return e!=null&&e.id?i.jsxs(le,{children:[i.jsxs(Ne,{children:[i.jsxs(Se,{className:"flex items-center space-x-2",children:[i.jsx(uT,{className:"h-5 w-5"}),i.jsx("span",{children:"Push Notifications"})]}),i.jsx(Ja,{children:"Manage how you receive notifications about chat messages, events, and tasks."})]}),i.jsxs(de,{className:"space-y-6",children:[r!=="granted"&&i.jsxs(au,{children:[i.jsx(dT,{className:"h-4 w-4"}),i.jsxs(ou,{className:"flex items-center justify-between",children:[i.jsx("span",{children:r==="denied"?"Notification permissions are denied. Please enable them in your browser or device settings.":"Notification permissions not granted. Click to enable notifications."}),r==="prompt"&&i.jsx(D,{size:"sm",onClick:o,disabled:n,"data-testid":"button-request-permissions",children:"Enable Notifications"})]})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(st,{htmlFor:"notifications-enabled",className:"text-base font-medium",children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications on this device"})]}),i.jsx(It,{id:"notifications-enabled",checked:s.enabled,onCheckedChange:l,disabled:n||r!=="granted","data-testid":"switch-notifications-enabled"})]}),s.enabled&&r==="granted"&&i.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[i.jsx("h4",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground",children:"Notification Types"}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(fo,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(st,{htmlFor:"chat-notifications",className:"text-sm font-medium",children:"Chat Messages"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"New messages in your group chats"})]})]}),i.jsx(It,{id:"chat-notifications",checked:s.chat,onCheckedChange:d=>c("chat",d),disabled:n,"data-testid":"switch-chat-notifications"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(st,{htmlFor:"event-notifications",className:"text-sm font-medium",children:"New Events"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Events created in your groups"})]})]}),i.jsx(It,{id:"event-notifications",checked:s.events,onCheckedChange:d=>c("events",d),disabled:n,"data-testid":"switch-event-notifications"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Xj,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(st,{htmlFor:"task-notifications",className:"text-sm font-medium",children:"Task Updates"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Task assignments and completions"})]})]}),i.jsx(It,{id:"task-notifications",checked:s.tasks,onCheckedChange:d=>c("tasks",d),disabled:n,"data-testid":"switch-task-notifications"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ti,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(st,{htmlFor:"reminder-notifications",className:"text-sm font-medium",children:"Event Reminders"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Reminders before your events"})]})]}),i.jsx(It,{id:"reminder-notifications",checked:s.reminders,onCheckedChange:d=>c("reminders",d),disabled:n,"data-testid":"switch-reminder-notifications"})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Status:"}),i.jsx("span",{className:`font-medium ${t?"text-green-600":"text-orange-600"}`,children:n?"Initializing...":t?"Ready":"Not initialized"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Permissions:"}),i.jsx("span",{className:`font-medium ${r==="granted"?"text-green-600":r==="denied"?"text-red-600":"text-orange-600"}`,children:r==="granted"?"Allowed":r==="denied"?"Denied":"Not requested"})]})]})]})]}):i.jsx(au,{children:i.jsx(ou,{children:"Please sign in to manage your notification preferences."})})}function I$(){const{user:e}=Yt(),{toast:t}=wt(),n=Gt(),[r,s]=m.useState(!1),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[d,f]=m.useState(""),[u,h]=m.useState(""),[w,b]=m.useState(""),[x,v]=m.useState({firstName:"",lastName:"",email:"",phone:"",birthday:"",showBirthday:!0,showPhone:!0,emailNotifications:!0}),{data:p}=Le({queryKey:["/api/households/mine"]}),{data:g}=Le({queryKey:["/api/households",p==null?void 0:p.id,"members"],queryFn:async()=>{if(!(p!=null&&p.id))return[];const T=await fetch(`/api/households/${p.id}/members`);if(!T.ok)throw new Error("Failed to fetch household members");return T.json()},enabled:!!(p!=null&&p.id)});m.useEffect(()=>{e&&v({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",birthday:e.birthday?e.birthday.split("T")[0]:"",showBirthday:e.showBirthday??!0,showPhone:e.showPhone??!0,emailNotifications:e.emailNotifications??!0})},[e]);const y=Ie({mutationFn:async T=>await me("PATCH","/api/profile",T),onSuccess:()=>{t({title:"Success",description:"Profile updated successfully"}),s(!1),n.invalidateQueries({queryKey:["/api/auth/user"]})},onError:T=>{t({title:"Error",description:T.message||"Failed to update profile",variant:"destructive"})}}),j=Ie({mutationFn:async T=>await me("POST","/api/households",T),onSuccess:()=>{t({title:"Success",description:"Household created successfully"}),o(!1),f(""),n.invalidateQueries({queryKey:["/api/households/mine"]})},onError:T=>{t({title:"Error",description:T.message||"Failed to create household",variant:"destructive"})}}),N=()=>{if(!d.trim()){t({title:"Error",description:"Please enter a household name",variant:"destructive"});return}j.mutate({name:d.trim()})},P=Ie({mutationFn:async T=>({inviteCode:`${p==null?void 0:p.id}-${Date.now()}`,email:T}),onSuccess:T=>{t({title:"Invitation Created",description:`Share this code with ${T.email}: ${T.inviteCode}`}),c(!1),h("")},onError:T=>{t({title:"Error",description:T.message||"Failed to create invitation",variant:"destructive"})}}),E=()=>{if(!u.trim()){t({title:"Error",description:"Please enter an email address",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.trim())){t({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}P.mutate(u.trim())},_=Ie({mutationFn:async T=>await me("DELETE","/api/profile/delete-account",{confirmationPhrase:T}),onSuccess:()=>{t({title:"Account Deleted",description:"Your account has been permanently deleted. You will be redirected to the home page."}),window.location.href="/"},onError:T=>{t({title:"Error",description:T.message||"Failed to delete account",variant:"destructive"})}}),O=()=>{_.mutate(w)},k=()=>{const T={...x,birthday:x.birthday?new Date(x.birthday):null};y.mutate(T)},F=()=>{e&&v({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",birthday:e.birthday?e.birthday.split("T")[0]:"",showBirthday:e.showBirthday??!0,showPhone:e.showPhone??!0,emailNotifications:e.emailNotifications??!0}),s(!1)},R=async(T,L)=>{try{t({title:"Profile photo updated",description:"Your profile photo has been updated successfully."})}catch(z){t({title:"Error",description:z.message||"Failed to update profile photo",variant:"destructive"})}};return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-profile-title",children:"My Profile"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Se,{"data-testid":"text-personal-info-title",children:"Personal Information"}),r?i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(D,{variant:"outline",onClick:F,"data-testid":"button-cancel-profile",children:[i.jsx(qi,{className:"h-4 w-4 mr-2"}),"Cancel"]}),i.jsxs(D,{onClick:k,disabled:y.isPending,"data-testid":"button-save-profile",children:[i.jsx(Zj,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):i.jsx(D,{onClick:()=>s(!0),"data-testid":"button-edit-profile",children:"Edit Profile"})]})}),i.jsx(de,{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(st,{htmlFor:"firstName",children:"First Name"}),i.jsx(je,{id:"firstName",value:x.firstName,onChange:T=>v({...x,firstName:T.target.value}),disabled:!r,"data-testid":"input-first-name"})]}),i.jsxs("div",{children:[i.jsx(st,{htmlFor:"lastName",children:"Last Name"}),i.jsx(je,{id:"lastName",value:x.lastName,onChange:T=>v({...x,lastName:T.target.value}),disabled:!r,"data-testid":"input-last-name"})]}),i.jsxs("div",{children:[i.jsx(st,{htmlFor:"email",children:"Email Address"}),i.jsx(je,{id:"email",type:"email",value:x.email,onChange:T=>v({...x,email:T.target.value}),disabled:!r,"data-testid":"input-email"})]}),i.jsxs("div",{children:[i.jsx(st,{htmlFor:"phone",children:"Phone Number"}),i.jsx(je,{id:"phone",type:"tel",value:x.phone,onChange:T=>v({...x,phone:T.target.value}),disabled:!r,"data-testid":"input-phone"})]}),i.jsxs("div",{children:[i.jsx(st,{htmlFor:"birthday",children:"Birthday"}),i.jsx(je,{id:"birthday",type:"date",value:x.birthday,onChange:T=>v({...x,birthday:T.target.value}),disabled:!r,"data-testid":"input-birthday"})]})]})})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsx(Se,{"data-testid":"text-household-title",children:"Household Management"})}),i.jsx(de,{children:p?i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(st,{children:"Household Name"}),i.jsx("p",{className:"text-lg font-medium text-foreground","data-testid":"text-household-name",children:p.name})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"font-medium text-foreground mb-3",children:"Household Members"}),i.jsx("div",{className:"space-y-3",children:g&&g.length>0?g.map(T=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:T.profileImageUrl?`${T.profileImageUrl}?t=${Date.now()}`:`https://ui-avatars.com/api/?name=${T.firstName}+${T.lastName}`,alt:`${T.firstName} ${T.lastName}`,className:"w-8 h-8 rounded-full"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-foreground","data-testid":`text-household-member-name-${T.id}`,children:[T.firstName," ",T.lastName]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:T.role==="owner"?"Head of Household":"Member"}),T.email&&i.jsx("p",{className:"text-xs text-muted-foreground",children:T.email})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:T.id===(e==null?void 0:e.id)&&i.jsx("span",{className:"px-2 py-1 bg-primary text-primary-foreground text-xs rounded-full",children:"You"})})]},T.id)):i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"No household members found"})})})]}),i.jsxs(an,{open:l,onOpenChange:c,children:[i.jsx($i,{asChild:!0,children:i.jsxs(D,{className:"w-full",variant:"secondary","data-testid":"button-invite-member",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Invite Household Member"]})}),i.jsxs(Ht,{className:"sm:max-w-[425px]",children:[i.jsxs(Wt,{children:[i.jsx(qt,{children:"Invite Household Member"}),i.jsx(eo,{children:"Invite a family member to join your household. They'll be able to participate in events and group activities."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(st,{htmlFor:"invite-email",className:"col-span-1",children:"Email"}),i.jsx(je,{id:"invite-email",type:"email",placeholder:"family@example.com",value:u,onChange:T=>h(T.target.value),className:"col-span-3","data-testid":"input-invite-email",onKeyPress:T=>{T.key==="Enter"&&E()}})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(ng,{className:"h-4 w-4 inline mr-2"}),"An invitation code will be generated that you can share with this person. They can use it at /join-household to join your household."]})]}),i.jsxs(Bm,{children:[i.jsx(D,{variant:"outline",onClick:()=>{c(!1),h("")},"data-testid":"button-cancel-invite",children:"Cancel"}),i.jsx(D,{onClick:E,disabled:P.isPending||!u.trim(),"data-testid":"button-send-invite",children:P.isPending?"Creating...":"Create Invitation"})]})]})]})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-no-household",children:"You're not part of a household yet"}),i.jsxs(an,{open:a,onOpenChange:o,children:[i.jsx($i,{asChild:!0,children:i.jsxs(D,{"data-testid":"button-create-household",children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create Household"]})}),i.jsxs(Ht,{className:"sm:max-w-[425px]",children:[i.jsxs(Wt,{children:[i.jsx(qt,{children:"Create New Household"}),i.jsx(eo,{children:"Create a household to start organizing your family activities and events."})]}),i.jsx("div",{className:"grid gap-4 py-4",children:i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(st,{htmlFor:"household-name",className:"col-span-1",children:"Name"}),i.jsx(je,{id:"household-name",placeholder:"e.g., Smith Family",value:d,onChange:T=>f(T.target.value),className:"col-span-3","data-testid":"input-household-name",onKeyPress:T=>{T.key==="Enter"&&N()}})]})}),i.jsxs(Bm,{children:[i.jsx(D,{variant:"outline",onClick:()=>{o(!1),f("")},"data-testid":"button-cancel-household",children:"Cancel"}),i.jsx(D,{onClick:N,disabled:j.isPending||!d.trim(),"data-testid":"button-confirm-create-household",children:j.isPending?"Creating...":"Create Household"})]})]})]})]})})]})]}),i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsx(Se,{"data-testid":"text-profile-picture-title",children:"Profile Picture"})}),i.jsxs(de,{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(E$,{currentPhotoUrl:e!=null&&e.profileImageUrl?`${e.profileImageUrl}?t=${Date.now()}`:`https://ui-avatars.com/api/?name=${e==null?void 0:e.firstName}+${e==null?void 0:e.lastName}&size=200`,onPhotoUploaded:R,title:"Change Profile Photo",description:"Upload a new profile picture",shape:"circle",size:"lg"})}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Click your photo to change it. Recommended: Square image, at least 200x200px"})]})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsx(Se,{"data-testid":"text-privacy-settings-title",children:"Privacy Settings"})}),i.jsxs(de,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Show Birthday"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Let family members see your birthday"})]}),i.jsx(It,{checked:x.showBirthday,onCheckedChange:T=>v({...x,showBirthday:T}),disabled:!r,"data-testid":"switch-show-birthday"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Phone Visibility"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Show phone number to family"})]}),i.jsx(It,{checked:x.showPhone,onCheckedChange:T=>v({...x,showPhone:T}),disabled:!r,"data-testid":"switch-show-phone"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),i.jsx(It,{checked:x.emailNotifications,onCheckedChange:T=>v({...x,emailNotifications:T}),disabled:!r,"data-testid":"switch-email-notifications"})]})]})]}),i.jsx(T$,{}),i.jsxs(le,{className:"border-destructive",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-destructive flex items-center gap-2","data-testid":"text-danger-zone-title",children:[i.jsx(nl,{className:"h-5 w-5"}),"Danger Zone"]})}),i.jsx(de,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Delete Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),i.jsxs(S$,{children:[i.jsx(C$,{asChild:!0,children:i.jsxs(D,{variant:"destructive","data-testid":"button-delete-account",children:[i.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Delete Account"]})}),i.jsxs(rk,{children:[i.jsxs(sk,{children:[i.jsxs(ak,{className:"flex items-center gap-2",children:[i.jsx(nl,{className:"h-5 w-5 text-destructive"}),"Delete Account Permanently"]}),i.jsxs(ok,{className:"space-y-3",children:[i.jsx("p",{children:"This action will permanently delete your account and all associated data, including:"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[i.jsx("li",{children:"Your profile information and photos"}),i.jsx("li",{children:"All messages and conversations"}),i.jsx("li",{children:"Events and tasks you've created"}),i.jsx("li",{children:"Your contacts and saved locations"}),i.jsx("li",{children:"Household and group memberships"})]}),i.jsx("p",{className:"font-semibold text-destructive",children:"This action cannot be undone."}),i.jsxs("div",{className:"mt-4",children:[i.jsx(st,{htmlFor:"delete-confirmation",children:'Type "DELETE MY ACCOUNT" to confirm:'}),i.jsx(je,{id:"delete-confirmation",value:w,onChange:T=>b(T.target.value),placeholder:"DELETE MY ACCOUNT",className:"mt-2","data-testid":"input-delete-confirmation"})]})]})]}),i.jsxs(ik,{children:[i.jsx(ck,{onClick:()=>b(""),"data-testid":"button-cancel-delete",children:"Cancel"}),i.jsx(lk,{onClick:O,disabled:w!=="DELETE MY ACCOUNT"||_.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:_.isPending?"Deleting...":"Delete Account"})]})]})]})]})})]})]})]})]})}function A$(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,a]=m.useState(""),[o,l]=m.useState(!1),{toast:c}=wt(),{hasPremium:d,subscriptionProvider:f,isNativePlatform:u,isLoading:h}=hc(),{purchaseProduct:w,restorePurchases:b,products:x,isInitialized:v,isLoading:p}=SC();Yt();const g=d?"premium":"basic",y=W3(f),j=async(F=!1)=>{try{if(qe.isNativePlatform()){c({title:"Not Available",description:"Web subscriptions are not available in the mobile app. Please use the in-app purchase options.",variant:"destructive"});return}r(!0);const R={};F&&s.trim()&&(R.couponCode=s.trim());const L=await(await me("POST","/api/create-checkout-session",R)).json();if(L.url){const z=document.createElement("form");z.method="GET",z.action=L.url,document.body.appendChild(z),z.submit(),document.body.removeChild(z)}else throw new Error("No checkout URL received")}catch(R){c({title:"Checkout Error",description:R instanceof Error?R.message:"Failed to start checkout process",variant:"destructive"}),r(!1)}},N=()=>{l(!1),j(!0)},P=async F=>{if(!v){c({title:"Not Ready",description:"Purchase system is still initializing. Please wait a moment.",variant:"destructive"});return}return await w(F)},E=async()=>{if(!v){c({title:"Not Ready",description:"Purchase system is still initializing. Please wait a moment.",variant:"destructive"});return}return await b()},_=x.find(F=>F.identifier==="my_branches_premium_monthly"),O=x.find(F=>F.identifier==="my_branches_premium_annual"),k=n||h||p;return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:i.jsxs("div",{className:"container mx-auto px-4 py-16",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[i.jsx("img",{src:"@assets/app Icon_1757360708513.png",alt:"My Branches",className:"w-16 h-16"}),i.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"My Branches Plans"})]}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Start with our free Basic plan or unlock all features with Premium"}),i.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[i.jsx("span",{className:`text-sm ${e?"text-gray-500":"font-semibold text-purple-600"}`,children:"Monthly"}),i.jsx("button",{onClick:()=>t(!e),className:`relative w-14 h-7 rounded-full transition-colors duration-200 ${e?"bg-purple-600":"bg-gray-300"}`,children:i.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e?"translate-x-7":"translate-x-0"}`})}),i.jsx("span",{className:`text-sm ${e?"font-semibold text-purple-600":"text-gray-500"}`,children:"Annual"}),e&&i.jsx(Ze,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Save 20%"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[i.jsxs(le,{className:`relative ${g==="basic"?"ring-2 ring-purple-500":""}`,children:[g==="basic"&&i.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:i.jsx(Ze,{className:"bg-purple-600 text-white",children:"Current Plan"})}),i.jsxs(Ne,{className:"text-center pb-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(CT,{className:"h-8 w-8 text-gray-600"})}),i.jsx(Se,{className:"text-2xl",children:$n.basic.name}),i.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:$n.basic.price}),i.jsx(Ja,{className:"text-base",children:$n.basic.description})]}),i.jsxs(de,{children:[i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What's included:"}),i.jsx("ul",{className:"space-y-2",children:$n.basic.features.map((F,R)=>i.jsxs("li",{className:"flex items-start space-x-3",children:[i.jsx(Od,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-600",children:F})]},R))})]}),$n.basic.limitations.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Limitations:"}),i.jsx("ul",{className:"space-y-2",children:$n.basic.limitations.map((F,R)=>i.jsxs("li",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-5 h-5 flex-shrink-0 mt-0.5 flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})}),i.jsx("span",{className:"text-gray-500 text-sm",children:F})]},R))})]})]}),i.jsx(D,{variant:"outline",className:"w-full",disabled:g==="basic",children:g==="basic"?"Current Plan":"Downgrade"})]})]}),i.jsxs(le,{className:`relative border-purple-200 ${g==="premium"?"ring-2 ring-purple-500":"border-2"}`,children:[g==="premium"?i.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:i.jsx(Ze,{className:"bg-purple-600 text-white",children:"Current Plan"})}):i.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:i.jsx(Ze,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:"Most Popular"})}),i.jsxs(Ne,{className:"text-center pb-8 bg-gradient-to-br from-purple-50 to-pink-50",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:i.jsx(Ii,{className:"h-8 w-8 text-white"})}),i.jsx(Se,{className:"text-2xl text-purple-900",children:$n.premium.name}),i.jsxs("div",{className:"text-4xl font-bold text-purple-900 mb-2",children:[u?e?(O==null?void 0:O.priceString)||"$60/year":(_==null?void 0:_.priceString)||$n.premium.price:e?"$5.00/month":$n.premium.price,e&&!u&&i.jsx("span",{className:"text-base text-purple-600 ml-2",children:"billed annually"})]}),i.jsx("div",{className:"flex items-center justify-center space-x-2 mb-2",children:u?i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-purple-700",children:[i.jsx($v,{className:"h-4 w-4"}),i.jsx("span",{children:y.providerName})]}):i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-purple-700",children:[i.jsx(Fv,{className:"h-4 w-4"}),i.jsx("span",{children:y.providerName})]})}),i.jsx(Ja,{className:"text-base text-purple-700",children:$n.premium.description})]}),i.jsxs(de,{children:[i.jsx("div",{className:"space-y-4 mb-8",children:i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Everything included:"}),i.jsx("ul",{className:"space-y-2",children:$n.premium.features.map((F,R)=>i.jsxs("li",{className:"flex items-start space-x-3",children:[i.jsx(Od,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-600",children:F})]},R))})]})}),i.jsx("div",{className:"space-y-3",children:g==="premium"?i.jsx(D,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600",disabled:!0,"data-testid":"button-current-premium",children:"Current Plan"}):u?i.jsxs(i.Fragment,{children:[i.jsx(D,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>{P(e?"my_branches_premium_annual":"my_branches_premium_monthly")},disabled:k||!v,"data-testid":"button-mobile-upgrade",children:k?i.jsxs(i.Fragment,{children:[i.jsx(tg,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Subscribe ${e?"Annually":"Monthly"}`}),i.jsx(D,{variant:"outline",className:"w-full border-purple-200 text-purple-600 hover:bg-purple-50",onClick:E,disabled:k||!v,"data-testid":"button-restore-purchases",children:"Restore Purchases"})]}):i.jsxs(i.Fragment,{children:[i.jsx(D,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>j(!1),disabled:k,"data-testid":"button-upgrade-premium",children:k?"Starting Checkout...":"Upgrade to Premium"}),i.jsxs(an,{open:o,onOpenChange:l,children:[i.jsx($i,{asChild:!0,children:i.jsxs(D,{variant:"outline",className:"w-full border-purple-200 text-purple-600 hover:bg-purple-50",disabled:k,"data-testid":"button-coupon-upgrade",children:[i.jsx(kT,{className:"h-4 w-4 mr-2"}),"Have a Coupon Code?"]})}),i.jsxs(Ht,{children:[i.jsx(Wt,{children:i.jsx(qt,{children:"Apply Coupon Code"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Coupon Code"}),i.jsx(je,{placeholder:"Enter your coupon code",value:s,onChange:F=>a(F.target.value),"data-testid":"input-coupon-code"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-coupon",children:"Cancel"}),i.jsx(D,{onClick:N,disabled:!s.trim()||k,"data-testid":"button-apply-coupon",children:"Apply & Upgrade"})]})]})]})]})]})}),g!=="premium"&&i.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"Start your 14-day free trial"})]})]})]}),g==="premium"&&i.jsx("div",{className:"mt-16 max-w-3xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-purple-100",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[u?i.jsx($v,{className:"h-5 w-5 mr-2 text-purple-600"}):i.jsx(Fv,{className:"h-5 w-5 mr-2 text-purple-600"}),"Manage Your Subscription"]}),i.jsx("p",{className:"text-gray-600 mb-4",children:y.managementInstructions}),i.jsxs("div",{className:"text-sm text-gray-500",children:[i.jsx("strong",{children:"Subscription Provider:"})," ",y.providerName]})]})}),i.jsxs("div",{className:"mt-20 max-w-3xl mx-auto",children:[i.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Frequently Asked Questions"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Can I change my plan at any time?"}),i.jsxs("p",{className:"text-gray-600",children:["Yes! You can upgrade or downgrade your plan at any time. ",u?"For mobile subscriptions, manage your subscription through your device settings.":"Changes take effect immediately, and we'll prorate any billing differences."]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What happens to my data if I downgrade?"}),i.jsx("p",{className:"text-gray-600",children:"Your data is always safe. If you downgrade to Basic, you'll keep access to your profile and primary group, but some advanced features will be disabled."})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Is there a family discount?"}),i.jsx("p",{className:"text-gray-600",children:"Premium plans are designed for the whole family to share. One Premium subscription covers unlimited family members in your household."})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Which payment method should I choose?"}),i.jsx("p",{className:"text-gray-600",children:u?"On mobile devices, we recommend subscribing through the app store for the best experience and easy subscription management.":"You can subscribe through our website or the mobile app. Mobile subscriptions are managed through your device's app store."})]})]})]})]})})}function R$(){const[e,t]=m.useState(""),{toast:n}=wt(),r=Gt();Yt();const s=Ie({mutationFn:async o=>{const l=o.split("-");if(l.length<2)throw new Error("Invalid invitation code format");const c=l[0];return await me("POST","/api/join-requests",{type:"household",targetId:c,message:`Joining with invitation code: ${o}`})},onSuccess:()=>{n({title:"Join Request Sent",description:"Your request to join the household has been sent. You'll be notified when it's approved."}),t(""),r.invalidateQueries({queryKey:["/api/households/mine"]})},onError:o=>{n({title:"Error",description:o.message||"Failed to join household. Please check your invitation code.",variant:"destructive"})}}),a=()=>{if(!e.trim()){n({title:"Error",description:"Please enter an invitation code",variant:"destructive"});return}s.mutate(e.trim())};return i.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-join-title",children:"Join a Household"}),i.jsx("p",{className:"text-muted-foreground",children:"Enter the invitation code you received to join a family household"})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center",children:[i.jsx(zt,{className:"h-5 w-5 mr-2"}),"Household Invitation"]})}),i.jsxs(de,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(st,{htmlFor:"invite-code",children:"Invitation Code"}),i.jsx(je,{id:"invite-code",placeholder:"Enter invitation code...",value:e,onChange:o=>t(o.target.value),"data-testid":"input-invitation-code",onKeyPress:o=>{o.key==="Enter"&&a()}}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"The invitation code should look like: household-id-timestamp"})]}),i.jsxs(D,{onClick:a,disabled:s.isPending||!e.trim(),className:"w-full","data-testid":"button-join-household",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),s.isPending?"Joining...":"Join Household"]}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an invitation code?"," ",i.jsx("span",{className:"text-primary font-medium",children:"Ask a household member to send you one from their profile page."})]})})]})]})]})}function O$(){const[e,t]=m.useState(""),[n,r]=m.useState("households"),[s,a]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState(""),{toast:f}=wt(),u=Gt(),{data:h,isLoading:w}=Le({queryKey:[`/api/search/${n}`,e],enabled:e.length>=2,queryFn:async()=>{const p=await fetch(`/api/search/${n}?q=${encodeURIComponent(e)}`);if(!p.ok)throw new Error("Search failed");return p.json()}}),b=Ie({mutationFn:async({type:p,targetId:g,message:y})=>(await me("POST","/api/join-requests",{type:p,targetId:g,message:y})).json(),onSuccess:()=>{f({title:"Request Sent",description:`Your request to join the ${n.slice(0,-1)} has been sent to the administrators.`}),a(!1),d(""),l(null),u.invalidateQueries({queryKey:["/api/join-requests"]})},onError:p=>{f({title:"Error",description:p.message||"Failed to send join request",variant:"destructive"})}}),x=p=>{l(p),a(!0)},v=()=>{o&&b.mutate({type:n.slice(0,-1),targetId:o.id,message:c})};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-search-title",children:"Search & Join"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-search-description",children:"Find and request to join households or groups"})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"bg-muted p-1 rounded-lg",children:[i.jsxs(D,{variant:n==="households"?"default":"ghost",onClick:()=>r("households"),className:"mr-1","data-testid":"button-search-households",children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),"Households"]}),i.jsxs(D,{variant:n==="groups"?"default":"ghost",onClick:()=>r("groups"),"data-testid":"button-search-groups",children:[i.jsx(sn,{className:"h-4 w-4 mr-2"}),"Groups"]})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(je,{placeholder:`Search for ${n}...`,value:e,onChange:p=>t(p.target.value),className:"pl-10","data-testid":"input-search-query"})]}),e.length>=2&&i.jsx("div",{className:"space-y-4",children:w?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Searching..."})]}):h&&h.length>0?i.jsx("div",{className:"grid gap-4",children:h.map(p=>i.jsxs(le,{className:"hover:shadow-md transition-shadow","data-testid":`search-result-${p.id}`,children:[i.jsx(Ne,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Se,{className:"flex items-center gap-2",children:[n==="households"?i.jsx(zt,{className:"h-5 w-5"}):i.jsx(sn,{className:"h-5 w-5"}),p.name]}),i.jsxs(Ze,{variant:"secondary","data-testid":"badge-member-count",children:[p.memberCount," members"]})]})}),i.jsxs(de,{children:[n==="groups"&&p.description&&i.jsx("p",{className:"text-muted-foreground mb-3","data-testid":"text-item-description",children:p.description}),n==="households"&&p.details&&i.jsx("p",{className:"text-muted-foreground mb-3","data-testid":"text-household-details",children:p.details}),n==="groups"&&p.details&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Additional Details:"}),i.jsx("p",{className:"text-muted-foreground text-sm","data-testid":"text-item-details",children:p.details})]}),i.jsxs(D,{onClick:()=>x(p),className:"w-full","data-testid":"button-request-join",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Request to Join"]})]})]},p.id))}):i.jsx("div",{className:"text-center py-8",children:i.jsxs("p",{className:"text-muted-foreground","data-testid":"text-no-results",children:["No ",n,' found matching "',e,'"']})})}),e.length<2&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Sl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-search-hint",children:"Enter at least 2 characters to start searching"})]}),i.jsx(an,{open:s,onOpenChange:a,children:i.jsxs(Ht,{children:[i.jsx(Wt,{children:i.jsxs(qt,{children:["Request to Join ",o==null?void 0:o.name]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message to Administrators (Optional)"}),i.jsx(Kr,{placeholder:"Tell them why you'd like to join...",value:c,onChange:p=>d(p.target.value),rows:4,"data-testid":"textarea-request-message"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-request",children:"Cancel"}),i.jsx(D,{onClick:v,disabled:b.isPending,"data-testid":"button-submit-request",children:b.isPending?"Sending...":"Send Request"})]})]})]})})]})}const M$=ke.object({name:ke.string().min(1,"Household name is required"),details:ke.string().optional(),street:ke.string().optional(),city:ke.string().optional(),state:ke.string().optional(),zipCode:ke.string().optional(),country:ke.string().optional()});function D$(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,a]=m.useState(""),[o,l]=m.useState(!1),{toast:c}=wt(),d=Gt(),{user:f}=Yt(),{data:u}=Le({queryKey:["/api/households/mine"]}),{data:h}=Le({queryKey:[`/api/households/${u==null?void 0:u.id}/members`],enabled:!!(u!=null&&u.id)}),w=m.useMemo(()=>{if(!(f!=null&&f.id)||!u||!h)return!1;const k=h.find(F=>F.id===f.id);return f.id===u.ownerId||(k==null?void 0:k.role)==="admin"},[f==null?void 0:f.id,u==null?void 0:u.ownerId,h]),{data:b}=Le({queryKey:[`/api/join-requests/household/${u==null?void 0:u.id}`],enabled:!!(u!=null&&u.id)&&!!(f!=null&&f.id)&&w}),x=Ku({resolver:Gu(M$),defaultValues:{name:(u==null?void 0:u.name)||"",details:(u==null?void 0:u.details)||"",street:(u==null?void 0:u.street)||"",city:(u==null?void 0:u.city)||"",state:(u==null?void 0:u.state)||"",zipCode:(u==null?void 0:u.zipCode)||"",country:(u==null?void 0:u.country)||"United States"}}),v=Ie({mutationFn:async()=>(await(await me("POST","/api/households/invite")).json()).inviteCode,onSuccess:k=>{a(k),t(!0)},onError:()=>{c({title:"Error",description:"Failed to generate invitation code",variant:"destructive"})}}),p=Ie({mutationFn:async k=>(await me("PUT",`/api/households/${u==null?void 0:u.id}`,k)).json(),onSuccess:()=>{c({title:"Success",description:"Household information updated successfully"}),r(!1),d.invalidateQueries({queryKey:["/api/households/mine"]})},onError:()=>{c({title:"Error",description:"Failed to update household information",variant:"destructive"})}}),g=Ie({mutationFn:async({requestId:k,action:F})=>(await me("PUT",`/api/join-requests/${k}/${F}`,{})).json(),onSuccess:(k,{action:F})=>{c({title:"Success",description:`Join request ${F}d successfully`}),u!=null&&u.id&&(d.invalidateQueries({queryKey:[`/api/join-requests/household/${u.id}`]}),d.invalidateQueries({queryKey:[`/api/households/${u.id}/members`]}))},onError:k=>{c({title:"Error",description:k.message||"Failed to process join request",variant:"destructive"})}}),y=Ie({mutationFn:async({userId:k,role:F})=>(await me("PUT",`/api/users/${k}/role/household/${u==null?void 0:u.id}`,{role:F})).json(),onSuccess:()=>{c({title:"Success",description:"Member role updated successfully"}),u!=null&&u.id&&d.invalidateQueries({queryKey:[`/api/households/${u==null?void 0:u.id}/members`]})},onError:()=>{c({title:"Error",description:"Failed to update member role",variant:"destructive"})}}),j=(k,F)=>{y.mutate({userId:k,role:F})},N=Ie({mutationFn:async k=>(await me("DELETE",`/api/households/${u==null?void 0:u.id}/members/${k}`)).json(),onSuccess:()=>{c({title:"Success",description:"Member removed from household successfully"}),u!=null&&u.id&&(d.invalidateQueries({queryKey:[`/api/households/${u.id}/members`]}),d.invalidateQueries({queryKey:["/api/households/mine"]}))},onError:k=>{c({title:"Error",description:k.message||"Failed to remove member from household",variant:"destructive"})}}),P=(k,F)=>{window.confirm(`Are you sure you want to remove ${F} from this household? This action cannot be undone.`)&&N.mutate(k)},E=Ie({mutationFn:async()=>(await me("DELETE",`/api/households/${u==null?void 0:u.id}/members/${f==null?void 0:f.id}`)).json(),onSuccess:()=>{c({title:"Success",description:"You have left the household successfully"}),d.invalidateQueries({queryKey:["/api/households/mine"]})},onError:()=>{c({title:"Error",description:"Failed to leave household",variant:"destructive"})}}),_=async k=>{try{await navigator.clipboard.writeText(k),l(!0),c({title:"Copied!",description:"Invitation code copied to clipboard"}),setTimeout(()=>l(!1),2e3)}catch{c({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}},O=()=>{window.confirm("Are you sure you want to leave this household? You will need to be re-invited to rejoin.")&&E.mutate()};return u?i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-household-title",children:"Household Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your household members and settings"})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ym,{className:"h-5 w-5"}),u.name]}),i.jsxs(D,{variant:"outline",size:"sm",onClick:()=>r(!0),"data-testid":"button-edit-household",children:[i.jsx(rg,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),i.jsxs(de,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Household ID: ",u.id]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",new Date(u.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{children:[(u.street||u.city||u.state)&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Nl,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),i.jsxs("div",{className:"text-sm",children:[u.street&&i.jsx("p",{children:u.street}),(u.city||u.state||u.zipCode)&&i.jsxs("p",{children:[u.city,u.city&&u.state&&", ",u.state," ",u.zipCode]}),u.country&&u.country!=="United States"&&i.jsx("p",{children:u.country})]})]}),!u.street&&!u.city&&!u.state&&i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(Nl,{className:"h-4 w-4"}),"No address set"]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(D,{onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-invite-member",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Invite Member"]})})]})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(sn,{className:"h-5 w-5"}),"Household Members (",(h==null?void 0:h.length)||0,")"]})}),i.jsx(de,{children:i.jsx("div",{className:"space-y-4",children:h&&h.length>0?h.map(k=>{var F;return i.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg","data-testid":`member-${k.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:k.profileImageUrl||`https://ui-avatars.com/api/?name=${k.firstName}+${k.lastName}`,alt:`${k.firstName} ${k.lastName}`,className:"w-10 h-10 rounded-full"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-foreground",children:[k.firstName," ",k.lastName]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:k.email})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:k.role==="owner"?"default":"secondary",children:k.role==="owner"?"Owner":k.role==="admin"?"Admin":"Member"}),f&&k.id===f.id&&i.jsx(Ze,{variant:"outline",children:"You"}),w&&k.id!==f.id&&k.role!=="owner"&&i.jsxs(Fi,{value:k.role,onValueChange:R=>j(k.id,R),children:[i.jsx(Us,{className:"w-24 h-8 text-xs",children:i.jsx(rc,{className:"h-3 w-3"})}),i.jsxs(Bs,{children:[i.jsx(nn,{value:"member",children:"Member"}),i.jsx(nn,{value:"admin",children:"Admin"})]})]}),(f==null?void 0:f.id)&&(u==null?void 0:u.ownerId)&&(f.id===u.ownerId||f&&((F=h==null?void 0:h.find(R=>R.id===f.id))==null?void 0:F.role)==="admin")&&k.id!==f.id&&k.role!=="owner"&&i.jsx(D,{variant:"outline",size:"sm",onClick:()=>P(k.id,`${k.firstName} ${k.lastName}`),disabled:N.isPending,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":`button-remove-household-member-${k.id}`,children:i.jsx(ci,{className:"h-4 w-4"})})]})]},k.id)}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No household members found"})})})]}),i.jsx(an,{open:e,onOpenChange:t,children:i.jsxs(Ht,{className:"sm:max-w-[425px]",children:[i.jsxs(Wt,{children:[i.jsx(qt,{children:"Invite Household Member"}),i.jsx(eo,{children:"Share this invitation code with someone to invite them to your household."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(st,{htmlFor:"invite-code",children:"Invitation Code"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(je,{id:"invite-code",value:s,readOnly:!0,className:"font-mono","data-testid":"input-invite-code"}),i.jsx(D,{onClick:()=>_(s),variant:"outline",size:"sm","data-testid":"button-copy-code",children:o?i.jsx(Gj,{className:"h-4 w-4"}):i.jsx(pT,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"bg-muted p-4 rounded-lg",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Instructions:"}),i.jsx("br",{}),"1. Copy the invitation code above",i.jsx("br",{}),"2. Share it with the person you want to invite",i.jsx("br",{}),'3. They can use it on the "Join Household" page']})})]})]})}),i.jsx(an,{open:n,onOpenChange:r,children:i.jsxs(Ht,{className:"sm:max-w-[500px]",children:[i.jsxs(Wt,{children:[i.jsx(qt,{children:"Edit Household Information"}),i.jsx(eo,{children:"Update your household details and address information."})]}),i.jsx(Qu,{...x,children:i.jsxs("form",{onSubmit:x.handleSubmit(k=>p.mutate(k)),className:"space-y-4",children:[i.jsx(ze,{control:x.control,name:"name",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Household Name"}),i.jsx(Fe,{children:i.jsx(je,{...k,"data-testid":"input-household-name"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:x.control,name:"details",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Details"}),i.jsx(Fe,{children:i.jsx(Kr,{placeholder:"Additional details to help people find and join your household...",rows:3,...k,"data-testid":"textarea-household-details"})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(st,{className:"text-sm font-medium",children:"Address"}),i.jsx(ze,{control:x.control,name:"street",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Street Address"}),i.jsx(Fe,{children:i.jsx(je,{...k,placeholder:"123 Main Street","data-testid":"input-street"})}),i.jsx(Ge,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(ze,{control:x.control,name:"city",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"City"}),i.jsx(Fe,{children:i.jsx(je,{...k,placeholder:"Springfield","data-testid":"input-city"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:x.control,name:"state",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"State/Province"}),i.jsx(Fe,{children:i.jsx(je,{...k,placeholder:"CA","data-testid":"input-state"})}),i.jsx(Ge,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(ze,{control:x.control,name:"zipCode",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"ZIP/Postal Code"}),i.jsx(Fe,{children:i.jsx(je,{...k,placeholder:"12345","data-testid":"input-zip"})}),i.jsx(Ge,{})]})}),i.jsx(ze,{control:x.control,name:"country",render:({field:k})=>i.jsxs(Me,{children:[i.jsx(De,{children:"Country"}),i.jsx(Fe,{children:i.jsx(je,{...k,placeholder:"United States","data-testid":"input-country"})}),i.jsx(Ge,{})]})})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(D,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),i.jsx(D,{type:"submit",disabled:p.isPending,"data-testid":"button-save-household",children:p.isPending?"Saving...":"Save Changes"})]})]})})]})}),w&&b&&b.length>0&&i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-5 w-5"}),"Pending Join Requests (",b.length,")"]})}),i.jsx(de,{children:i.jsx("div",{className:"space-y-4",children:b.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`join-request-${k.id}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("p",{className:"font-medium","data-testid":"text-requester-name",children:[k.requester.firstName," ",k.requester.lastName]}),i.jsx(Ze,{variant:"outline",children:Tg(new Date(k.createdAt),{addSuffix:!0})})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-1","data-testid":"text-requester-email",children:k.requester.email}),k.message&&i.jsxs("p",{className:"text-sm text-muted-foreground italic","data-testid":"text-request-message",children:['"',k.message,'"']})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>g.mutate({requestId:k.id,action:"approve"}),disabled:g.isPending,"data-testid":"button-approve-request",children:[i.jsx(sg,{className:"h-4 w-4 mr-1"}),"Approve"]}),i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>g.mutate({requestId:k.id,action:"deny"}),disabled:g.isPending,"data-testid":"button-deny-request",children:[i.jsx(ci,{className:"h-4 w-4 mr-1"}),"Deny"]})]})]},k.id))})})]}),f&&u&&f.id!==u.ownerId?i.jsxs(le,{className:"border-orange-500",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-orange-600 flex items-center gap-2","data-testid":"text-leave-household-title",children:[i.jsx(Md,{className:"h-5 w-5"}),"Leave Household"]})}),i.jsxs(de,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Remove yourself from this household. You will need to be re-invited to rejoin."}),i.jsxs(D,{variant:"outline",onClick:O,disabled:E.isPending,className:"w-full border-orange-500 text-orange-600 hover:bg-orange-50","data-testid":"button-leave-household",children:[i.jsx(Md,{className:"h-4 w-4 mr-2"}),E.isPending?"Leaving...":"Leave Household"]})]})]}):f&&u&&i.jsxs(le,{className:"border-blue-500",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-blue-600 flex items-center gap-2","data-testid":"text-owner-info-title",children:[i.jsx(Ii,{className:"h-5 w-5"}),"Household Owner"]})}),i.jsxs(de,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"As the household owner, you cannot leave the household. To leave, you must first transfer ownership to another member or delete the household."}),i.jsxs(D,{variant:"outline",disabled:!0,className:"w-full border-blue-500 text-blue-600","data-testid":"button-owner-cannot-leave",children:[i.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Transfer Ownership to Leave"]})]})]})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-household-title",children:"Household Management"}),i.jsx("p",{className:"text-muted-foreground",children:"You're not part of a household yet. Create one or join an existing household."})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(ym,{className:"h-5 w-5"}),"Get Started"]})}),i.jsxs(de,{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"To manage your family's activities, events, and communication, you need to be part of a household."}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(D,{asChild:!0,children:i.jsx("a",{href:"/profile",children:"Create Household"})}),i.jsx(D,{variant:"outline",asChild:!0,children:i.jsx("a",{href:"/join-household",children:"Join Household"})})]})]})]})]})}const F$=zg,L$=Ug,$$=Bg,dk=m.forwardRef(({className:e,...t},n)=>i.jsx(oc,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));dk.displayName=oc.displayName;const z$=uo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uk=m.forwardRef(({side:e="right",className:t,children:n,...r},s)=>i.jsxs($$,{children:[i.jsx(dk,{}),i.jsxs(lc,{ref:s,className:ne(z$({side:e}),t),...r,children:[n,i.jsxs(Hu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(qi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uk.displayName=lc.displayName;const U$=m.forwardRef(({className:e,...t},n)=>i.jsx(cc,{ref:n,className:ne("text-lg font-semibold text-foreground",e),...t}));U$.displayName=cc.displayName;const B$=m.forwardRef(({className:e,...t},n)=>i.jsx(dc,{ref:n,className:ne("text-sm text-muted-foreground",e),...t}));B$.displayName=dc.displayName;function V$(){const{user:e}=Yt(),[t,n]=m.useState(!1);return m.useEffect(()=>{if(e&&!localStorage.getItem(`onboarding-completed-${e.id}`)){const o=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(o)}},[e]),{showTour:t,completeTour:()=>{e&&localStorage.setItem(`onboarding-completed-${e.id}`,"true"),n(!1)},startTour:()=>{n(!0)}}}const ti=[{id:"welcome",title:"Welcome to My Branches!",description:"Let's take a quick tour to show you how to keep your family connected and organized.",target:"main-content",icon:zt,position:"bottom"},{id:"dashboard",title:"Your Dashboard",description:"See your family activity, upcoming events, and important notifications all in one place.",target:"main-content",icon:zt,position:"bottom"},{id:"navigation",title:"Easy Navigation",description:"Use the sidebar to quickly access different sections of the app.",target:"sidebar-desktop",icon:sn,position:"right"},{id:"groups",title:"Family Groups",description:"Create or join family groups to organize different branches of your family tree.",target:"nav-groups",icon:sn,position:"right"},{id:"events",title:"Plan Events Together",description:"Organize family gatherings, birthdays, and special occasions with collaborative planning.",target:"nav-events",icon:yr,position:"right"},{id:"chat",title:"Stay Connected",description:"Chat with your family groups in real-time to coordinate and share updates.",target:"nav-chat",icon:fo,position:"right"},{id:"profile",title:"Your Profile",description:"Manage your personal information and privacy settings.",target:"nav-profile",icon:ig,position:"right"}];function H$({isOpen:e,onClose:t}){const[n,r]=m.useState(0),[s,a]=m.useState(null);m.useEffect(()=>(e?o():c(),()=>c()),[e,n]);const o=()=>{c();const x=ti[n],v=document.querySelector(`[data-testid="${x.target}"]`);v&&(a(v),v.classList.add("tour-highlight"),v.scrollIntoView({behavior:"smooth",block:"center"}),l(v))},l=x=>{const v=document.querySelector(".tour-card");if(!v)return;const p=x.getBoundingClientRect(),g=ti[n];let y=0,j=0;switch(g.position){case"top":y=p.top-v.offsetHeight-20,j=p.left+(p.width-v.offsetWidth)/2;break;case"bottom":y=p.bottom+20,j=p.left+(p.width-v.offsetWidth)/2;break;case"left":y=p.top+(p.height-v.offsetHeight)/2,j=p.left-v.offsetWidth-20;break;case"right":y=p.top+(p.height-v.offsetHeight)/2,j=p.right+20;break}const N=window.innerWidth,P=window.innerHeight;j<10&&(j=10),j+v.offsetWidth>N-10&&(j=N-v.offsetWidth-10),y<10&&(y=10),y+v.offsetHeight>P-10&&(y=P-v.offsetHeight-10),v.style.top=`${y}px`,v.style.left=`${j}px`},c=()=>{s&&s.classList.remove("tour-highlight"),a(null)},d=()=>{n<ti.length-1?r(n+1):u()},f=()=>{n>0&&r(n-1)},u=()=>{c(),t()},h=()=>{c(),t()};if(!e)return null;const w=ti[n],b=w.icon;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100]"}),i.jsx("div",{className:"tour-card fixed z-[101] max-w-sm",children:i.jsxs(le,{className:"shadow-2xl border-2 border-primary",children:[i.jsx(Ne,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:i.jsx(b,{className:"h-5 w-5 text-primary"})}),i.jsx(Se,{className:"text-lg",children:w.title})]}),i.jsx(D,{variant:"ghost",size:"sm",onClick:h,"data-testid":"button-skip-tour",children:i.jsx(qi,{className:"h-4 w-4"})})]})}),i.jsxs(de,{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:w.description}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${(n+1)/ti.length*100}%`}})}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[n+1," / ",ti.length]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsxs(D,{variant:"outline",size:"sm",onClick:f,disabled:n===0,"data-testid":"button-tour-prev",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Previous"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(D,{variant:"ghost",size:"sm",onClick:h,"data-testid":"button-tour-skip",children:"Skip Tour"}),i.jsxs(D,{size:"sm",onClick:d,"data-testid":"button-tour-next",children:[n===ti.length-1?"Finish":"Next",i.jsx(vm,{className:"h-4 w-4 ml-2"})]})]})]})]})]})})]})}const ah="/assets/app%20icon%201024-CRpCRPUi.png",W$=[{name:"Dashboard",href:"/",icon:zt},{name:"Household",href:"/household",icon:ym},{name:"Contacts",href:"/contacts",icon:sn},{name:"Groups",href:"/groups",icon:sn},{name:"Search",href:"/search",icon:Sl},{name:"Events",href:"/events",icon:yr},{name:"Chat",href:"/chat",icon:fo},{name:"Profile",href:"/profile",icon:ig}];function q$({children:e}){const[t,n]=m.useState(!1),[r]=Cu(),{user:s}=Yt(),{showTour:a,completeTour:o}=V$(),{data:l}=Le({queryKey:["/api/households/current"],enabled:!!(s!=null&&s.id)}),c=({mobile:d=!1})=>i.jsx("nav",{className:"space-y-1",children:W$.map(f=>{const u=r===f.href,h=f.icon;return i.jsxs(ct,{href:f.href,className:ne("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors",u?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted",d&&"justify-start"),onClick:()=>d&&n(!1),"data-testid":`nav-${f.name.toLowerCase()}`,children:[i.jsx(h,{className:"h-5 w-5 mr-3"}),f.name]},f.name)})});return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"lg:hidden bg-card border-b border-border p-4 print:hidden",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:ah,alt:"My Branches",className:"w-8 h-8"}),i.jsx("h1",{className:"text-xl font-bold text-foreground","data-testid":"text-mobile-title",children:"My Branches"})]}),i.jsxs(F$,{open:t,onOpenChange:n,children:[i.jsx(L$,{asChild:!0,children:i.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-mobile-menu",children:i.jsx(wT,{className:"h-5 w-5"})})}),i.jsx(uk,{side:"left",className:"w-64 p-0",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[i.jsx("img",{src:ah,alt:"My Branches",className:"w-10 h-10"}),i.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-sidebar-title",children:"My Branches"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("img",{src:s!=null&&s.profileImageUrl?`${s.profileImageUrl}?t=${Date.now()}`:`https://ui-avatars.com/api/?name=${encodeURIComponent((s==null?void 0:s.firstName)||"U")}+${encodeURIComponent((s==null?void 0:s.lastName)||"ser")}&background=6366f1&color=white&size=40`,alt:"Profile",className:"w-10 h-10 rounded-full bg-gray-200","data-testid":"img-mobile-profile",onError:d=>{var u,h;const f=d.target;f.src=`data:image/svg+xml;base64,${btoa(`<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><rect width="40" height="40" fill="#6366f1"/><text x="50%" y="50%" text-anchor="middle" dy="0.3em" fill="white" font-family="Arial" font-size="16">${(((u=s==null?void 0:s.firstName)==null?void 0:u[0])||"U").toUpperCase()}${(((h=s==null?void 0:s.lastName)==null?void 0:h[0])||"").toUpperCase()}</text></svg>`)}`}},(s==null?void 0:s.profileImageUrl)||"default"),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-foreground","data-testid":"text-mobile-user-name",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-mobile-household",children:(l==null?void 0:l.name)||"No Household"})]})]})}),i.jsx(c,{mobile:!0}),i.jsx("div",{className:"mt-8 pt-4 border-t border-border",children:i.jsxs(D,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:()=>window.location.href="/api/logout","data-testid":"button-mobile-logout",children:[i.jsx(Md,{className:"h-5 w-5 mr-3"}),"Log Out"]})})]})})]})]})}),i.jsxs("div",{className:"flex",children:[i.jsx("nav",{className:"hidden lg:block w-64 bg-card border-r border-border min-h-screen print:hidden","data-testid":"sidebar-desktop",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[i.jsx("img",{src:ah,alt:"My Branches",className:"w-10 h-10"}),i.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-desktop-title",children:"My Branches"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("img",{src:s!=null&&s.profileImageUrl?`${s.profileImageUrl}?t=${Date.now()}`:`https://ui-avatars.com/api/?name=${encodeURIComponent((s==null?void 0:s.firstName)||"U")}+${encodeURIComponent((s==null?void 0:s.lastName)||"ser")}&background=6366f1&color=white&size=40`,alt:"Profile",className:"w-10 h-10 rounded-full bg-gray-200","data-testid":"img-desktop-profile",onError:d=>{var u,h;const f=d.target;f.src=`data:image/svg+xml;base64,${btoa(`<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><rect width="40" height="40" fill="#6366f1"/><text x="50%" y="50%" text-anchor="middle" dy="0.3em" fill="white" font-family="Arial" font-size="16">${(((u=s==null?void 0:s.firstName)==null?void 0:u[0])||"U").toUpperCase()}${(((h=s==null?void 0:s.lastName)==null?void 0:h[0])||"").toUpperCase()}</text></svg>`)}`}},(s==null?void 0:s.profileImageUrl)||"default"),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-foreground","data-testid":"text-desktop-user-name",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]}),i.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-desktop-household",children:(l==null?void 0:l.name)||"No Household"})]})]})}),i.jsx(c,{}),i.jsx("div",{className:"mt-8 pt-4 border-t border-border",children:i.jsxs(D,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:()=>window.location.href="/api/logout","data-testid":"button-desktop-logout",children:[i.jsx(Md,{className:"h-5 w-5 mr-3"}),"Log Out"]})})]})}),i.jsx("main",{className:"flex-1 p-4 lg:p-8 pb-20 lg:pb-8 print:p-0 print:w-full","data-testid":"main-content",children:e})]}),i.jsx(H$,{isOpen:a,onClose:o})]})}function K$(){const{groupId:e}=lo(),[,t]=Cu(),{toast:n}=wt(),r=Gt(),{user:s}=Yt(),[a,o]=m.useState(!1),[l,c]=m.useState({name:"",description:""}),[d,f]=m.useState(!1),[u,h]=m.useState(""),[w,b]=m.useState([]),[x,v]=m.useState(!1),[p,g]=m.useState(new Set),{data:y,isLoading:j}=Le({queryKey:[`/api/groups/${e}`],enabled:!!e}),{data:N,isLoading:P}=Le({queryKey:[`/api/groups/${e}/members`],enabled:!!e}),E=m.useMemo(()=>{if(!(s!=null&&s.id)||!y||!N)return!1;const I=N.find(ce=>ce.id===s.id);return s.id===y.creatorId||(I==null?void 0:I.role)==="admin"},[s==null?void 0:s.id,y==null?void 0:y.creatorId,N]),{data:_}=Le({queryKey:[`/api/join-requests/group/${e}`],enabled:!!e&&!!y&&E}),{data:O}=Le({queryKey:["/api/households/mine"],enabled:!!(s!=null&&s.id)}),{hasPremium:k,canAccessFeature:F}=hc();m.useEffect(()=>{y&&c({name:y.name||"",description:y.description||""})},[y]);const R=Ie({mutationFn:async I=>(await me("PATCH",`/api/groups/${e}`,I)).json(),onSuccess:()=>{n({title:"Success",description:"Group updated successfully"}),o(!1),r.invalidateQueries({queryKey:[`/api/groups/${e}`]}),r.invalidateQueries({queryKey:["/api/groups"]})},onError:()=>{n({title:"Error",description:"Failed to update group",variant:"destructive"})}}),T=Ie({mutationFn:async()=>await me("DELETE",`/api/groups/${e}`),onSuccess:()=>{n({title:"Success",description:"Group deleted successfully"}),t("/groups")},onError:()=>{n({title:"Error",description:"Failed to delete group",variant:"destructive"})}}),L=Ie({mutationFn:async({requestId:I,action:ce})=>(await me("PUT",`/api/join-requests/${I}/${ce}`,{})).json(),onSuccess:(I,{action:ce})=>{n({title:"Success",description:`Join request ${ce}d successfully`}),e&&(r.invalidateQueries({queryKey:[`/api/join-requests/group/${e}`]}),r.invalidateQueries({queryKey:[`/api/groups/${e}/members`]}))},onError:I=>{n({title:"Error",description:I.message||"Failed to process join request",variant:"destructive"})}}),z=Ie({mutationFn:async({userId:I,role:ce})=>(await me("PUT",`/api/users/${I}/role/group/${e}`,{role:ce})).json(),onSuccess:()=>{n({title:"Success",description:"Member role updated successfully"}),e&&r.invalidateQueries({queryKey:[`/api/groups/${e}/members`]})},onError:()=>{n({title:"Error",description:"Failed to update member role",variant:"destructive"})}}),H=(I,ce)=>{z.mutate({userId:I,role:ce})},J=Ie({mutationFn:async I=>(await me("DELETE",`/api/groups/${e}/members/${I}`)).json(),onSuccess:()=>{n({title:"Success",description:"Member removed from group successfully"}),e&&(r.invalidateQueries({queryKey:[`/api/groups/${e}/members`]}),r.invalidateQueries({queryKey:[`/api/groups/${e}`]}))},onError:I=>{n({title:"Error",description:I.message||"Failed to remove member from group",variant:"destructive"})}}),M=(I,ce)=>{window.confirm(`Are you sure you want to remove ${ce} from this group? This action cannot be undone.`)&&J.mutate(I)},B=Ie({mutationFn:async I=>(await me("DELETE",`/api/groups/${e}/households/${I}`)).json(),onSuccess:()=>{n({title:"Success",description:"Household removed from group successfully"}),e&&(r.invalidateQueries({queryKey:[`/api/groups/${e}/members`]}),r.invalidateQueries({queryKey:[`/api/groups/${e}`]}))},onError:I=>{n({title:"Error",description:I.message||"Failed to remove household from group",variant:"destructive"})}}),X=(I,ce)=>{window.confirm(`Are you sure you want to remove the entire "${ce}" household from this group? All household members will be removed. This action cannot be undone.`)&&B.mutate(I)},ae=Ie({mutationFn:async()=>(await me("DELETE",`/api/households/${O==null?void 0:O.id}/groups/${e}`)).json(),onSuccess:()=>{n({title:"Success",description:"Your household has left the group successfully"}),t("/groups")},onError:()=>{n({title:"Error",description:"Failed to remove household from group",variant:"destructive"})}}),Ee=()=>{R.mutate(l)},nt=()=>{y&&c({name:y.name||"",description:y.description||""}),o(!1)},at=()=>{window.confirm("Are you sure you want to delete this group? This action cannot be undone.")&&T.mutate()},Qt=()=>{window.confirm("Are you sure you want your entire household to leave this group? All household members will be removed.")&&ae.mutate()},bt=Ie({mutationFn:async I=>(await me("GET",`/api/search/households?q=${encodeURIComponent(I)}`)).json(),onSuccess:I=>{b(I||[]),v(!1)},onError:()=>{n({title:"Error",description:"Failed to search households",variant:"destructive"}),v(!1)}}),ie=Ie({mutationFn:async I=>{const ce=w.find(rt=>rt.id===I),$e=(ce==null?void 0:ce.name)||"Unknown Household",ge=N==null?void 0:N.find(rt=>rt.id===(s==null?void 0:s.id));if((ge==null?void 0:ge.role)==="admin"||(s==null?void 0:s.id)===(y==null?void 0:y.creatorId))return(await me("POST","/api/join-requests",{type:"group",targetId:e,householdId:I,message:`The ${$e} household has been invited to join ${y==null?void 0:y.name}`})).json();{const rt=N==null?void 0:N.find(ex=>ex.id===(s==null?void 0:s.id)),vo=[rt==null?void 0:rt.firstName,rt==null?void 0:rt.lastName].filter(Boolean).join(" ")||"A member";return(await me("POST","/api/join-requests",{type:"group",targetId:e,householdId:I,message:`${vo} has requested to invite the "${$e}" household to ${y==null?void 0:y.name}`})).json()}},onSuccess:()=>{const I=N==null?void 0:N.find($e=>$e.id===(s==null?void 0:s.id)),ce=(I==null?void 0:I.role)==="admin"||(s==null?void 0:s.id)===(y==null?void 0:y.creatorId);n({title:"Success",description:ce?"Household invitation sent successfully":"Invitation request sent to group admins for approval"}),f(!1),h(""),b([]),e&&(r.invalidateQueries({queryKey:[`/api/join-requests/group/${e}`]}),r.invalidateQueries({queryKey:[`/api/groups/${e}/members`]}))},onError:I=>{n({title:"Error",description:I.message||"Failed to send invitation",variant:"destructive"})}}),He=I=>{h(I),I.trim().length>=2?(v(!0),bt.mutate(I.trim())):b([])},ft=I=>{ie.mutate(I)},_e=m.useMemo(()=>{if(!N)return{householdGroups:[],ungroupedMembers:[]};const I=new Map,ce=[];return N.forEach($e=>{const ge=$e.household;if(ge){const Ot=ge.id;I.has(Ot)||I.set(Ot,{household:ge,members:[]}),I.get(Ot).members.push($e)}else ce.push($e)}),{householdGroups:Array.from(I.values()),ungroupedMembers:ce}},[N]),Te=I=>{const ce=new Set(p);ce.has(I)?ce.delete(I):ce.add(I),g(ce)};return j?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):y?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:"/groups",children:i.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Groups"]})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-2","data-testid":"text-group-settings-title",children:[i.jsx(rc,{className:"h-8 w-8"}),"Group Settings"]}),i.jsxs("p",{className:"text-muted-foreground",children:['Manage "',y.name,'" settings and members']})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[E&&_&&_.length>0&&i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-5 w-5"}),"Pending Join Requests (",_.length,")"]})}),i.jsx(de,{children:i.jsx("div",{className:"space-y-4",children:_.map(I=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`join-request-${I.id}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("p",{className:"font-medium","data-testid":"text-requester-name",children:[I.requester.firstName," ",I.requester.lastName]}),i.jsx(Ze,{variant:"outline",children:Tg(new Date(I.createdAt),{addSuffix:!0})})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-1","data-testid":"text-requester-email",children:I.requester.email}),I.message&&i.jsxs("p",{className:"text-sm text-muted-foreground italic","data-testid":"text-request-message",children:['"',I.message,'"']})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>L.mutate({requestId:I.id,action:"approve"}),disabled:L.isPending,"data-testid":"button-approve-request",children:[i.jsx(sg,{className:"h-4 w-4 mr-1"}),"Approve"]}),i.jsxs(D,{size:"sm",variant:"outline",onClick:()=>L.mutate({requestId:I.id,action:"deny"}),disabled:L.isPending,"data-testid":"button-deny-request",children:[i.jsx(ci,{className:"h-4 w-4 mr-1"}),"Deny"]})]})]},I.id))})})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Se,{"data-testid":"text-group-info-title",children:"Group Information"}),a?i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(D,{variant:"outline",onClick:nt,disabled:R.isPending,"data-testid":"button-cancel-edit",children:"Cancel"}),i.jsxs(D,{onClick:Ee,disabled:R.isPending,"data-testid":"button-save-group",children:[i.jsx(Zj,{className:"h-4 w-4 mr-2"}),R.isPending?"Saving...":"Save"]})]}):i.jsx(D,{onClick:()=>o(!0),"data-testid":"button-edit-group",children:"Edit Group"})]})}),i.jsxs(de,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"group-name",className:"block text-sm font-medium text-foreground mb-1",children:"Group Name"}),i.jsx(je,{id:"group-name",value:l.name,onChange:I=>c({...l,name:I.target.value}),disabled:!a,"data-testid":"input-group-name"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"group-description",className:"block text-sm font-medium text-foreground mb-1",children:"Description"}),i.jsx(Kr,{id:"group-description",rows:3,value:l.description,onChange:I=>c({...l,description:I.target.value}),disabled:!a,placeholder:"Enter a description for your group...","data-testid":"textarea-group-description"})]})]})]}),E&&i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2","data-testid":"text-print-labels-title",children:[i.jsx(tl,{className:"h-5 w-5"}),"Mailing Labels"]})}),i.jsxs(de,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate and print mailing labels for all group members' addresses."}),F("hasMailingLabels")?i.jsx(ct,{href:`/groups/${e}/labels`,children:i.jsxs(D,{className:"w-full","data-testid":"button-print-labels",children:[i.jsx(tl,{className:"h-4 w-4 mr-2"}),"Print Labels"]})}):i.jsx(so,{feature:"Mailing Labels",description:"Generate and print professional mailing labels with all group member addresses. Perfect for sending invitations, holiday cards, or important updates.",showInline:!0})]})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center justify-between","data-testid":"text-members-title",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sn,{className:"h-5 w-5"}),"Members (",(N==null?void 0:N.length)||0,")"]}),i.jsxs(D,{onClick:()=>f(!0),variant:"outline",size:"sm",className:"text-sm","data-testid":"button-invite-household",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),"Invite Household"]})]})}),i.jsx(de,{children:P?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):N&&N.length>0?i.jsxs("div",{className:"space-y-3",children:[_e.householdGroups.map(I=>{var $e;const ce=p.has(I.household.id);return i.jsxs("div",{className:"border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-t-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>Te(I.household.id),"data-testid":`household-header-${I.household.id}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[ce?i.jsx(eg,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(fT,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(zt,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:I.household.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.members.length," member",I.members.length!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ct,{href:`/household/${I.household.id}`,children:i.jsx(D,{variant:"ghost",size:"sm",className:"text-xs","data-testid":`button-view-household-${I.household.id}`,onClick:ge=>{ge.stopPropagation()},children:"View Household"})}),((s==null?void 0:s.id)===(y==null?void 0:y.creatorId)||(($e=N==null?void 0:N.find(ge=>ge.id===(s==null?void 0:s.id)))==null?void 0:$e.role)==="admin")&&I.household.id!==(O==null?void 0:O.id)&&i.jsxs(D,{variant:"ghost",size:"sm",className:"text-xs text-destructive hover:text-destructive","data-testid":`button-remove-household-${I.household.id}`,onClick:ge=>{ge.stopPropagation(),X(I.household.id,I.household.name)},disabled:B.isPending&&B.variables===I.household.id,children:[B.isPending&&B.variables===I.household.id?i.jsx(tg,{className:"h-3 w-3 animate-spin"}):i.jsx(ci,{className:"h-3 w-3"}),"Remove Household"]})]})]}),ce&&i.jsx("div",{className:"p-3 space-y-3 bg-background rounded-b-lg",children:I.members.map(ge=>{var Ot;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg ml-6","data-testid":`member-${ge.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:ge.profileImageUrl||`https://ui-avatars.com/api/?name=${ge.firstName}+${ge.lastName}`,alt:`${ge.firstName} ${ge.lastName}`,className:"w-8 h-8 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-foreground",children:[ge.firstName," ",ge.lastName]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:ge.email})]})]}),i.jsx("div",{className:"flex flex-col items-end gap-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:ge.role==="admin"?"default":"secondary",children:ge.role==="admin"?"Admin":"Member"}),s&&ge.id===s.id&&i.jsx(Ze,{variant:"outline",children:"You"}),E&&(s==null?void 0:s.id)&&ge.id!==s.id&&i.jsxs(Fi,{value:ge.role||"member",onValueChange:rt=>H(ge.id,rt),children:[i.jsx(Us,{className:"w-24 h-8 text-xs",children:i.jsx(Dv,{className:"h-3 w-3"})}),i.jsxs(Bs,{children:[i.jsx(nn,{value:"member",children:"Member"}),i.jsx(nn,{value:"admin",children:"Admin"})]})]}),(s==null?void 0:s.id)&&(s.id===(y==null?void 0:y.creatorId)||((Ot=N==null?void 0:N.find(rt=>rt.id===s.id))==null?void 0:Ot.role)==="admin")&&ge.id!==s.id&&i.jsx(D,{size:"sm",variant:"outline",onClick:()=>M(ge.id,`${ge.firstName} ${ge.lastName}`),disabled:J.isPending,className:"h-8 w-8 p-0 text-destructive hover:text-destructive","data-testid":`button-remove-member-${ge.id}`,children:J.isPending&&J.variables===ge.id?i.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-current border-t-transparent"}):i.jsx(ci,{className:"h-3 w-3"})})]})})]},ge.id)})})]},I.household.id)}),_e.ungroupedMembers.length>0&&i.jsxs("div",{className:"border rounded-lg",children:[i.jsx("div",{className:"p-3 bg-muted/30 rounded-t-lg",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sn,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Individual Members"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[_e.ungroupedMembers.length," member",_e.ungroupedMembers.length!==1?"s":""," not in households"]})]})]})}),i.jsx("div",{className:"p-3 space-y-3 bg-background rounded-b-lg",children:_e.ungroupedMembers.map(I=>{var ce;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":`ungrouped-member-${I.id}`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:I.profileImageUrl||`https://ui-avatars.com/api/?name=${I.firstName}+${I.lastName}`,alt:`${I.firstName} ${I.lastName}`,className:"w-8 h-8 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-foreground",children:[I.firstName," ",I.lastName]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:I.email})]})]}),i.jsx("div",{className:"flex flex-col items-end gap-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ze,{variant:I.role==="admin"?"default":"secondary",children:I.role==="admin"?"Admin":"Member"}),s&&I.id===s.id&&i.jsx(Ze,{variant:"outline",children:"You"}),E&&(s==null?void 0:s.id)&&I.id!==s.id&&i.jsxs(Fi,{value:I.role||"member",onValueChange:$e=>H(I.id,$e),children:[i.jsx(Us,{className:"w-24 h-8 text-xs",children:i.jsx(Dv,{className:"h-3 w-3"})}),i.jsxs(Bs,{children:[i.jsx(nn,{value:"member",children:"Member"}),i.jsx(nn,{value:"admin",children:"Admin"})]})]}),(s==null?void 0:s.id)&&(s.id===(y==null?void 0:y.creatorId)||((ce=N==null?void 0:N.find($e=>$e.id===s.id))==null?void 0:ce.role)==="admin")&&I.id!==s.id&&i.jsx(D,{size:"sm",variant:"outline",onClick:()=>M(I.id,`${I.firstName} ${I.lastName}`),disabled:J.isPending,className:"h-8 w-8 p-0 text-destructive hover:text-destructive","data-testid":`button-remove-member-${I.id}`,children:J.isPending&&J.variables===I.id?i.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-current border-t-transparent"}):i.jsx(ci,{className:"h-3 w-3"})})]})})]},I.id)})})]},"ungrouped-members")]}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No members found"})})})]}),i.jsx(an,{open:d,onOpenChange:f,children:i.jsxs(Ht,{className:"sm:max-w-md",children:[i.jsx(Wt,{children:i.jsxs(qt,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"h-5 w-5"}),"Invite Household to Group"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"household-search",className:"block text-sm font-medium text-foreground mb-2",children:"Search for households"}),i.jsx(je,{id:"household-search",value:u,onChange:I=>He(I.target.value),placeholder:"Type household name to search...",className:"w-full","data-testid":"input-household-search"})]}),x&&i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),w.length>0&&i.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Found ",w.length," household(s):"]}),w.map(I=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":`household-result-${I.id}`,children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:I.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.memberCount," member(s)"]})]}),i.jsx(D,{onClick:()=>ft(I.id),disabled:ie.isPending,size:"sm","data-testid":`button-invite-${I.id}`,children:ie.isPending?"Inviting...":"Invite"})]},I.id))]}),u.length>=2&&!x&&w.length===0&&i.jsx("div",{className:"text-center py-4",children:i.jsxs("p",{className:"text-muted-foreground",children:['No households found matching "',u,'"']})}),i.jsx("div",{className:"flex justify-end gap-2 pt-4",children:i.jsx(D,{variant:"outline",onClick:()=>{f(!1),h(""),b([])},children:"Cancel"})})]})]})})]}),s&&s.id!==(y==null?void 0:y.creatorId)?i.jsx("div",{className:"space-y-6",children:O&&s.id===O.ownerId?i.jsxs(le,{className:"border-orange-500",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-orange-600 flex items-center gap-2","data-testid":"text-household-leave-group-title",children:[i.jsx(zt,{className:"h-5 w-5"}),"Remove Household from Group"]})}),i.jsxs(de,{children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Remove your entire household (",O.name,") from this group. All household members will be removed."]}),i.jsxs(D,{variant:"outline",onClick:Qt,disabled:ae.isPending,className:"w-full border-orange-500 text-orange-600 hover:bg-orange-50","data-testid":"button-household-leave-group",children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),ae.isPending?"Removing Household...":"Remove Household from Group"]})]})]}):i.jsxs(le,{className:"border-blue-500",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-blue-600 flex items-center gap-2","data-testid":"text-non-owner-info-title",children:[i.jsx(Yj,{className:"h-5 w-5"}),"Group Membership"]})}),i.jsxs(de,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Only your household owner can remove the household from this group. Contact your household owner to request removal."}),i.jsxs(D,{variant:"outline",disabled:!0,className:"w-full border-blue-500 text-blue-600","data-testid":"button-non-owner-disabled",children:[i.jsx(zt,{className:"h-4 w-4 mr-2"}),"Ask Household Owner to Remove"]})]})]})}):s&&y&&i.jsxs(le,{className:"border-blue-500",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-blue-600 flex items-center gap-2","data-testid":"text-creator-info-title",children:[i.jsx(Ii,{className:"h-5 w-5"}),"Group Creator"]})}),i.jsxs(de,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"As the group creator, you cannot leave the group. To leave, you must first transfer ownership to another member or delete the group."}),i.jsxs(D,{variant:"outline",disabled:!0,className:"w-full border-blue-500 text-blue-600","data-testid":"button-creator-cannot-leave",children:[i.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Transfer Ownership to Leave"]})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(le,{className:"border-destructive",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"text-destructive flex items-center gap-2","data-testid":"text-danger-zone-title",children:[i.jsx(Dd,{className:"h-5 w-5"}),"Danger Zone"]})}),i.jsxs(de,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Permanently delete this group and all its messages. This action cannot be undone."}),i.jsxs(D,{variant:"destructive",onClick:at,disabled:T.isPending,className:"w-full","data-testid":"button-delete-group",children:[i.jsx(Dd,{className:"h-4 w-4 mr-2"}),T.isPending?"Deleting...":"Delete Group"]})]})]})})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Group not found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The group you're looking for doesn't exist."}),i.jsx(ct,{href:"/groups",children:i.jsx(D,{children:"Back to Groups"})})]})}function G$(){const t=lo().id,{data:n,isLoading:r}=Le({queryKey:[`/api/households/${t}`],enabled:!!t}),{data:s,isLoading:a}=Le({queryKey:[`/api/households/${t}/members`],enabled:!!t});if(r||a)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Household not found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The household you're looking for doesn't exist or you don't have access to it."}),i.jsx(ct,{href:"/groups",children:i.jsxs(D,{variant:"outline",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Groups"]})})]});const o=[n.street,n.city,n.state,n.zipCode,n.country].filter(Boolean).join(", ");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:"/groups",children:i.jsxs(D,{variant:"outline",size:"sm",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back"]})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-2","data-testid":"text-household-title",children:[i.jsx(zt,{className:"h-8 w-8"}),n.name]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Household Information"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2","data-testid":"text-household-info-title",children:[i.jsx(Nl,{className:"h-5 w-5"}),"Household Details"]})}),i.jsxs(de,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Name"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-household-name",children:n.name})]}),o&&i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Address"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-household-address",children:o})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"Members"}),i.jsxs("p",{className:"text-muted-foreground",children:[(s==null?void 0:s.length)||0," member",(s==null?void 0:s.length)!==1?"s":""]})]})]})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2","data-testid":"text-members-title",children:[i.jsx(sn,{className:"h-5 w-5"}),"Household Members"]})}),i.jsx(de,{children:s&&s.length>0?i.jsx("div",{className:"space-y-3",children:s.map(l=>i.jsx("div",{className:"p-3 bg-muted rounded-lg","data-testid":`member-${l.id}`,children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("img",{src:l.profileImageUrl||`https://ui-avatars.com/api/?name=${l.firstName}+${l.lastName}`,alt:`${l.firstName} ${l.lastName}`,className:"w-12 h-12 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("p",{className:"font-medium text-foreground",children:[l.firstName," ",l.lastName]}),i.jsx(Ze,{variant:l.role==="owner"?"default":"secondary",className:"text-xs",children:l.role==="owner"?"Head of Household":"Member"})]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[l.email&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(ng,{className:"h-3 w-3"}),i.jsx("span",{children:l.email})]}),l.phone&&l.showPhone&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Qj,{className:"h-3 w-3"}),i.jsx("span",{children:l.phone})]}),l.birthday&&l.showBirthday&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(yr,{className:"h-3 w-3"}),i.jsx("span",{children:new Date(l.birthday).toLocaleDateString()})]})]})]})]})},l.id))}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No members found"})})})]})]})]})}function Y$(){const{token:e}=lo(),[,t]=Cu(),{toast:n}=wt(),{user:r,isLoading:s}=Yt(),[a,o]=m.useState("pending"),{data:l,isLoading:c,error:d}=Le({queryKey:[`/api/invitations/${e}`],enabled:!!e,retry:!1}),f=Ie({mutationFn:async()=>(await me("POST",`/api/invitations/${e}/accept`)).json(),onSuccess:()=>{o("accepted"),n({title:"Welcome to My Branches!",description:"You've successfully joined the app. You can now create or join households."}),setTimeout(()=>{t("/")},3e3)},onError:u=>{o("error"),n({title:"Error accepting invitation",description:u.message||"Something went wrong. Please try again.",variant:"destructive"})}});return m.useEffect(()=>{!s&&r&&l&&a==="pending"&&f.mutate()},[s,r,l,a]),s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):r?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:i.jsxs(le,{className:"w-full max-w-md",children:[i.jsxs(Ne,{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a==="accepted"?i.jsx(Gj,{className:"w-8 h-8 text-green-600"}):a==="error"?i.jsx(wm,{className:"w-8 h-8 text-destructive"}):i.jsx(Ti,{className:"w-8 h-8 text-primary"})}),i.jsx(Se,{children:a==="accepted"?"Welcome!":a==="error"?"Error":"Processing Invitation..."})]}),i.jsx(de,{className:"text-center space-y-4",children:a==="accepted"?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground",children:"You've successfully joined My Branches! Redirecting you to the dashboard..."}),i.jsx("div",{className:"animate-pulse text-sm text-muted-foreground",children:"Welcome to the family collaboration platform!"})]}):a==="error"?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-destructive",children:"There was an error processing your invitation."}),i.jsx(D,{onClick:()=>t("/"),className:"w-full",children:"Go to Dashboard"})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground",children:"Processing your invitation to join My Branches..."}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"})})]})})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:i.jsxs(le,{className:"w-full max-w-md",children:[i.jsxs(Ne,{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Vr,{className:"w-8 h-8 text-primary"})}),i.jsx(Se,{children:"Join My Branches"})]}),i.jsx(de,{className:"text-center space-y-4",children:l?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-muted-foreground",children:[l.firstName," ",l.lastName," has invited you to join My Branches!"]}),l.message&&i.jsx("div",{className:"bg-muted p-3 rounded-lg",children:i.jsxs("p",{className:"text-sm italic",children:['"',l.message,'"']})}),i.jsx(D,{asChild:!0,className:"w-full",children:i.jsx("a",{href:"/api/login",children:"Sign In to Accept Invitation"})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Don't have an account? Signing in will create one for you."})]}):c?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full"}),i.jsx("span",{className:"ml-2",children:"Loading invitation..."})]}):i.jsxs("div",{className:"text-center",children:[i.jsx(wm,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),i.jsx("p",{className:"text-destructive",children:"This invitation is invalid or has expired."}),i.jsx(D,{asChild:!0,className:"mt-4",children:i.jsx("a",{href:"/",children:"Go to My Branches"})})]})})]})})}var oh="rovingFocusGroup.onEntryFocus",Q$={bubbles:!1,cancelable:!0},Xu="RovingFocusGroup",[Ym,fk,Z$]=Qp(Xu),[X$,hk]=Fn(Xu,[Z$]),[J$,e5]=X$(Xu),mk=m.forwardRef((e,t)=>i.jsx(Ym.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Ym.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(t5,{...e,ref:t})})}));mk.displayName=Xu;var t5=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...u}=e,h=m.useRef(null),w=Ve(t,h),b=Ig(a),[x=null,v]=Ms({prop:o,defaultProp:l,onChange:c}),[p,g]=m.useState(!1),y=xn(d),j=fk(n),N=m.useRef(!1),[P,E]=m.useState(0);return m.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(oh,y),()=>_.removeEventListener(oh,y)},[y]),i.jsx(J$,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(_=>v(_),[v]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:m.useCallback(()=>E(_=>_-1),[]),children:i.jsx(pe.div,{tabIndex:p||P===0?-1:0,"data-orientation":r,...u,ref:w,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{N.current=!0}),onFocus:oe(e.onFocus,_=>{const O=!N.current;if(_.target===_.currentTarget&&O&&!p){const k=new CustomEvent(oh,Q$);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const F=j().filter(H=>H.focusable),R=F.find(H=>H.active),T=F.find(H=>H.id===x),z=[R,T,...F].filter(Boolean).map(H=>H.ref.current);xk(z,f)}}N.current=!1}),onBlur:oe(e.onBlur,()=>g(!1))})})}),pk="RovingFocusGroupItem",gk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=Ps(),c=a||l,d=e5(pk,n),f=d.currentTabStopId===c,u=fk(n),{onFocusableItemAdd:h,onFocusableItemRemove:w}=d;return m.useEffect(()=>{if(r)return h(),()=>w()},[r,h,w]),i.jsx(Ym.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:oe(e.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=s5(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let p=u().filter(g=>g.focusable).map(g=>g.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const g=p.indexOf(b.currentTarget);p=d.loop?i5(p,g+1):p.slice(g+1)}setTimeout(()=>xk(p))}})})})});gk.displayName=pk;var n5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function s5(e,t,n){const r=r5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n5[r]}function xk(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function i5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var a5=mk,o5=gk,Xg="Tabs",[l5,P5]=Fn(Xg,[hk]),vk=hk(),[c5,Jg]=l5(Xg),yk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=Ig(l),[u,h]=Ms({prop:r,onChange:s,defaultProp:a});return i.jsx(c5,{scope:n,baseId:Ps(),value:u,onValueChange:h,orientation:o,dir:f,activationMode:c,children:i.jsx(pe.div,{dir:f,"data-orientation":o,...d,ref:t})})});yk.displayName=Xg;var wk="TabsList",bk=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Jg(wk,n),o=vk(n);return i.jsx(a5,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(pe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});bk.displayName=wk;var jk="TabsTrigger",Nk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=Jg(jk,n),l=vk(n),c=kk(o.baseId,r),d=Ek(o.baseId,r),f=r===o.value;return i.jsx(o5,{asChild:!0,...l,focusable:!s,active:f,children:i.jsx(pe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:oe(e.onMouseDown,u=>{!s&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:oe(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const u=o.activationMode!=="manual";!f&&!s&&u&&o.onValueChange(r)})})})});Nk.displayName=jk;var Sk="TabsContent",Ck=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=Jg(Sk,n),c=kk(l.baseId,r),d=Ek(l.baseId,r),f=r===l.value,u=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Qs,{present:s||f,children:({present:h})=>i.jsx(pe.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:h&&a})})});Ck.displayName=Sk;function kk(e,t){return`${e}-trigger-${t}`}function Ek(e,t){return`${e}-content-${t}`}var d5=yk,_k=bk,Pk=Nk,Tk=Ck;const u5=d5,Ik=m.forwardRef(({className:e,...t},n)=>i.jsx(_k,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ik.displayName=_k.displayName;const Vo=m.forwardRef(({className:e,...t},n)=>i.jsx(Pk,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vo.displayName=Pk.displayName;const Ho=m.forwardRef(({className:e,...t},n)=>i.jsx(Tk,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ho.displayName=Tk.displayName;function f5(){const{groupId:e}=lo(),{hasPremium:t,canAccessFeature:n}=hc();m.useState(!1);const[r,s]=m.useState(!1),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[d,f]=m.useState(!1),{data:u,isLoading:h,error:w}=Le({queryKey:[`/api/groups/${e}/mailing-labels`],enabled:!!e&&t}),b=(u==null?void 0:u.filter(y=>y.street&&y.city&&y.state&&y.zipCode))||[],x=(u==null?void 0:u.filter(y=>!y.street||!y.city||!y.state||!y.zipCode))||[],v=[];for(let y=0;y<b.length;y+=30)v.push(b.slice(y,y+30));const p=()=>{s(!1),o(!1),c(!1),f(!1),setTimeout(()=>{window.print()},100)},g=()=>{o(!0),s(!0),setTimeout(()=>{window.print()},100)};if(!t||!n("hasMailingLabels"))return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:`/groups/${e}/settings`,children:i.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Group Settings"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-labels-title",children:"Mailing Labels"}),i.jsx("p",{className:"text-muted-foreground",children:"Premium feature required"})]})]}),i.jsx(so,{feature:"Mailing Labels",description:"Generate printable mailing labels for all households in your group. Perfect for holiday cards and invitations."})]});if(h)return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:`/groups/${e}/settings`,children:i.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Group Settings"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mailing Labels"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading addresses..."})]})]}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]});if(w){const y=w,j=y==null?void 0:y.requiresUpgrade;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:`/groups/${e}/settings`,children:i.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Group Settings"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mailing Labels"}),i.jsx("p",{className:"text-muted-foreground",children:"Error loading addresses"})]})]}),j?i.jsx(so,{feature:"Mailing Labels",description:"Generate printable mailing labels for all households in your group. Perfect for holiday cards and invitations."}):i.jsx(le,{children:i.jsx(de,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(nl,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Unable to load mailing labels"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"There was an error loading the mailing addresses for this group."}),i.jsx(D,{onClick:()=>window.location.reload(),children:"Try Again"})]})})})]})}return!u||u.length===0?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:`/groups/${e}/settings`,children:i.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Group Settings"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mailing Labels"}),i.jsx("p",{className:"text-muted-foreground",children:"No households found"})]})]}),i.jsx(le,{children:i.jsx(de,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(tl,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No households to print"}),i.jsx("p",{className:"text-muted-foreground",children:"This group doesn't have any households with mailing addresses set up yet."})]})})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"print:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ct,{href:`/groups/${e}/settings`,children:i.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back",children:[i.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Back to Group Settings"]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-labels-title",children:"Mailing Labels"}),i.jsx(Ze,{variant:"outline",className:"text-xs",children:"Avery 5160"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[b.length," addresses ready"]}),v.length>1&&i.jsxs("span",{children:[v.length," sheets needed"]}),i.jsx("span",{children:""}),i.jsx("span",{children:'2.625"  1" labels'}),i.jsx("span",{children:""}),i.jsx("span",{children:"30 per sheet"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(D,{onClick:g,variant:"outline","data-testid":"button-test-print",children:[i.jsx(Mc,{className:"h-4 w-4 mr-2"}),"Test Print"]}),i.jsxs(D,{onClick:p,"data-testid":"button-print",size:"lg",children:[i.jsx(tl,{className:"h-4 w-4 mr-2"}),"Print Labels"]})]})]}),i.jsxs(le,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950/20 dark:border-orange-800",children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[i.jsx(Mc,{className:"h-5 w-5"}),"Alignment Testing Tools",i.jsx(Ze,{variant:"secondary",className:"text-xs ml-2",children:"Recommended"})]})}),i.jsxs(de,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(It,{id:"alignment-grid",checked:r,onCheckedChange:s,"data-testid":"switch-alignment-grid"}),i.jsxs(st,{htmlFor:"alignment-grid",className:"flex items-center gap-2",children:[i.jsx(vT,{className:"h-4 w-4"}),"Grid Overlay"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(It,{id:"test-pattern",checked:a,onCheckedChange:o,"data-testid":"switch-test-pattern"}),i.jsxs(st,{htmlFor:"test-pattern",className:"flex items-center gap-2",children:[i.jsx(Mc,{className:"h-4 w-4"}),"Test Pattern"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(It,{id:"measurements",checked:l,onCheckedChange:c,"data-testid":"switch-measurements"}),i.jsxs(st,{htmlFor:"measurements",className:"flex items-center gap-2",children:[i.jsx(Lv,{className:"h-4 w-4"}),"Measurements"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(It,{id:"preview-mode",checked:d,onCheckedChange:f,"data-testid":"switch-preview-mode"}),i.jsxs(st,{htmlFor:"preview-mode",className:"flex items-center gap-2",children:[i.jsx(bm,{className:"h-4 w-4"}),"Print Preview"]})]})]}),i.jsxs("div",{className:"mt-4 text-sm text-orange-700 dark:text-orange-300",children:[" ",i.jsx("strong",{children:"Tip:"}),' Before printing your labels, use "Test Print" with Grid Overlay and Test Pattern enabled to verify alignment on a plain sheet of paper.']})]})]}),x.length>0&&i.jsxs(au,{children:[i.jsx(nl,{className:"h-4 w-4"}),i.jsxs(ou,{children:[i.jsx("strong",{children:"Missing address information:"})," ",x.length," household(s) have incomplete addresses and won't be printed:"," ",x.map(y=>y.name).join(", "),". Please ask these households to complete their address information in their household settings."]})]}),i.jsxs(le,{children:[i.jsx(Ne,{children:i.jsxs(Se,{className:"flex items-center gap-2",children:[i.jsx(rc,{className:"h-5 w-5"}),"Printing Guide & Troubleshooting"]})}),i.jsx(de,{children:i.jsxs(u5,{defaultValue:"instructions",className:"w-full",children:[i.jsxs(Ik,{className:"grid w-full grid-cols-4",children:[i.jsx(Vo,{value:"instructions","data-testid":"tab-instructions",children:"Instructions"}),i.jsx(Vo,{value:"troubleshooting","data-testid":"tab-troubleshooting",children:"Troubleshooting"}),i.jsx(Vo,{value:"testing","data-testid":"tab-testing",children:"Test Process"}),i.jsx(Vo,{value:"specifications","data-testid":"tab-specifications",children:"Specifications"})]}),i.jsx(Ho,{value:"instructions",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(tl,{className:"h-4 w-4"}),"Required Print Settings"]}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:" Critical Settings"}),i.jsxs("ul",{className:"space-y-1 text-green-700 dark:text-green-300 text-xs",children:[i.jsx("li",{children:' Scale: "Actual size" or "100%" (NOT "Fit to page")'}),i.jsx("li",{children:" Orientation: Portrait"}),i.jsx("li",{children:" Margins: None/Borderless"}),i.jsx("li",{children:' Paper: 8.5"  11" / Letter'})]})]})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(Mc,{className:"h-4 w-4"}),"Label Information"]}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Avery 5160 Specifications"}),i.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300 text-xs",children:[i.jsx("li",{children:" 30 labels per sheet (3 columns  10 rows)"}),i.jsx("li",{children:' Each label: 2.625" wide  1" tall'}),i.jsx("li",{children:" Compatible brands: Avery, Office Depot, Amazon Basics"}),i.jsx("li",{children:" Alternative codes: 8160, 18160, 48160"})]})]})})]})]})}),i.jsx(Ho,{value:"troubleshooting",className:"space-y-4",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[i.jsxs("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2 flex items-center gap-2",children:[i.jsx(nl,{className:"h-4 w-4"}),"Common Alignment Issues"]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:"Problem: Labels print too small or too large"}),i.jsx("div",{className:"text-yellow-600 dark:text-yellow-400",children:'Solution: Check print scale is set to "Actual size" or "100%". Disable "Fit to page" or "Shrink to fit".'})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:"Problem: Labels are shifted left/right"}),i.jsx("div",{className:"text-yellow-600 dark:text-yellow-400",children:"Solution: Ensure printer margins are set to 0. Try different paper guides in your printer."})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:"Problem: Labels are shifted up/down"}),i.jsx("div",{className:"text-yellow-600 dark:text-yellow-400",children:'Solution: Check paper is properly aligned in printer tray. Some printers need a 0.1" top margin adjustment.'})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:"Problem: Text appears blurry or pixelated"}),i.jsx("div",{className:"text-yellow-600 dark:text-yellow-400",children:'Solution: Select "High Quality" or "Best" print mode. Ensure ink/toner levels are adequate.'})]})]})]})})}),i.jsx(Ho,{value:"testing",className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[i.jsx(mT,{className:"h-4 w-4"}),"Step-by-Step Test Process"]}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-sm pl-4",children:[i.jsx("li",{className:"flex items-start gap-2",children:i.jsxs("span",{className:"font-medium min-w-0 flex-1",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Enable Testing Tools:"}),' Turn on "Grid Overlay" and "Test Pattern" using the switches above.']})}),i.jsx("li",{className:"flex items-start gap-2",children:i.jsxs("span",{className:"font-medium min-w-0 flex-1",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Test Print:"}),` Click "Test Print" to print alignment guides on plain paper (don't waste label sheets!).`]})}),i.jsx("li",{className:"flex items-start gap-2",children:i.jsxs("span",{className:"font-medium min-w-0 flex-1",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Check Alignment:"})," Place the test print over a label sheet and hold up to light to verify alignment."]})}),i.jsx("li",{className:"flex items-start gap-2",children:i.jsxs("span",{className:"font-medium min-w-0 flex-1",children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Adjust if Needed:"})," If misaligned, check printer settings and try different paper positioning."]})}),i.jsx("li",{className:"flex items-start gap-2",children:i.jsxs("span",{className:"font-medium min-w-0 flex-1",children:[i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Final Print:"}),' When alignment is perfect, disable testing tools and click "Print Labels".']})})]}),i.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 text-sm mb-1",children:" Pro Tips"}),i.jsxs("ul",{className:"text-xs text-green-700 dark:text-green-300 space-y-1",children:[i.jsx("li",{children:" Test on 2-3 sheets of plain paper before using expensive label sheets"}),i.jsx("li",{children:" Keep your first successful test print as a template for future batches"}),i.jsx("li",{children:" Different printers may need slight adjustments - document what works for yours"})]})]})]})}),i.jsx(Ho,{value:"specifications",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[i.jsx(Lv,{className:"h-4 w-4"}),"Exact Measurements"]}),i.jsxs("div",{className:"font-mono text-sm bg-gray-50 dark:bg-gray-900 p-4 rounded-lg space-y-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Sheet Size:"}),' 8.5"  11" (Letter)']}),i.jsxs("div",{children:[i.jsx("strong",{children:"Label Size:"}),' 2.625"  1.000"']}),i.jsxs("div",{children:[i.jsx("strong",{children:"Columns:"}),' 3 (spacing: 0.125")']}),i.jsxs("div",{children:[i.jsx("strong",{children:"Rows:"})," 10 (no spacing)"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Top Margin:"}),' 0.5"']}),i.jsxs("div",{children:[i.jsx("strong",{children:"Side Margins:"}),' 0.1875" each']}),i.jsxs("div",{children:[i.jsx("strong",{children:"Labels per Sheet:"})," 30"]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"Compatible Products"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("div",{className:"font-medium",children:"Avery Products"}),i.jsx("div",{className:"text-muted-foreground",children:"5160, 8160, 18160, 48160, 5960"})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("div",{className:"font-medium",children:"Office Depot"}),i.jsx("div",{className:"text-muted-foreground",children:"Brand 505-O004-0007, OME-LBL-160"})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("div",{className:"font-medium",children:"Amazon Basics"}),i.jsx("div",{className:"text-muted-foreground",children:"White Address Labels"})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("div",{className:"font-medium",children:"Generic/Store Brand"}),i.jsx("div",{className:"text-muted-foreground",children:'Look for "2"  1" format'})]})]})]})]})})]})})]})]}),i.jsxs("div",{className:`avery-5160-container print:block ${r?"show-alignment-grid":""} ${l?"show-measurements":""} ${d?"print-preview-mode":""}`,children:[v.map((y,j)=>i.jsxs("div",{className:`avery-5160-page ${j<v.length-1?"page-break-after":""}`,children:[y.map((N,P)=>i.jsxs("div",{className:"avery-5160-label","data-testid":`label-${j*30+P}`,children:[a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"corner-marker top-left"}),i.jsx("div",{className:"corner-marker top-right"}),i.jsx("div",{className:"corner-marker bottom-left"}),i.jsx("div",{className:"corner-marker bottom-right"})]}),l&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"measurement-guide horizontal-top",children:'2.625"'}),i.jsx("div",{className:"measurement-guide vertical-left",children:'1"'})]}),i.jsx("div",{className:"label-content",children:a?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"test-pattern-content",children:[i.jsxs("div",{className:"text-xs font-bold",children:["#",j*30+P+1]}),i.jsx("div",{className:"text-xs",children:'2.625"  1"'}),i.jsx("div",{className:"text-xs",children:"Avery 5160"}),i.jsx("div",{className:"test-border"})]})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-semibold",children:N.name}),i.jsx("div",{children:N.street}),i.jsxs("div",{children:[N.city,", ",N.state," ",N.zipCode]}),N.country&&N.country!=="United States"&&i.jsx("div",{children:N.country})]})})]},N.id)),Array.from({length:Math.max(0,30-y.length)},(N,P)=>i.jsxs("div",{className:"avery-5160-label",children:[a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"corner-marker top-left"}),i.jsx("div",{className:"corner-marker top-right"}),i.jsx("div",{className:"corner-marker bottom-left"}),i.jsx("div",{className:"corner-marker bottom-right"}),i.jsx("div",{className:"label-content",children:i.jsxs("div",{className:"test-pattern-content",children:[i.jsxs("div",{className:"text-xs font-bold",children:["#",j*30+y.length+P+1]}),i.jsx("div",{className:"text-xs",children:"Empty"}),i.jsx("div",{className:"test-border"})]})})]}),l&&P===0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"measurement-guide horizontal-top",children:'2.625"'}),i.jsx("div",{className:"measurement-guide vertical-left",children:'1"'})]})]},`empty-${j}-${P}`))]},j)),v.length===0&&i.jsx("div",{className:"avery-5160-page",children:Array.from({length:30},(y,j)=>i.jsxs("div",{className:"avery-5160-label",children:[a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"corner-marker top-left"}),i.jsx("div",{className:"corner-marker top-right"}),i.jsx("div",{className:"corner-marker bottom-left"}),i.jsx("div",{className:"corner-marker bottom-right"}),i.jsx("div",{className:"label-content",children:i.jsxs("div",{className:"test-pattern-content",children:[i.jsxs("div",{className:"text-xs font-bold",children:["#",j+1]}),i.jsx("div",{className:"text-xs",children:'2.625"  1"'}),i.jsx("div",{className:"text-xs",children:"Test Pattern"}),i.jsx("div",{className:"test-border"})]})})]}),l&&j===0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"measurement-guide horizontal-top",children:'2.625"'}),i.jsx("div",{className:"measurement-guide vertical-left",children:'1"'})]})]},`empty-${j}`))})]}),l&&i.jsxs("div",{className:"measurement-rulers print:hidden",children:[i.jsx("div",{className:"ruler ruler-horizontal",children:i.jsx("div",{className:"ruler-marks",children:Array.from({length:17},(y,j)=>i.jsx("div",{className:"ruler-mark",style:{left:`${j*.5/8.5*100}%`},children:i.jsxs("span",{className:"ruler-number",children:[j*.5,'"']})},j))})}),i.jsx("div",{className:"ruler ruler-vertical",children:i.jsx("div",{className:"ruler-marks",children:Array.from({length:23},(y,j)=>i.jsx("div",{className:"ruler-mark",style:{top:`${j*.5/11*100}%`},children:i.jsxs("span",{className:"ruler-number",children:[j*.5,'"']})},j))})})]}),d&&i.jsx("div",{className:"print-preview-indicator print:hidden",children:i.jsxs("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[i.jsx(bm,{className:"h-4 w-4 inline mr-2"}),"Print Preview Mode Active - This simulates how labels will appear when printed"]})}),i.jsx("style",{children:`
        /* Avery 5160 Label Sheet Specifications */
        .avery-5160-container {
          width: 8.5in;
          margin: 0 auto;
          position: relative;
        }

        .avery-5160-page {
          width: 8.5in;
          height: 11in;
          display: grid;
          grid-template-columns: repeat(3, 2.625in);
          grid-template-rows: repeat(10, 1in);
          grid-column-gap: 0.125in;
          grid-row-gap: 0;
          justify-content: start;
          padding: 0.5in 0.1875in;
          position: relative;
        }

        .page-break-after {
          page-break-after: always;
        }

        .avery-5160-label {
          width: 2.625in;
          height: 1in;
          border: 1px dashed #ccc;
          box-sizing: border-box;
          display: flex;
          align-items: center;
          justify-content: flex-start;
          position: relative;
          overflow: hidden;
        }

        .label-content {
          padding: 0.1in;
          width: 100%;
          height: 100%;
          font-family: Arial, sans-serif;
          font-size: 10pt;
          line-height: 1.2;
          overflow: hidden;
          position: relative;
          z-index: 2;
        }

        /* Test Pattern Styles */
        .test-pattern-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
          text-align: center;
          position: relative;
        }

        .test-border {
          position: absolute;
          top: 2px;
          left: 2px;
          right: 2px;
          bottom: 2px;
          border: 1px solid #666;
          pointer-events: none;
        }

        /* Corner Markers */
        .corner-marker {
          position: absolute;
          width: 6px;
          height: 6px;
          background: #ff0000;
          z-index: 3;
        }

        .corner-marker.top-left {
          top: 0;
          left: 0;
        }

        .corner-marker.top-right {
          top: 0;
          right: 0;
        }

        .corner-marker.bottom-left {
          bottom: 0;
          left: 0;
        }

        .corner-marker.bottom-right {
          bottom: 0;
          right: 0;
        }

        /* Measurement Guides */
        .measurement-guide {
          position: absolute;
          background: rgba(0, 123, 255, 0.8);
          color: white;
          font-size: 8px;
          font-weight: bold;
          z-index: 4;
          padding: 1px 3px;
          border-radius: 2px;
        }

        .measurement-guide.horizontal-top {
          top: -12px;
          left: 50%;
          transform: translateX(-50%);
          white-space: nowrap;
        }

        .measurement-guide.vertical-left {
          left: -20px;
          top: 50%;
          transform: translateY(-50%) rotate(-90deg);
          transform-origin: center;
          white-space: nowrap;
        }

        /* Print-specific styles */
        @media print {
          * {
            -webkit-print-color-adjust: exact !important;
            color-adjust: exact !important;
          }

          body {
            margin: 0 !important;
            padding: 0 !important;
            font-family: Arial, sans-serif;
          }

          .print\\:hidden {
            display: none !important;
          }

          .print\\:block {
            display: block !important;
          }

          .avery-5160-container {
            width: 8.5in !important;
            margin: 0 !important;
            padding: 0 !important;
          }

          .avery-5160-page {
            width: 8.5in !important;
            height: 11in !important;
            margin: 0 !important;
            padding: 0.5in 0.1875in !important;
            display: grid !important;
            grid-template-columns: repeat(3, 2.625in) !important;
            grid-template-rows: repeat(10, 1in) !important;
            grid-column-gap: 0.125in !important;
            grid-row-gap: 0 !important;
            justify-content: start !important;
          }

          .page-break-after {
            page-break-after: always !important;
          }

          .avery-5160-label {
            width: 2.625in !important;
            height: 1in !important;
            border: none !important;
            box-sizing: border-box !important;
            page-break-inside: avoid;
          }

          .label-content {
            padding: 0.1in !important;
            font-size: 10pt !important;
            line-height: 1.2 !important;
            color: #000 !important;
            width: 100% !important;
            height: 100% !important;
          }

          /* Test pattern elements - only show if enabled */
          .corner-marker {
            width: 2px !important;
            height: 2px !important;
            background: #000 !important;
          }

          .test-pattern-content {
            color: #000 !important;
            font-size: 8pt !important;
          }

          .test-border {
            border: 0.5px solid #000 !important;
          }

          /* Hide screen-only elements */
          .measurement-rulers,
          .measurement-guide,
          .print-preview-indicator {
            display: none !important;
          }

          /* Alignment grid for test prints */
          .show-alignment-grid .avery-5160-page::before {
            background-image: 
              repeating-linear-gradient(90deg, 
                transparent, 
                transparent calc(2.625in - 0.5px), 
                #000 2.625in, 
                #000 calc(2.625in + 0.5px)
              ),
              repeating-linear-gradient(0deg,
                transparent,
                transparent calc(1in - 0.5px),
                #000 1in,
                #000 calc(1in + 0.5px)
              ) !important;
          }

          @page {
            size: letter;
            margin: 0;
          }
        }

        /* Alignment Grid Overlay */
        .show-alignment-grid .avery-5160-page::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image: 
            repeating-linear-gradient(90deg, 
              transparent, 
              transparent calc(2.625in - 1px), 
              rgba(255, 0, 0, 0.3) 2.625in, 
              rgba(255, 0, 0, 0.3) calc(2.625in + 1px),
              transparent calc(2.625in + 2px),
              transparent calc(2.625in + 0.125in - 1px),
              rgba(255, 0, 0, 0.3) calc(2.625in + 0.125in),
              rgba(255, 0, 0, 0.3) calc(2.625in + 0.125in + 1px)
            ),
            repeating-linear-gradient(0deg,
              transparent,
              transparent calc(1in - 1px),
              rgba(255, 0, 0, 0.3) 1in,
              rgba(255, 0, 0, 0.3) calc(1in + 1px)
            );
          background-size: calc(2.625in + 0.125in) 1in;
          pointer-events: none;
          z-index: 1;
        }

        /* Enhanced borders for alignment testing */
        .show-alignment-grid .avery-5160-label {
          border: 2px solid #ff0000;
          border-style: solid;
        }

        /* Measurement Rulers */
        .measurement-rulers {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: 1;
        }

        .ruler {
          position: absolute;
          background: rgba(255, 255, 255, 0.9);
          border: 1px solid #007bff;
        }

        .ruler-horizontal {
          top: -25px;
          left: 0;
          width: 100%;
          height: 20px;
        }

        .ruler-vertical {
          left: -25px;
          top: 0;
          width: 20px;
          height: 100%;
        }

        .ruler-marks {
          position: relative;
          width: 100%;
          height: 100%;
        }

        .ruler-mark {
          position: absolute;
          background: #007bff;
        }

        .ruler-horizontal .ruler-mark {
          width: 1px;
          height: 8px;
          bottom: 0;
        }

        .ruler-vertical .ruler-mark {
          height: 1px;
          width: 8px;
          right: 0;
        }

        .ruler-number {
          position: absolute;
          font-size: 8px;
          color: #007bff;
          font-weight: bold;
        }

        .ruler-horizontal .ruler-number {
          bottom: 10px;
          left: 2px;
          white-space: nowrap;
        }

        .ruler-vertical .ruler-number {
          right: 10px;
          top: -3px;
          transform: rotate(-90deg);
          transform-origin: right center;
          white-space: nowrap;
        }

        /* Print Preview Mode */
        .print-preview-indicator {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1000;
        }

        .print-preview-mode .avery-5160-container {
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
          border: 2px solid #007bff;
        }

        .print-preview-mode .avery-5160-label {
          background: rgba(255, 255, 255, 0.95);
        }

        /* Screen-only styles */
        @media screen {
          .avery-5160-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
          }

          .avery-5160-page {
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            position: relative;
          }

          .avery-5160-page:last-child {
            margin-bottom: 0;
          }

          .avery-5160-label {
            border-color: #e2e8f0;
            transition: all 0.2s ease;
          }

          .avery-5160-label:hover {
            background: rgba(0, 123, 255, 0.05);
            border-color: #007bff;
          }

          .label-content {
            color: #1e293b;
          }

          /* Screen-only measurement and testing elements */
          .corner-marker {
            opacity: 0.8;
          }

          .measurement-guide {
            font-size: 9px;
          }

          /* Hide rulers and test elements on small screens */
          @media (max-width: 768px) {
            .measurement-rulers,
            .measurement-guide {
              display: none;
            }
            
            .corner-marker {
              width: 4px;
              height: 4px;
            }
          }
        }
      `})]})}function h5(){return m.useEffect(()=>{document.title="Privacy Policy - My Branches"},[]),i.jsx("div",{className:"min-h-screen bg-background",children:i.jsx("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:i.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[i.jsx("h1",{className:"text-4xl font-bold mb-6",children:"My Branches - Privacy Policy"}),i.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:i.jsx("strong",{children:"Effective Date: September 12, 2025"})}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Introduction"}),i.jsx("p",{children:'My Branches ("we," "us," or "our") is committed to protecting the privacy and security of our users and their families. This Privacy Policy explains how we collect, use, and protect your information when you use the My Branches family collaboration application (the "Service").'}),i.jsx("p",{children:i.jsx("strong",{children:"My Branches is designed specifically for families and prioritizes privacy, safety, and security for users of all ages."})}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Information We Collect"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Personal Information You Provide"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Account Information"}),": Name, email address, phone number, profile photo"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Family Information"}),": Household details, family member relationships, mailing addresses"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication Data"}),": Messages, photos, and content you share within your family groups"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Event Information"}),": Family events, tasks, and calendar data you create or participate in"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Information"}),": Billing details for premium subscriptions (processed securely by our payment partners)"]})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Information Collected Automatically"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Usage Data"}),": How you interact with the app features and navigation patterns"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Device Information"}),": Device type, operating system, browser type, unique device identifiers"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Location Data"}),": Only when you explicitly share your location for events or family coordination"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Technical Data"}),": IP address, app version, crash reports, and performance metrics"]})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Information from Third Parties"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Authentication Services"}),": Profile information from authentication providers (Replit Auth)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Processors"}),": Transaction information from Stripe and RevenueCat for subscription management"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Push Notification Services"}),": Device tokens from Firebase for delivering family notifications"]})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"How We Use Your Information"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Core Family Features"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Family Organization"}),": Enable household and group management for family coordination"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication"}),": Facilitate secure messaging and photo sharing within your family"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Event Planning"}),": Coordinate family events, tasks, and calendar management"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Profile Management"}),": Maintain family member profiles and contact information"]})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Premium Features"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Subscription Services"}),": Process payments and manage premium feature access"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Mailing Labels"}),": Generate professional labels for family events and correspondence"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Advanced Planning"}),": Provide enhanced event and household management tools"]})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Information Sharing and Disclosure"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Within Your Family Network"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Family Members Only"}),": Your information is shared only with family members you invite to your household or groups"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Household Sharing"}),": Basic profile information is visible to other members of your household"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Group Participation"}),": Event and task information is shared with members of specific family groups"]})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"No Public Sharing"}),i.jsx("p",{children:i.jsx("strong",{children:"We never sell, rent, or publicly share your personal or family information with third parties for marketing purposes."})}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Children's Privacy (COPPA Compliance)"}),i.jsx("p",{children:"My Branches is designed to be family-friendly and safe for children:"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Parental Control"}),": Parents and household administrators control family group membership"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Private Networks"}),": Children can only interact with invited family members"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No Public Features"}),": No public posting, stranger contact, or open social networking"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Limited Data Collection"}),": We collect minimal information from children under 13"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Parental Access"}),": Parents can review, modify, or delete their child's information"]})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Data Security"}),i.jsx("p",{children:"We implement robust security measures to protect your family's information:"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Encryption"}),": All data is encrypted in transit and at rest"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Access Controls"}),": Strict access controls limit who can view your family data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Family-Only Access"}),": Your data is only accessible to your invited family members"]})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Your Privacy Rights"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Account Management"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Access"}),": View and download your personal and family data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Correction"}),": Update or correct inaccurate information"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deletion"}),": Request deletion of your account and associated data through the app"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Portability"}),": Export your family data in a portable format"]})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Contact Us"}),i.jsx("p",{children:"If you have questions about this Privacy Policy or our privacy practices, please contact us:"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Email"}),": support@mybranches.app"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Privacy Requests"}),": Use the account deletion feature in your profile settings for data removal requests"]})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"Changes to This Policy"}),i.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Effective Date" at the top.'}),i.jsx("p",{className:"mt-8 text-sm text-muted-foreground",children:"This privacy policy is designed to comply with applicable privacy laws including GDPR, CCPA, and COPPA to ensure your family's privacy and safety."})]})})})}function m5(){return m.useEffect(()=>{document.title="Terms of Service - My Branches"},[]),i.jsx("div",{className:"min-h-screen bg-background",children:i.jsx("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:i.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[i.jsx("h1",{className:"text-4xl font-bold mb-6",children:"My Branches - Terms of Service"}),i.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:i.jsx("strong",{children:"Effective Date: September 12, 2025"})}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"1. Acceptance of Terms"}),i.jsx("p",{children:'By downloading, accessing, or using the My Branches family collaboration application ("the Service"), you agree to be bound by these Terms of Service ("Terms"). If you disagree with any part of these Terms, you may not use our Service.'}),i.jsx("p",{children:i.jsx("strong",{children:"My Branches is designed specifically for family communication and organization. These Terms are crafted with family safety and collaboration in mind."})}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"2. Description of Service"}),i.jsx("p",{children:"My Branches is a family collaboration platform that provides:"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Free Features (Basic Plan)"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Family household creation and management"}),i.jsx("li",{children:"Group messaging and photo sharing within your family"}),i.jsx("li",{children:"Event planning and coordination"}),i.jsx("li",{children:"Task assignment and tracking"}),i.jsx("li",{children:"Family member profiles and contact management"})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Premium Features (My Branches Premium - $5.99/month)"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Professional mailing label printing (Avery 5160 format)"}),i.jsx("li",{children:"Advanced event planning and coordination tools"}),i.jsx("li",{children:"Enhanced group management capabilities"}),i.jsx("li",{children:"Priority customer support"}),i.jsx("li",{children:"Extended family network features"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"3. Account Registration and Family Households"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Account Creation"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"You must provide accurate and complete information when creating your account"}),i.jsx("li",{children:"You are responsible for maintaining the security of your account credentials"}),i.jsx("li",{children:"You must be at least 13 years old to create an account independently"})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Family Households"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Household Owners"})," have administrative control over their family household"]}),i.jsx("li",{children:"Household Owners can invite family members and manage household settings"}),i.jsx("li",{children:"Each user can belong to one primary household and participate in multiple family groups"}),i.jsx("li",{children:"Household Owners are responsible for the conduct of their household members"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"4. Subscription Terms"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Billing and Payment"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Premium subscriptions are billed monthly at $5.99 USD or annually at $60 USD"}),i.jsx("li",{children:"Subscriptions automatically renew unless cancelled before the next billing cycle"}),i.jsx("li",{children:"Payment is processed securely through our payment partners (Stripe for web, RevenueCat for mobile)"}),i.jsx("li",{children:"Household-level subscriptions benefit all members of the subscribing household"})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Subscription Management"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"You may cancel your subscription at any time through account settings"}),i.jsx("li",{children:"Cancellation takes effect at the end of the current billing period"}),i.jsx("li",{children:"No refunds for partial months or unused premium features"}),i.jsx("li",{children:"Downgrade to Basic plan occurs immediately upon subscription expiration"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"5. Acceptable Use Policy"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Family-Friendly Communication"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"My Branches is designed for family communication and must be used respectfully"}),i.jsx("li",{children:"Content must be appropriate for family environments, including children"}),i.jsx("li",{children:"No harassment, bullying, or inappropriate behavior toward family members"}),i.jsx("li",{children:"Respect privacy and boundaries of all family members"})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Prohibited Content"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Illegal content, activities, or materials"}),i.jsx("li",{children:"Hate speech, discriminatory language, or offensive content"}),i.jsx("li",{children:"Spam, commercial advertising, or promotional content unrelated to family coordination"}),i.jsx("li",{children:"Content that violates intellectual property rights"}),i.jsx("li",{children:"Malicious software, viruses, or harmful code"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"6. Family Content and Privacy"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Content Ownership"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"You retain ownership of content you create and share within your family"}),i.jsx("li",{children:"By sharing content in My Branches, you grant family members permission to view and interact with that content"}),i.jsx("li",{children:"Shared family content (photos, messages, events) may remain accessible to other family members even if you leave a group"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"7. Children and Family Safety"}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Parental Responsibility"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Parents/guardians are responsible for supervising their children's use of My Branches"}),i.jsx("li",{children:"Household Owners can manage and monitor family member participation"}),i.jsx("li",{children:"Parents may review, edit, or delete content associated with their children's accounts"})]}),i.jsx("h3",{className:"text-xl font-semibold mt-6 mb-3",children:"Child Safety Features"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Children can only interact with invited family members (no stranger contact)"}),i.jsx("li",{children:"No public posting or open social networking features"}),i.jsx("li",{children:"Parents control which family groups children can participate in"}),i.jsx("li",{children:"COPPA-compliant design with minimal data collection from children under 13"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"8. Account Termination"}),i.jsx("p",{children:"You may delete your account at any time through the account deletion feature in your profile settings. Upon account deletion:"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsx("li",{children:"Your account and personal data will be permanently removed"}),i.jsx("li",{children:"Shared family content may remain accessible to other family members"}),i.jsx("li",{children:"Any active subscriptions will be cancelled"}),i.jsx("li",{children:"This action cannot be undone"})]}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"9. Limitation of Liability"}),i.jsx("p",{children:'My Branches is provided "as is" without warranties of any kind. We are not liable for any damages arising from your use of the service, except as required by applicable law.'}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"10. Changes to Terms"}),i.jsx("p",{children:"We may modify these Terms from time to time. We will notify users of material changes via email or in-app notification. Continued use of the service after changes constitutes acceptance of new terms."}),i.jsx("h2",{className:"text-2xl font-semibold mt-8 mb-4",children:"11. Contact Information"}),i.jsx("p",{children:"If you have questions about these Terms, please contact us:"}),i.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Email"}),": support@mybranches.app"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Account Deletion"}),": Use the account deletion feature in your profile settings"]})]}),i.jsx("p",{className:"mt-8 text-sm text-muted-foreground",children:"These terms are designed to protect families while enabling meaningful connections and coordination through our platform."})]})})})}function p5(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(le,{className:"w-full max-w-md mx-4",children:i.jsxs(de,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(wm,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function g5(){const{isAuthenticated:e,isLoading:t}=Yt();return N1(),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):i.jsxs(D_,{children:[i.jsx(jt,{path:"/invite/:token",component:Y$}),i.jsx(jt,{path:"/privacy-policy",component:h5}),i.jsx(jt,{path:"/terms-of-service",component:m5}),e?i.jsxs(q$,{children:[i.jsx(jt,{path:"/",component:gD}),i.jsx(jt,{path:"/household",component:D$}),i.jsx(jt,{path:"/contacts",component:L3}),i.jsx(jt,{path:"/groups",component:q3}),i.jsx(jt,{path:"/groups/:groupId/settings",component:K$}),i.jsx(jt,{path:"/groups/:groupId/labels",component:f5}),i.jsx(jt,{path:"/household/:id",component:G$}),i.jsx(jt,{path:"/events",component:c$}),i.jsx(jt,{path:"/chat",component:bw}),i.jsx(jt,{path:"/chat/:groupId",component:bw}),i.jsx(jt,{path:"/profile",component:I$}),i.jsx(jt,{path:"/pricing",component:A$}),i.jsx(jt,{path:"/join-household",component:R$}),i.jsx(jt,{path:"/search",component:O$}),i.jsx(JM,{})]}):i.jsx(jt,{path:"/",component:t4}),i.jsx(jt,{component:p5})]})}function x5(){return i.jsx(nP,{client:ja,children:i.jsxs(OA,{children:[i.jsx(lI,{}),i.jsx(QM,{}),i.jsx(g5,{})]})})}qb(document.getElementById("root")).render(i.jsx(x5,{}));export{uw as R,mw as V,zN as W,vw as a};
